/*! For license information please see 1590-f6f39523b99c6c7995aa.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[1590],{8837:function(t,e,n){"use strict";n.d(e,{z:function(){return m}});var r=n(87462),i=n(63366),o=n(84481),a=(n(45697),n(94780)),c=n(28562);function u(t){return(0,c.Z)("MuiButton",t)}(0,n(1588).Z)("MuiButton",["root","active","disabled","focusVisible"]);var s=n(99962),l=n(33703),d=n(30437);var f=n(73945),h=n(31873),p=n(85893);const v=["action","children","disabled","focusableWhenDisabled","onFocusVisible","slotProps","slots"],m=o.forwardRef((function(t,e){var n;const{action:c,children:m,focusableWhenDisabled:g=!1,slotProps:y={},slots:b={}}=t,w=(0,i.Z)(t,v),x=o.useRef(),{active:_,focusVisible:C,setFocusVisible:E,getRootProps:k}=function(t={}){const{disabled:e=!1,focusableWhenDisabled:n,href:i,rootRef:a,tabIndex:c,to:u,type:f}=t,h=o.useRef(),[p,v]=o.useState(!1),{isFocusVisibleRef:m,onFocus:g,onBlur:y,ref:b}=(0,s.Z)(),[w,x]=o.useState(!1);e&&!n&&w&&x(!1),o.useEffect((()=>{m.current=w}),[w,m]);const[_,C]=o.useState(""),E=t=>e=>{var n;w&&e.preventDefault(),null==(n=t.onMouseLeave)||n.call(t,e)},k=t=>e=>{var n,r;h.current||(h.current=e.currentTarget),g(e),!0===m.current&&(x(!0),null==(r=t.onFocusVisible)||r.call(t,e)),null==(n=t.onFocus)||n.call(t,e)},$=()=>{const t=h.current;return"BUTTON"===_||"INPUT"===_&&["button","submit","reset"].includes(null==t?void 0:t.type)||"A"===_&&(null==t?void 0:t.href)},S=t=>n=>{var r;e||null==(r=t.onClick)||r.call(t,n)},A=t=>n=>{var r;e||(v(!0),document.addEventListener("mouseup",(()=>{v(!1)}),{once:!0})),null==(r=t.onMouseDown)||r.call(t,n)},O=t=>n=>{var r,i;null==(r=t.onKeyDown)||r.call(t,n),n.defaultMuiPrevented||(n.target!==n.currentTarget||$()||" "!==n.key||n.preventDefault(),n.target!==n.currentTarget||" "!==n.key||e||v(!0),n.target!==n.currentTarget||$()||"Enter"!==n.key||e||(null==(i=t.onClick)||i.call(t,n),n.preventDefault()))},L=t=>n=>{var r,i;n.target===n.currentTarget&&v(!1),null==(r=t.onKeyUp)||r.call(t,n),n.target!==n.currentTarget||$()||e||" "!==n.key||n.defaultMuiPrevented||null==(i=t.onClick)||i.call(t,n)},M=o.useCallback((t=>{var e;C(null!=(e=null==t?void 0:t.tagName)?e:"")}),[]),R=(0,l.Z)(M,a,b,h),P={};return void 0!==c&&(P.tabIndex=c),"BUTTON"===_?(P.type=null!=f?f:"button",n?P["aria-disabled"]=e:P.disabled=e):""!==_&&(i||u||(P.role="button",P.tabIndex=null!=c?c:0),e&&(P["aria-disabled"]=e,P.tabIndex=n?null!=c?c:0:-1)),{getRootProps:(e={})=>{const n=(0,r.Z)({},(0,d._)(t),(0,d._)(e)),i=(0,r.Z)({type:f},n,P,e,{onBlur:(o=n,t=>{var e;y(t),!1===m.current&&x(!1),null==(e=o.onBlur)||e.call(o,t)}),onClick:S(n),onFocus:k(n),onKeyDown:O(n),onKeyUp:L(n),onMouseDown:A(n),onMouseLeave:E(n),ref:R});var o;return delete i.onFocusVisible,i},focusVisible:w,setFocusVisible:x,active:p,rootRef:R}}((0,r.Z)({},t,{focusableWhenDisabled:g}));o.useImperativeHandle(c,(()=>({focusVisible:()=>{E(!0),x.current.focus()}})),[E]);const $=(0,r.Z)({},t,{active:_,focusableWhenDisabled:g,focusVisible:C}),S=(t=>{const{active:e,disabled:n,focusVisible:r}=t,i={root:["root",n&&"disabled",r&&"focusVisible",e&&"active"]};return(0,a.Z)(i,(0,h.T)(u))})($),A=w.href||w.to?"a":"button",O=null!=(n=b.root)?n:A,L=(0,f.y)({elementType:O,getSlotProps:k,externalForwardedProps:w,externalSlotProps:y.root,additionalProps:{ref:e},ownerState:$,className:S.root});return(0,p.jsx)(O,(0,r.Z)({},L,{children:m}))}))},78385:function(t,e,n){"use strict";n.d(e,{h:function(){return s}});var r=n(84481),i=n(97170),o=(n(45697),n(33703)),a=n(73546),c=n(7960),u=n(85893);const s=r.forwardRef((function(t,e){const{children:n,container:s,disablePortal:l=!1}=t,[d,f]=r.useState(null),h=(0,o.Z)(r.isValidElement(n)?n.ref:null,e);if((0,a.Z)((()=>{l||f(function(t){return"function"==typeof t?t():t}(s)||document.body)}),[s,l]),(0,a.Z)((()=>{if(d&&!l)return(0,c.Z)(e,d),()=>{(0,c.Z)(e,null)}}),[e,d,l]),l){if(r.isValidElement(n)){const t={ref:h};return r.cloneElement(n,t)}return(0,u.jsx)(r.Fragment,{children:n})}return(0,u.jsx)(r.Fragment,{children:d?i.createPortal(n,d):d})}))},31873:function(t,e,n){"use strict";n.d(e,{T:function(){return a}});var r=n(84481);n(85893);const i={disableDefaultClasses:!1},o=r.createContext(i);function a(t){const{disableDefaultClasses:e}=r.useContext(o);return n=>e?"":t(n)}},30437:function(t,e,n){"use strict";function r(t,e=[]){if(void 0===t)return{};const n={};return Object.keys(t).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof t[n]&&!e.includes(n))).forEach((e=>{n[e]=t[e]})),n}n.d(e,{_:function(){return r}})},28442:function(t,e,n){"use strict";function r(t){return"string"==typeof t}n.d(e,{X:function(){return r}})},71276:function(t,e,n){"use strict";function r(t,e,n){return"function"==typeof t?t(e,n):t}n.d(e,{x:function(){return r}})},73945:function(t,e,n){"use strict";n.d(e,{y:function(){return f}});var r=n(87462),i=n(63366),o=n(33703),a=n(28442);var c=n(90512),u=n(30437);function s(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"==typeof t[e]))).forEach((n=>{e[n]=t[n]})),e}var l=n(71276);const d=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function f(t){var e;const{elementType:n,externalSlotProps:f,ownerState:h,skipResolvingSlotProps:p=!1}=t,v=(0,i.Z)(t,d),m=p?{}:(0,l.x)(f,h),{props:g,internalRef:y}=function(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:i,externalForwardedProps:o,className:a}=t;if(!e){const t=(0,c.Z)(null==o?void 0:o.className,null==i?void 0:i.className,a,null==n?void 0:n.className),e=(0,r.Z)({},null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),u=(0,r.Z)({},n,o,i);return t.length>0&&(u.className=t),Object.keys(e).length>0&&(u.style=e),{props:u,internalRef:void 0}}const l=(0,u._)((0,r.Z)({},o,i)),d=s(i),f=s(o),h=e(l),p=(0,c.Z)(null==h?void 0:h.className,null==n?void 0:n.className,a,null==o?void 0:o.className,null==i?void 0:i.className),v=(0,r.Z)({},null==h?void 0:h.style,null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),m=(0,r.Z)({},h,n,f,d);return p.length>0&&(m.className=p),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:h.ref}}((0,r.Z)({},v,{externalSlotProps:m})),b=(0,o.Z)(y,null==m?void 0:m.ref,null==(e=t.additionalProps)?void 0:e.ref),w=function(t,e,n){return void 0===t||(0,a.X)(t)?e:(0,r.Z)({},e,{ownerState:(0,r.Z)({},e.ownerState,n)})}(n,(0,r.Z)({},g,{ref:b}),h);return w}},94780:function(t,e,n){"use strict";function r(t,e,n=void 0){const r={};return Object.keys(t).forEach((i=>{r[i]=t[i].reduce(((t,r)=>{if(r){const i=e(r);""!==i&&t.push(i),n&&n[r]&&t.push(n[r])}return t}),[]).join(" ")})),r}n.d(e,{Z:function(){return r}})},28562:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});const r=t=>t;var i=(()=>{let t=r;return{configure(e){t=e},generate(e){return t(e)},reset(){t=r}}})();const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function a(t,e,n="Mui"){const r=o[e];return r?`${n}-${r}`:`${i.generate(t)}-${e}`}},1588:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(28562);function i(t,e,n="Mui"){const i={};return e.forEach((e=>{i[e]=(0,r.Z)(t,e,n)})),i}},82690:function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}n.d(e,{Z:function(){return r}})},7960:function(t,e,n){"use strict";function r(t,e){"function"==typeof t?t(e):t&&(t.current=e)}n.d(e,{Z:function(){return r}})},19032:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(84481);function i({controlled:t,default:e,name:n,state:i="value"}){const{current:o}=r.useRef(void 0!==t),[a,c]=r.useState(e);return[o?t:a,r.useCallback((t=>{o||c(t)}),[])]}},73546:function(t,e,n){"use strict";var r=n(84481);const i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;e.Z=i},33703:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(84481),i=n(7960);function o(...t){return r.useMemo((()=>t.every((t=>null==t))?null:e=>{t.forEach((t=>{(0,i.Z)(t,e)}))}),t)}},99962:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(84481);let i,o=!0,a=!1;const c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(t){t.metaKey||t.altKey||t.ctrlKey||(o=!0)}function s(){o=!1}function l(){"hidden"===this.visibilityState&&a&&(o=!0)}function d(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(t){}return o||function(t){const{type:e,tagName:n}=t;return!("INPUT"!==n||!c[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}function f(){const t=r.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",u,!0),e.addEventListener("mousedown",s,!0),e.addEventListener("pointerdown",s,!0),e.addEventListener("touchstart",s,!0),e.addEventListener("visibilitychange",l,!0))}),[]),e=r.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!d(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(a=!0,window.clearTimeout(i),i=window.setTimeout((()=>{a=!1}),100),e.current=!1,!0)},ref:t}}},66931:function(t,e,n){"use strict";n.d(e,{zx:function(){return h},tS:function(){return r},hZ:function(){return i}});var r,i,o=n(85893),a=n(84481),c=n(94184),u=n.n(c),s=n(8837),l=n(87850),d=["variant","size","children","className","fullWidth"];!function(t){t.EXTRA_SMALL="extraSmall",t.SMALL="small",t.MEDIUM="medium",t.LARGE="large"}(r||(r={})),function(t){t.PRIMARY="primary",t.SECONDARY="secondary",t.TERTIARY="tertiary",t.HOLLOW="hollow",t.TEXT="text"}(i||(i={}));var f=(0,a.forwardRef)((function(t,e){var n,a,c=t.variant,f=void 0===c?i.PRIMARY:c,h=t.size,p=void 0===h?r.SMALL:h,v=t.children,m=t.className,g=t.fullWidth,y=void 0!==g&&g,b=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,d),w=(0,l.F)("button"),x=u()(w.Button,w[f],w[p],((n={})[w.fullWidth]=y,n),m),_=u()(b.pendingClassName);return(0,o.jsx)(s.z,Object.assign({},b,{className:u()(x,(a={},a[_]=b.pending,a)),ref:e,children:b.pending&&b.pendingChildren?b.pendingChildren:v}))}));f.displayName="Button";var h=f},61709:function(t,e,n){"use strict";n.d(e,{cS:function(){return i},xu:function(){return b},CV:function(){return d},wT:function(){return a}});var r,i,o,a,c,u,s,l,d,f=n(85893),h=n(84481);!function(t){t.BASELINE="Baseline",t.CENTER="Center",t.END="End",t.FIRSTBASELINE="FirstBaseline",t.FLEXEND="FlexEnd",t.FLEXSTART="FlexStart",t.LASTBASELINE="LastBaseline",t.NORMAL="Normal",t.SPACEAROUND="SpaceAround",t.SPACEBETWEEN="SpaceBetween",t.SPACEEVENLY="SpaceEvenly",t.START="Start",t.STRETCH="Stretch"}(r||(r={})),function(t){t.BASELINE="Baseline",t.CENTER="Center",t.END="End",t.FIRSTBASELINE="FirstBaseline",t.FLEXEND="FlexEnd",t.FLEXSTART="FlexStart",t.LASTBASELINE="LastBaseline",t.NORMAL="Normal",t.SELFEND="SelfEnd",t.SELFSTART="SelfStart",t.START="Start",t.STRETCH="Stretch"}(i||(i={})),function(t){t.AUTO="Auto",t.BASELINE="Baseline",t.CENTER="Center",t.FIRSTBASELINE="FirstBaseline",t.FLEXEND="FlexEnd",t.FLEXSTART="FlexStart",t.LASTBASELINE="LastBaseline",t.NORMAL="Normal",t.SELFEND="SelfEnd",t.SELFSTART="SelfStart",t.STRETCH="Stretch"}(o||(o={})),function(t){t.CENTER="Center",t.END="End",t.FLEXEND="FlexEnd",t.FLEXSTART="FlexStart",t.LEFT="Left",t.NORMAL="Normal",t.RIGHT="Right",t.SPACEAROUND="SpaceAround",t.SPACEBETWEEN="SpaceBetween",t.SPACEEVENLY="SpaceEvenly",t.START="Start",t.STRETCH="Stretch"}(a||(a={})),function(t){t.BASELINE="Baseline",t.CENTER="Center",t.END="End",t.FIRSTBASELINE="FirstBaseline",t.FLEXEND="FlexEnd",t.FLEXSTART="FlexStart",t.LASTBASELINE="LastBaseline",t.LEFT="Left",t.LEGACY="Legacy",t.NORMAL="Normal",t.RIGHT="Right",t.SELFEND="SelfEnd",t.SELFSTART="SelfStart",t.START="Start",t.STRETCH="Stretch"}(c||(c={})),function(t){t.AUTO="Auto",t.BASELINE="Baseline",t.CENTER="Center",t.END="End",t.FIRSTBASELINE="FirstBaseline",t.FLEXEND="FlexEnd",t.FLEXSTART="FlexStart",t.LASTBASELINE="LastBaseline",t.LEFT="Left",t.NORMAL="Normal",t.RIGHT="Right",t.SELFEND="SelfEnd",t.SELFSTART="SelfStart",t.START="Start",t.STRETCH="Stretch"}(u||(u={})),function(t){t.COLUMN="Column",t.COLUMNREVERSE="ColumnReverse",t.ROW="Row",t.ROWREVERSE="RowReverse",t.UNSET="Unset"}(s||(s={})),function(t){t.NOWRAP="Nowrap",t.WRAP="Wrap",t.WRAPREVERSE="WrapReverse"}(l||(l={})),function(t){t.BLOCK="Block",t.INLINEBLOCK="InlineBlock",t.FLEX="Flex",t.INLINEFLEX="InlineFlex"}(d||(d={}));var p=n(94184),v=n.n(p),m=n(87850),g=["flex","flexGrow","flexBasis","flexShrink","order","children","className","style","alignContent","alignItems","alignSelf","justifyContent","justifyItems","justifySelf","flexDirection","display","flexWrap","as"];var y=(0,h.forwardRef)((function(t,e){var n,r=t.flex,i=t.flexGrow,o=t.flexBasis,a=t.flexShrink,c=t.order,u=t.children,l=t.className,f=t.style,p=t.alignContent,y=t.alignItems,b=t.alignSelf,w=t.justifyContent,x=t.justifyItems,_=t.justifySelf,C=t.flexDirection,E=void 0===C?s.ROW:C,k=t.display,$=void 0===k?d.BLOCK:k,S=t.flexWrap,A=t.as,O=void 0===A?"div":A,L=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,g),M=(0,m.F)("flexBox"),R=v()(M.flexBox,l,((n={})[M["display"+$]]=$,n[M["alignContent"+p]]=p,n[M["alignItems"+y]]=y,n[M["alignSelf"+b]]=b,n[M["justifyContent"+w]]=w,n[M["justifyItems"+x]]=x,n[M["justifySelf"+_]]=_,n[M["flexDirection"+E]]=E,n[M["flexWrap"+S]]=S,n));return(0,h.createElement)(O,Object.assign({style:Object.assign({flex:r,flexGrow:i,flexBasis:o,flexShrink:a,order:c},f)},L,{className:R,ref:e}),u)}));y.displayName="Box";var b=y,w=["children"];var x=(0,h.forwardRef)((function(t,e){var n=t.children,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,w);return(0,f.jsx)(b,Object.assign({ref:e,display:d.FLEX},r,{children:n}))}));x.displayName="Flex"},91740:function(t,e,n){"use strict";n.d(e,{h:function(){return d}});var r=n(85893),i=n(84481),o=n(94184),a=n.n(o),c=n(87850),u=n(8837),s=["ariaLabel","children","className"];var l=(0,i.forwardRef)((function(t,e){var n=t.ariaLabel,i=t.children,o=t.className,l=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s),d=(0,c.F)("iconButton"),f=a()(d.IconButton,o);return(0,r.jsx)(u.z,Object.assign({},l,{"aria-label":n,className:f,ref:e,children:i}))}));l.displayName="IconButton";var d=l},78201:function(t,e,n){"use strict";n.d(e,{Og:function(){return i},Tw:function(){return o},L4:function(){return c},Cd:function(){return u}});var r=n(85893),i=function(t){var e=t.id,n=t.className,i=t.checkColor,o=void 0===i?"#0E0F0F":i;return(0,r.jsxs)("svg",{id:e,className:n,width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_635_3768)",children:[(0,r.jsx)("rect",{width:"18",height:"18",fill:"white"}),(0,r.jsx)("path",{d:"M17 1V17H1V1H17V1ZM18 0H0V18H18V0Z",fill:"#0C0D0D"}),(0,r.jsx)("path",{d:"M7.81934 13.3293L3.66406 9.19354L5.07422 7.77557L7.81543 10.5041L13.1855 5.13446L14.5996 6.54852L7.81934 13.3293Z",fill:o})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_635_3768",children:(0,r.jsx)("rect",{width:"18",height:"18",fill:"white"})})})]})},o=function(t){var e=t.id,n=t.className,i=t.iconColor,o=void 0===i?"#0D0D0D":i;return(0,r.jsx)("svg",{id:e,className:n,width:"18",height:"18",viewBox:"3 3 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M19.9904 18.8238L18.8334 20L12 13.157L5.16661 19.9904L4.00955 18.8334L10.8429 12.0191L4.00956 5.17617L5.1666 4L12.0191 10.8429L18.8429 4.00956L19.9809 5.16661L13.1762 12L19.9904 18.8238Z",fill:o})})},a=["primaryColor","secondaryColor"];var c=function(t){var e=t.primaryColor,n=t.secondaryColor,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,a);return(0,r.jsx)("svg",Object.assign({width:"40",height:"40",viewBox:"-20 -20 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:n},i,{children:(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2","data-testid":"oval-secondary-group",children:[(0,r.jsx)("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:"20",stroke:e,strokeWidth:"2"}),(0,r.jsx)("path",{d:"M20 0c0-9.94-8.06-20-20-20",children:(0,r.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"})})]})})}))},u=function(t){var e=t.id,n=t.className;return(0,r.jsxs)("svg",{id:e,className:n,width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_635_3768)",children:[(0,r.jsx)("rect",{width:"18",height:"18",fill:"white"}),(0,r.jsx)("path",{d:"M17 1V17H1V1H17ZM18 0H0V18H18V0Z",fill:"#0C0D0D"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_635_3768",children:(0,r.jsx)("rect",{width:"18",height:"18",fill:"white"})})})]})}},27868:function(t,e,n){"use strict";n.d(e,{r:function(){return l}});var r=n(85893),i=n(84481),o=n(94184),a=n.n(o),c=n(87850),u=["children","href","buttonStyleProps","ariaLabel","className"];var s=(0,i.forwardRef)((function(t,e){var n=t.children,i=t.href,o=t.buttonStyleProps,s=t.ariaLabel,l=t.className,d=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,u),f=(0,c.F)("link"),h=(0,c.F)("button"),p=o?function(t,e){var n,r=e.fullWidth,i=e.variant,o=e.size;return a()(t.Button,t[i],t[o],((n={})[t.fullWidth]=r,n))}(h,o):f.Link,v=a()(p,l);return(0,r.jsx)("a",Object.assign({},d,{ref:e,"aria-label":s,href:i,className:v,children:n}))}));s.displayName="Link";var l=s},20056:function(t,e,n){"use strict";n.d(e,{a:function(){return u},H:function(){return l}});var r=n(85893),i=n(94184),o=n.n(i),a=n(87850),c=["children","className","orderedList"];var u=function(t){var e=t.children,n=t.className,i=t.orderedList,u=void 0!==i&&i,s=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,c),l=(0,a.F)("list"),d=o()(l.List,n);return u?(0,r.jsx)("ol",Object.assign({},s,{className:d,children:e})):(0,r.jsx)("ul",Object.assign({},s,{className:d,children:e}))},s=["children","className"];var l=function(t){var e=t.children,n=t.className,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s),c=(0,a.F)("list"),u=o()(c.ListItem,n);return(0,r.jsx)("li",Object.assign({},i,{className:u,children:e}))}},36178:function(t,e,n){"use strict";n.d(e,{$:function(){return d}});var r=n(85893),i=n(84481),o=n(94184),a=n.n(o),c=n(87850),u=n(78201),s=["className"];var l=(0,i.forwardRef)((function(t,e){var n=t.className,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s),o=(0,c.F)("spinner"),l=a()(o.spinner,n);return(0,r.jsx)("div",Object.assign({},i,{className:l,ref:e,children:(0,r.jsx)(u.L4,{})}))}));l.displayName="Spinner";var d=l},21994:function(t,e,n){"use strict";n.d(e,{u:function(){return Ht}});var r=n(85893),i=n(84481),o=n.n(i),a=n(94184),c=n.n(a),u=n(87850),s=n(2091),l=n(87462),d=n(63366),f=n(33703),h=n(73546),p=n(82690);function v(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function m(t){return t instanceof v(t).Element||t instanceof Element}function g(t){return t instanceof v(t).HTMLElement||t instanceof HTMLElement}function y(t){return"undefined"!=typeof ShadowRoot&&(t instanceof v(t).ShadowRoot||t instanceof ShadowRoot)}var b=Math.max,w=Math.min,x=Math.round;function _(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function C(){return!/^((?!chrome|android).)*safari/i.test(_())}function E(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&g(t)&&(i=t.offsetWidth>0&&x(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&x(r.height)/t.offsetHeight||1);var a=(m(t)?v(t):window).visualViewport,c=!C()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/i,s=(r.top+(c&&a?a.offsetTop:0))/o,l=r.width/i,d=r.height/o;return{width:l,height:d,top:s,right:u+l,bottom:s+d,left:u,x:u,y:s}}function k(t){var e=v(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function $(t){return t?(t.nodeName||"").toLowerCase():null}function S(t){return((m(t)?t.ownerDocument:t.document)||window.document).documentElement}function A(t){return E(S(t)).left+k(t).scrollLeft}function O(t){return v(t).getComputedStyle(t)}function L(t){var e=O(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function M(t,e,n){void 0===n&&(n=!1);var r,i,o=g(e),a=g(e)&&function(t){var e=t.getBoundingClientRect(),n=x(e.width)/t.offsetWidth||1,r=x(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),c=S(e),u=E(t,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!n)&&(("body"!==$(e)||L(c))&&(s=(r=e)!==v(r)&&g(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:k(r)),g(e)?((l=E(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):c&&(l.x=A(c))),{x:u.left+s.scrollLeft-l.x,y:u.top+s.scrollTop-l.y,width:u.width,height:u.height}}function R(t){var e=E(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function P(t){return"html"===$(t)?t:t.assignedSlot||t.parentNode||(y(t)?t.host:null)||S(t)}function I(t){return["html","body","#document"].indexOf($(t))>=0?t.ownerDocument.body:g(t)&&L(t)?t:I(P(t))}function T(t,e){var n;void 0===e&&(e=[]);var r=I(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=v(r),a=i?[o].concat(o.visualViewport||[],L(r)?r:[]):r,c=e.concat(a);return i?c:c.concat(T(P(a)))}function D(t){return["table","td","th"].indexOf($(t))>=0}function B(t){return g(t)&&"fixed"!==O(t).position?t.offsetParent:null}function j(t){for(var e=v(t),n=B(t);n&&D(n)&&"static"===O(n).position;)n=B(n);return n&&("html"===$(n)||"body"===$(n)&&"static"===O(n).position)?e:n||function(t){var e=/firefox/i.test(_());if(/Trident/i.test(_())&&g(t)&&"fixed"===O(t).position)return null;var n=P(t);for(y(n)&&(n=n.host);g(n)&&["html","body"].indexOf($(n))<0;){var r=O(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var N="top",F="bottom",z="right",Z="left",H="auto",V=[N,F,z,Z],U="start",G="end",W="clippingParents",K="viewport",X="popper",Y="reference",q=V.reduce((function(t,e){return t.concat([e+"-"+U,e+"-"+G])}),[]),J=[].concat(V,[H]).reduce((function(t,e){return t.concat([e,e+"-"+U,e+"-"+G])}),[]),Q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function tt(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}var et={placement:"bottom",modifiers:[],strategy:"absolute"};function nt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function rt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?et:i;return function(t,e,n){void 0===n&&(n=o);var i,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},et,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},u=[],s=!1,l={state:c,setOptions:function(n){var i="function"==typeof n?n(c.options):n;d(),c.options=Object.assign({},o,c.options,i),c.scrollParents={reference:m(t)?T(t):t.contextElement?T(t.contextElement):[],popper:T(e)};var a,s,f=function(t){var e=tt(t);return Q.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(r,c.options.modifiers),s=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(s).map((function(t){return s[t]}))));return c.orderedModifiers=f.filter((function(t){return t.enabled})),c.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var o=i({state:c,name:e,instance:l,options:r}),a=function(){};u.push(o||a)}})),l.update()},forceUpdate:function(){if(!s){var t=c.elements,e=t.reference,n=t.popper;if(nt(e,n)){c.rects={reference:M(e,j(n),"fixed"===c.options.strategy),popper:R(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(t){return c.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var i=c.orderedModifiers[r],o=i.fn,a=i.options,u=void 0===a?{}:a,d=i.name;"function"==typeof o&&(c=o({state:c,options:u,name:d,instance:l})||c)}else c.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){l.forceUpdate(),t(c)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(i())}))}))),a}),destroy:function(){d(),s=!0}};if(!nt(t,e))return l;function d(){u.forEach((function(t){return t()})),u=[]}return l.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var it={passive:!0};function ot(t){return t.split("-")[0]}function at(t){return t.split("-")[1]}function ct(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ut(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?ot(i):null,a=i?at(i):null,c=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case N:e={x:c,y:n.y-r.height};break;case F:e={x:c,y:n.y+n.height};break;case z:e={x:n.x+n.width,y:u};break;case Z:e={x:n.x-r.width,y:u};break;default:e={x:n.x,y:n.y}}var s=o?ct(o):null;if(null!=s){var l="y"===s?"height":"width";switch(a){case U:e[s]=e[s]-(n[l]/2-r[l]/2);break;case G:e[s]=e[s]+(n[l]/2-r[l]/2)}}return e}var st={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lt(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,c=t.position,u=t.gpuAcceleration,s=t.adaptive,l=t.roundOffsets,d=t.isFixed,f=a.x,h=void 0===f?0:f,p=a.y,m=void 0===p?0:p,g="function"==typeof l?l({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),w=Z,_=N,C=window;if(s){var E=j(n),k="clientHeight",$="clientWidth";if(E===v(n)&&"static"!==O(E=S(n)).position&&"absolute"===c&&(k="scrollHeight",$="scrollWidth"),i===N||(i===Z||i===z)&&o===G)_=F,m-=(d&&E===C&&C.visualViewport?C.visualViewport.height:E[k])-r.height,m*=u?1:-1;if(i===Z||(i===N||i===F)&&o===G)w=z,h-=(d&&E===C&&C.visualViewport?C.visualViewport.width:E[$])-r.width,h*=u?1:-1}var A,L=Object.assign({position:c},s&&st),M=!0===l?function(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:x(n*i)/i||0,y:x(r*i)/i||0}}({x:h,y:m},v(n)):{x:h,y:m};return h=M.x,m=M.y,u?Object.assign({},L,((A={})[_]=b?"0":"",A[w]=y?"0":"",A.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",A)):Object.assign({},L,((e={})[_]=b?m+"px":"",e[w]=y?h+"px":"",e.transform="",e))}var dt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=J.reduce((function(t,n){return t[n]=function(t,e,n){var r=ot(t),i=[Z,N].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],c=o[1];return a=a||0,c=(c||0)*i,[Z,z].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}(n,e.rects,o),t}),{}),c=a[e.placement],u=c.x,s=c.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=s),e.modifiersData[r]=a}},ft={left:"right",right:"left",bottom:"top",top:"bottom"};function ht(t){return t.replace(/left|right|bottom|top/g,(function(t){return ft[t]}))}var pt={start:"end",end:"start"};function vt(t){return t.replace(/start|end/g,(function(t){return pt[t]}))}function mt(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&y(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function gt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yt(t,e,n){return e===K?gt(function(t,e){var n=v(t),r=S(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){o=i.width,a=i.height;var s=C();(s||!s&&"fixed"===e)&&(c=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:c+A(t),y:u}}(t,n)):m(e)?function(t,e){var n=E(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):gt(function(t){var e,n=S(t),r=k(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=b(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=b(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+A(t),u=-r.scrollTop;return"rtl"===O(i||n).direction&&(c+=b(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:c,y:u}}(S(t)))}function bt(t,e,n,r){var i="clippingParents"===e?function(t){var e=T(P(t)),n=["absolute","fixed"].indexOf(O(t).position)>=0&&g(t)?j(t):t;return m(n)?e.filter((function(t){return m(t)&&mt(t,n)&&"body"!==$(t)})):[]}(t):[].concat(e),o=[].concat(i,[n]),a=o[0],c=o.reduce((function(e,n){var i=yt(t,n,r);return e.top=b(i.top,e.top),e.right=w(i.right,e.right),e.bottom=w(i.bottom,e.bottom),e.left=b(i.left,e.left),e}),yt(t,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function wt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function xt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function _t(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,a=void 0===o?t.strategy:o,c=n.boundary,u=void 0===c?W:c,s=n.rootBoundary,l=void 0===s?K:s,d=n.elementContext,f=void 0===d?X:d,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,g=void 0===v?0:v,y=wt("number"!=typeof g?g:xt(g,V)),b=f===X?Y:X,w=t.rects.popper,x=t.elements[p?b:f],_=bt(m(x)?x:x.contextElement||S(t.elements.popper),u,l,a),C=E(t.elements.reference),k=ut({reference:C,element:w,strategy:"absolute",placement:i}),$=gt(Object.assign({},w,k)),A=f===X?$:C,O={top:_.top-A.top+y.top,bottom:A.bottom-_.bottom+y.bottom,left:_.left-A.left+y.left,right:A.right-_.right+y.right},L=t.modifiersData.offset;if(f===X&&L){var M=L[i];Object.keys(O).forEach((function(t){var e=[z,F].indexOf(t)>=0?1:-1,n=[N,F].indexOf(t)>=0?"y":"x";O[t]+=M[n]*e}))}return O}function Ct(t,e,n){return b(t,w(e,n))}var Et={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,c=void 0!==a&&a,u=n.boundary,s=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,m=_t(e,{boundary:u,rootBoundary:s,padding:d,altBoundary:l}),g=ot(e.placement),y=at(e.placement),x=!y,_=ct(g),C="x"===_?"y":"x",E=e.modifiersData.popperOffsets,k=e.rects.reference,$=e.rects.popper,S="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,A="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(E){if(o){var M,P="y"===_?N:Z,I="y"===_?F:z,T="y"===_?"height":"width",D=E[_],B=D+m[P],H=D-m[I],V=h?-$[T]/2:0,G=y===U?k[T]:$[T],W=y===U?-$[T]:-k[T],K=e.elements.arrow,X=h&&K?R(K):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=Y[P],J=Y[I],Q=Ct(0,k[T],X[T]),tt=x?k[T]/2-V-Q-q-A.mainAxis:G-Q-q-A.mainAxis,et=x?-k[T]/2+V+Q+J+A.mainAxis:W+Q+J+A.mainAxis,nt=e.elements.arrow&&j(e.elements.arrow),rt=nt?"y"===_?nt.clientTop||0:nt.clientLeft||0:0,it=null!=(M=null==O?void 0:O[_])?M:0,ut=D+et-it,st=Ct(h?w(B,D+tt-it-rt):B,D,h?b(H,ut):H);E[_]=st,L[_]=st-D}if(c){var lt,dt="x"===_?N:Z,ft="x"===_?F:z,ht=E[C],pt="y"===C?"height":"width",vt=ht+m[dt],mt=ht-m[ft],gt=-1!==[N,Z].indexOf(g),yt=null!=(lt=null==O?void 0:O[C])?lt:0,bt=gt?vt:ht-k[pt]-$[pt]-yt+A.altAxis,wt=gt?ht+k[pt]+$[pt]-yt-A.altAxis:mt,xt=h&&gt?function(t,e,n){var r=Ct(t,e,n);return r>n?n:r}(bt,ht,wt):Ct(h?bt:vt,ht,h?wt:mt);E[C]=xt,L[C]=xt-ht}e.modifiersData[r]=L}},requiresIfExists:["offset"]};var kt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,c=ot(n.placement),u=ct(c),s=[Z,z].indexOf(c)>=0?"height":"width";if(o&&a){var l=function(t,e){return wt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:xt(t,V))}(i.padding,n),d=R(o),f="y"===u?N:Z,h="y"===u?F:z,p=n.rects.reference[s]+n.rects.reference[u]-a[u]-n.rects.popper[s],v=a[u]-n.rects.reference[u],m=j(o),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[f],w=g-d[s]-l[h],x=g/2-d[s]/2+y,_=Ct(b,x,w),C=u;n.modifiersData[r]=((e={})[C]=_,e.centerOffset=_-x,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&mt(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $t(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function St(t){return[N,z,F,Z].some((function(e){return t[e]>=0}))}var At=rt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,c=void 0===a||a,u=v(e.elements.popper),s=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&s.forEach((function(t){t.addEventListener("scroll",n.update,it)})),c&&u.addEventListener("resize",n.update,it),function(){o&&s.forEach((function(t){t.removeEventListener("scroll",n.update,it)})),c&&u.removeEventListener("resize",n.update,it)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=ut({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,c=n.roundOffsets,u=void 0===c||c,s={placement:ot(e.placement),variation:at(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,lt(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,lt(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];g(i)&&$(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});g(r)&&$(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},dt,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,c=void 0===a||a,u=n.fallbackPlacements,s=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=e.options.placement,g=ot(m),y=u||(g===m||!p?[ht(m)]:function(t){if(ot(t)===H)return[];var e=ht(t);return[vt(t),e,vt(e)]}(m)),b=[m].concat(y).reduce((function(t,n){return t.concat(ot(n)===H?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,c=n.flipVariations,u=n.allowedAutoPlacements,s=void 0===u?J:u,l=at(r),d=l?c?q:q.filter((function(t){return at(t)===l})):V,f=d.filter((function(t){return s.indexOf(t)>=0}));0===f.length&&(f=d);var h=f.reduce((function(e,n){return e[n]=_t(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[ot(n)],e}),{});return Object.keys(h).sort((function(t,e){return h[t]-h[e]}))}(e,{placement:n,boundary:l,rootBoundary:d,padding:s,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),w=e.rects.reference,x=e.rects.popper,_=new Map,C=!0,E=b[0],k=0;k<b.length;k++){var $=b[k],S=ot($),A=at($)===U,O=[N,F].indexOf(S)>=0,L=O?"width":"height",M=_t(e,{placement:$,boundary:l,rootBoundary:d,altBoundary:f,padding:s}),R=O?A?z:Z:A?F:N;w[L]>x[L]&&(R=ht(R));var P=ht(R),I=[];if(o&&I.push(M[S]<=0),c&&I.push(M[R]<=0,M[P]<=0),I.every((function(t){return t}))){E=$,C=!1;break}_.set($,I)}if(C)for(var T=function(t){var e=b.find((function(e){var n=_.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},D=p?3:1;D>0;D--){if("break"===T(D))break}e.placement!==E&&(e.modifiersData[r]._skip=!0,e.placement=E,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Et,kt,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=_t(e,{elementContext:"reference"}),c=_t(e,{altBoundary:!0}),u=$t(a,r),s=$t(c,i,o),l=St(u),d=St(s);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:s,isReferenceHidden:l,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}}]}),Ot=(n(45697),n(94780)),Lt=n(78385),Mt=n(28562);function Rt(t){return(0,Mt.Z)("MuiPopper",t)}(0,n(1588).Z)("MuiPopper",["root"]);var Pt=n(73945),It=n(31873);const Tt=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Dt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Bt(t){return"function"==typeof t?t():t}function jt(t){return void 0!==t.nodeType}const Nt={},Ft=i.forwardRef((function(t,e){var n;const{anchorEl:o,children:a,direction:c,disablePortal:u,modifiers:s,open:p,placement:v,popperOptions:m,popperRef:g,slotProps:y={},slots:b={},TransitionProps:w}=t,x=(0,d.Z)(t,Tt),_=i.useRef(null),C=(0,f.Z)(_,e),E=i.useRef(null),k=(0,f.Z)(E,g),$=i.useRef(k);(0,h.Z)((()=>{$.current=k}),[k]),i.useImperativeHandle(g,(()=>E.current),[]);const S=function(t,e){if("ltr"===e)return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(v,c),[A,O]=i.useState(S),[L,M]=i.useState(Bt(o));i.useEffect((()=>{E.current&&E.current.forceUpdate()})),i.useEffect((()=>{o&&M(Bt(o))}),[o]),(0,h.Z)((()=>{if(!L||!p)return;let t=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:t})=>{O(t.placement)}}];null!=s&&(t=t.concat(s)),m&&null!=m.modifiers&&(t=t.concat(m.modifiers));const e=At(L,_.current,(0,l.Z)({placement:S},m,{modifiers:t}));return $.current(e),()=>{e.destroy(),$.current(null)}}),[L,u,s,p,m,S]);const R={placement:A};null!==w&&(R.TransitionProps=w);const P=(0,Ot.Z)({root:["root"]},(0,It.T)(Rt)),I=null!=(n=b.root)?n:"div",T=(0,Pt.y)({elementType:I,externalSlotProps:y.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:C},ownerState:t,className:P.root});return(0,r.jsx)(I,(0,l.Z)({},T,{children:"function"==typeof a?a(R):a}))})),zt=i.forwardRef((function(t,e){const{anchorEl:n,children:o,container:a,direction:c="ltr",disablePortal:u=!1,keepMounted:s=!1,modifiers:f,open:h,placement:v="bottom",popperOptions:m=Nt,popperRef:g,style:y,transition:b=!1,slotProps:w={},slots:x={}}=t,_=(0,d.Z)(t,Dt),[C,E]=i.useState(!0);if(!s&&!h&&(!b||C))return null;let k;if(a)k=a;else if(n){const t=Bt(n);k=t&&jt(t)?(0,p.Z)(t).body:(0,p.Z)(null).body}const $=h||!s||b&&!C?void 0:"none",S=b?{in:h,onEnter:()=>{E(!1)},onExited:()=>{E(!0)}}:void 0;return(0,r.jsx)(Lt.h,{disablePortal:u,container:k,children:(0,r.jsx)(Ft,(0,l.Z)({anchorEl:n,direction:c,disablePortal:u,modifiers:f,ref:e,open:b?!C:h,placement:v,popperOptions:m,popperRef:g,slotProps:w,slots:x},_,{style:(0,l.Z)({position:"fixed",top:0,left:0,display:$},y),TransitionProps:S,children:o}))})}));var Zt=["children","content","className","TransitionComponent"];var Ht=function(t){var e=t.children,n=t.content,a=t.className,l=t.TransitionComponent,d=void 0===l?s.Transition:l,f=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Zt),h=(0,i.useRef)(null),p=(0,i.useRef)(null),v=o().useState(null),m=v[0],g=v[1],y=(0,i.useState)(!1),b=y[0],w=y[1],x=(0,u.F)("tooltip"),_=(0,i.useCallback)((function(){w(!0)}),[]),C=(0,i.useCallback)((function(){w(!1)}),[]),E=(0,i.useMemo)((function(){var t;if(p.current)return null==(t=p.current.children)?void 0:t[0]}),[p.current]),k=(0,i.useMemo)((function(){return[{name:"arrow",enabled:Boolean(m),options:{element:m}}]}),[m]);return(0,r.jsxs)("div",{className:x.contentWrapper,ref:p,onMouseEnter:_,onFocus:_,onMouseLeave:C,onBlur:C,children:[o().Children.only(e),(0,r.jsx)(d,{in:b,timeout:200,nodeRef:h,unmountOnExit:!0,children:function(t){return(0,r.jsxs)(zt,Object.assign({},f,{ref:h,anchorEl:E,open:!0,className:c()(x.tooltip,a,x[t]),modifiers:k,disablePortal:!0,children:[(0,r.jsx)("div",{className:c()(x.tooltipContentWrapper),children:n}),(0,r.jsx)("span",{className:"tooltip__arrow "+x.arrow,ref:g})]}))}})]})}},57561:function(t,e,n){"use strict";n.d(e,{ZT:function(){return p},dh:function(){return l},bu:function(){return d},O3:function(){return r}});var r,i,o=n(85893),a=n(94184),c=n.n(a),u=(n(2043),n(87850)),s=["component","variant","children","className"];!function(t){t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.BODY1="body1",t.BODY2="body2",t.CAPTION="caption",t.LEGAL="legal"}(r||(r={})),function(t){t["title.xxxLarge"]="title.xxxLarge",t["title.xxLarge"]="title.xxLarge",t["title.xLarge"]="title.xLarge",t["title.large"]="title.large",t["title.medium"]="title.medium",t["title.small"]="title.small",t["body.large"]="body.large",t["body.small"]="body.small",t["tertiary.small"]="tertiary.small",t["tertiary.large"]="tertiary.large"}(i||(i={}));var l,d={title:{xxxLarge:i["title.xxxLarge"],xxLarge:i["title.xxLarge"],xLarge:i["title.xLarge"],large:i["title.large"],medium:i["title.medium"],small:i["title.small"]},body:{large:i["body.large"],small:i["body.small"]},tertiary:{large:i["tertiary.large"],small:i["tertiary.small"]}};!function(t){t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.P="p",t.SPAN="span",t.CAPTION="caption",t.DIV="div"}(l||(l={}));var f=function(t){0},h=d.body.small,p=function(t){var e=t.component,n=void 0===e?l.P:e,i=t.variant,a=void 0===i?h:i,p=t.children,v=t.className,m=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s),g=function(t){switch(t){case r.H1:return f(),d.title.xxxLarge;case r.H2:return f(),d.title.xxLarge;case r.H3:return f(),d.title.xLarge;case r.H4:return f(),d.title.large;case r.H5:return f(),d.title.medium;case r.H6:return f(),d.title.small;case r.BODY1:return f(),d.body.small;case r.BODY2:return f(),d.body.large;case r.CAPTION:return f(),d.tertiary.large;case r.LEGAL:return f(),d.tertiary.small;default:return t}}(a).replace(".","_"),y=(0,u.F)("typography"),b=y[g],w=c()(y.typography,b,v),x=n;return(0,o.jsx)(x,Object.assign({},m,{className:w,children:p}))}},79734:function(t,e,n){"use strict";n.d(e,{KB:function(){return r},CS:function(){return s},nq:function(){return u},jK:function(){return i},pB:function(){return p},cR:function(){return c}});var r,i=function(t){var e=Object.assign({},t);return delete e.ownerState,e},o=n(84481),a=function(t,e){"function"==typeof t?t(e):t&&(t.current=e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,o.useMemo)((function(){return e.every((function(t){return null==t}))?null:function(t){e.forEach((function(e){a(e,t)}))}}),e)},u=function(t){return t?t.scrollTop:null};!function(t){t.ENTER="enter",t.EXIT="exit"}(r||(r={}));var s=function(t,e){var n,r,i=t.timeout,o=t.easing,a=t.style,c=void 0===a?{}:a;return{duration:null!=(n=c.transitionDuration)?n:"number"==typeof i?i:i[e.mode]||0,easing:null!=(r=c.transitionTimingFunction)?r:"object"==typeof o?o[e.mode]:o,delay:c.transitionDelay||0}},l={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},d={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},f=function(t){return Math.round(Number(t))+"ms"},h=function(t){if(!t)return 0;var e=Number(t)/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))},p=function(t){var e=Object.assign({},l,(null==t?void 0:t.easing)||{}),n=Object.assign({},d,(null==t?void 0:t.duration)||{});return Object.assign({getAutoHeightDuration:h,create:function(t,r){void 0===t&&(t=["all"]),void 0===r&&(r={});var i=r,o=i.duration,a=void 0===o?n.standard:o,c=i.easing,u=void 0===c?e.easeInOut:c,s=i.delay,l=void 0===s?0:s;return(Array.isArray(t)?t:[t]).map((function(t){return t+" "+f(a)+" "+u+" "+f(l)})).join(",")}},t,{easing:e,duration:n})}},26953:function(t,e,n){"use strict";n.d(e,{Vd:function(){return _t},JQ:function(){return N},KS:function(){return Et},Ns:function(){return Ht},IU:function(){return kt},GK:function(){return ue},$k:function(){return F}});var r=n(84481),i=n.n(r),o=n(75226),a=n.n(o);function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),c=new M(r||[]);return i(a,"_invoke",{value:S(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",p="suspendedYield",v="executing",m="completed",g={};function y(){}function b(){}function w(){}var x={};l(x,a,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(R([])));C&&C!==n&&r.call(C,a)&&(x=C);var E=w.prototype=y.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function $(t,e){function n(i,o,a,c){var u=f(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function S(e,n,r){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=A(c,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?m:p,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=m,r.method="throw",r.arg=s.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},k($.prototype),l($.prototype,u,(function(){return this})),e.AsyncIterator=$,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new $(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(E),l(E,s,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function u(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}var s=new Map,l=function(t,e){var n=(0,r.useState)(null),i=n[0],o=n[1],l=function(t,e){o(e)};return(0,r.useEffect)((function(){var n=a().countSubscriptions(t),r=s.get(t),i=function(){var n,r=(n=c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e();case 2:r=n.sent,s.set(t,r),a().publish(t,r);case 5:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){u(o,r,i,a,c,"next",t)}function c(t){u(o,r,i,a,c,"throw",t)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return a().subscribe(t,l),0===n?(s.delete(t),i()):r?l(0,r):i(),function(){var e=a().countSubscriptions(t);a().unsubscribe(t),1===e&&s.delete(t)}}),[]),i},d=n(33080),f=n(32383),h=n(9499),p=n.n(h);function v(){v=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),c=new M(r||[]);return i(a,"_invoke",{value:S(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function b(){}function w(){}var x={};s(x,a,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(R([])));C&&C!==n&&r.call(C,a)&&(x=C);var E=w.prototype=y.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function $(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function S(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=A(c,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?m:h,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=m,r.method="throw",r.arg=s.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},k($.prototype),s($.prototype,c,(function(){return this})),e.AsyncIterator=$,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new $(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function m(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){m(o,r,i,a,c,"next",t)}function c(t){m(o,r,i,a,c,"throw",t)}a(void 0)}))}}function y(){return b.apply(this,arguments)}function b(){return(b=g(v().mark((function t(){var e,n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={assetsPageSize:25,assetsPageNumber:1},t.next=3,p().get("/collaboration/boards/default.json",{params:e,headers:{Accept:"application/json","X-Robots-Tag":"noindex"}});case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e,n){return x.apply(this,arguments)}function x(){return(x=g(v().mark((function t(e,n,r){var i,o,a;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={assets:["gi:"+r],action_type:e},t.next=3,p().put("/collaboration/boards/"+n+".json",i);case 3:return o=t.sent,a=new CustomEvent("boards.boardsUpdated"),window.dispatchEvent(a),t.abrupt("return",o.data);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return C.apply(this,arguments)}function C(){return(C=g(v().mark((function t(e){var n,r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={name:e},t.next=3,p().post("/collaboration/boards.json",n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return k.apply(this,arguments)}function k(){return(k=g(v().mark((function t(){var e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p().get("/collaboration/boards.json",{params:{pageSize:250},headers:{Accept:"application/json"}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}var S=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,$(e,n),r.prototype.isAssetInBoard=function(t){return this.defaultBoard&&this.defaultBoard.assetIds.includes(t.id)},r}((function(t){if(t)for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this[r]=t[r]}})),A=n(85893);function O(){O=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new M(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(R([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function L(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function M(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){L(o,r,i,a,c,"next",t)}function c(t){L(o,r,i,a,c,"throw",t)}a(void 0)}))}}var R=(0,r.createContext)(),P="BOARDS_GET_DEFAULT",I="BOARDS_GET_LIST",T="BOARDS_ADD_ASSET_TO_DEFAULT_BOARD",D="BOARDS_REMOVE_ASSET_FROM_DEFAULT_BOARD",B={list:null,defaultBoard:null},j=function(t,e){var n;switch(void 0===t&&(t=B),e.type){case P:return(n=e.payload).assetIds=n.assets.map((function(t){return t.uri.replace(/^gi:/,"")})),Object.assign({},t,{defaultBoard:n});case I:return Object.assign({},t,{list:e.payload.boards});case D:return(n=Object.assign({},t.defaultBoard)).assetIds=n.assetIds.filter((function(t){return t!==e.payload})),Object.assign({},t,{defaultBoard:n});case T:return(n=Object.assign({},t.defaultBoard)).assetIds.push(e.payload),Object.assign({},t,{defaultBoard:n});default:return t}},N=function(t){var e,n=t.children,i=(0,r.useReducer)(j,B),o=i[0],a=i[1],c=function(){var t=M(O().mark((function t(){var e;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:return e=t.sent,a({type:P,payload:e}),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=M(O().mark((function t(){var e;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:return e=t.sent,a({type:I,payload:e}),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=M(O().mark((function t(e,n,r){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e,n,r);case 2:a({type:"add_assets"===e?T:D,payload:r});case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),h=function(){var t=M(O().mark((function t(e){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:return n=t.sent,t.next=5,c();case 5:return t.next=7,u();case 7:return void 0!==window.eventBus&&window.eventBus.trigger("loadBoardsMenu"),t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=(0,r.useMemo)((function(){return new S(o)}),[o]);return(e=l("BoardToolBox.getDefaultBoard",M(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof window||!window.user||window.user.isBot){t.next=4;break}return t.next=3,y();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))))&&!p.defaultBoard&&a({type:P,payload:e}),(0,A.jsx)(R.Provider,{value:{boards:p,createBoard:h,toggleAsset:s,getBoardsList:u,getDefaultBoard:c},children:(0,A.jsx)(f.Nj,{children:(0,A.jsx)(d.DY,{children:n})})})};N.defaultProps={children:null};var F=function(){return(0,r.useContext)(R)},z=n(94184),Z=n.n(z),H=n(38130),V={component:"viz0e4SDStRFxrAy5ElA",save:"IW983mYavDJOZmylZqUB",save_istock:"xLnVcA2SKd6BIEUauSAY",save_getty:"Y66MG8Hh2y1h8CuDGcEq",text:"SoXXM7eqEZDQZFAye7yy"},U=function(t){var e=t.children,n=t.theme,r=t.onClick,i=(0,H.T)();return(0,A.jsxs)("li",{role:"menuitem",className:V.component,onKeyDown:function(t){"Space"!==t.code&&"Enter"!==t.code||r()},onClick:r,tabIndex:0,children:[(0,A.jsx)("span",{className:V.text,children:e}),(0,A.jsx)("span",{className:Z()(V.save,V["save_"+n]),children:i("save")})]})},G=n(47166),W=n.n(G),K={component:"PqBdWrdaxJwP8fEWOkoj",disabled:"UtfgPqt6d_2jEc_9pDmI",component_getty:"vovCm0Ja2d4i889k8eQF",component_istock:"bvZ0AL2TJZsPUq1hlGRb"},X=W().bind(K),Y=function(t){var e=t.className,n=t.children,r=t.disabled,i=t.theme,o=t.submit;return(0,A.jsx)("button",{className:X(K.component,K["component_"+i],e,{disabled:r}),type:o?"submit":"button",tabIndex:"0",children:n})};Y.defaultProps={className:null,disabled:!1,submit:!0};var q={component:"sfUykFXYWJYQebTP1ayu",component_istock:"srCcuBiyoyiBMlX9ECwj",component_getty:"WSDlSEXUhtKOsbXZzGlg"},J=function(t){var e=t.children,n=t.className,r=t.theme,i=t.onClick;return(0,A.jsx)("button",{type:"button",onClick:i,className:Z()(q.component,n,q["component_"+r]),children:e})};J.defaultProps={className:null,children:null,onClick:null};var Q={component:"aSYw4o5hI74ek4__vZJ5",input:"YkekwqPFOZt69eQ9c26P",input_istock:"KfSTVkTxKRB0jhDOINWQ",input_getty:"ZLkTXlWdX2Tm3dm6pNAN",input_icon:"xXeFbsvpED4B2edl1lsK",icon:"RVZbFkNgntlBwwSdDIUq"},tt=["className","defaultValue","placeholder","theme","icon","onChange"];var et=W().bind(Q),nt=function(t){var e=t.className,n=t.defaultValue,i=t.placeholder,o=t.theme,a=t.icon,c=t.onChange,u=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,tt),s=(0,r.useState)(n),l=s[0],d=s[1];return(0,r.useEffect)((function(){return c(l)}),[l]),(0,A.jsxs)("div",{className:et(Q.component,e),children:[(0,A.jsx)("input",Object.assign({type:"text",value:l,onChange:function(t){d(t.target.value)},placeholder:i,className:et(Q.input,Q["input_"+o],{input_icon:a})},u)),a&&(0,A.jsx)("img",{alt:"icon",src:a,className:Q.icon})]})};nt.defaultProps={className:null,defaultValue:"",icon:null,placeholder:null};var rt=n(99183),it=n(74074),ot=n(39468),at=n(22867),ct=n(82211),ut=n(55678),st=n(17586),lt="xTB_f8NvAMo6KPzwns8B",dt="NoG_pS4pC7EzMoxfnN94",ft="XrngFcD7j4nCnYY5x6dN",ht="OrjGrLEZsfrO0CruruCP",pt="Nf3HgJFwtsmIwi5yx__W",vt="jG1UoR4i3hjF94Wu7vlI",mt="hbXovIJ2sJkflVcDiha9",gt=function(t){var e=t.className,n=t.asset,o=t.uiLocation,a=t.modal,c=t.toaster,u=t.tooltip,s=t.children,l=(0,r.useRef)(),h=(0,r.useState)(null),p=h[0],v=h[1],m=function(t,e){void 0===e&&(e=0);var n=(0,r.useState)(!1),i=n[0],o=n[1],a=(0,r.useState)(!1),c=a[0],u=a[1],s=(0,r.useRef)(null),l=function(){s.current&&clearTimeout(s.current),o(!0),u(!0)},d=function(){s.current=setTimeout((function(){t.current&&o(!1)}),e)};return(0,r.useEffect)((function(){return t.current&&(t.current.addEventListener("mouseenter",l),t.current.addEventListener("focus",l),t.current.addEventListener("mouseleave",d),t.current.addEventListener("blur",d)),function(){t.current&&(t.current.removeEventListener("mouseenter",l),t.current.removeEventListener("focus",l),t.current.removeEventListener("mouseleave",d),t.current.removeEventListener("blur",d))}}),[]),[i,c]}(l,300),g=m[0],y=F(),b=y.boards,w=y.toggleAsset,x=y.getDefaultBoard,_=(0,it.u)(),C=(0,ot.T)(),E=(0,d.dd)().showModal,k=(0,f.Ps)().addToaster;(0,r.useEffect)((function(){null!=b&&b.defaultBoard||x(),v(l.current.offsetWidth/2)}),[]);var $=function(t,e){var r;return(r={})[t]=[n],r.board_name=e,r.grid_slot_number=n.slot,r.ui_element_location=o,r};return(0,A.jsxs)("button",{type:"button",ref:l,"data-testid":"add-to-board-button",onClick:function(){if(b.defaultBoard){if("default"===b.defaultBoard.id)return E(i().cloneElement(a,{asset:n,uiLocation:o.replace("_overlay","")})),void(0,at.r)((0,ct.Z)({event:"open_modal",modal_content:"choose_board",modal_type:"detailed_modal_with_cta",cta_text:"save",ui_element_location:"boards_tooltip"}));if(b.isAssetInBoard(n)){var t=(0,ut.Z)({ui_element_location:o,board_interaction:"remove_single_asset_from_board",asset_id:n.id,asset_type:n.assetType,asset_family:n.family});(0,at.r)(t),C.sendBoardItemRemovedSignal(n,b.defaultBoard.id),_.trackEvent("removeFromBoard",$("removed_items",b.defaultBoard.name)),w("remove_assets",b.defaultBoard.id,n.id),k(c)}else{var e=(0,st.Z)({ui_element_location:o,board_interaction:"add_to_existing_board",asset_id:n.id,asset_type:n.assetType,asset_family:n.family});(0,at.r)(e),_.trackEvent("addToBoard",$("added_items",b.defaultBoard.name)),C.sendAssetAddedToBoardSignal(n,b.defaultBoard.id),w("add_assets",b.defaultBoard.id,n.id),k(c)}}},className:Z()(lt,e),children:[s({isAssetInBoard:b.isAssetInBoard(n),uiLocation:o,hover:g}),(0,A.jsx)(rt.CSSTransition,{in:g,unmountOnExit:!0,timeout:300,classNames:{appear:dt,appearActive:ft,appearDone:ht,enter:dt,enterActive:ft,enterDone:ht,exit:pt,exitActive:vt,exitDone:mt},children:i().cloneElement(u,{asset:n,uiLocation:o,center:p})})]})};gt.defaultProps={className:null};var yt="kmoOdvWM2wVv2znH_Psb",bt=function(t){var e=t.boards,n=t.theme,r=t.onSelect;return(0,A.jsx)("ul",{role:"menu",className:yt,children:e.map((function(t){var e=t.name,i=t.id;return(0,A.jsx)(U,{theme:n,onClick:function(){return r(i)},children:e},i)}))})},wt=n(48425),xt={container:"Orp8qVAELDLPxFoS3eXA",container_getty:"_1t9iCBPoZb1tzDICeFm",container_istock:"BjRVt101xKq_mRLG0FG5",content:"G1GoALAqbvmXX78us0tO",thumbnail:"HBiiwYHpFLjTWcAgmKbV",thumbnailImg:"rphwsz7Mmqp6Lk_8Ohep",offlineThumbnail:"fxcO77H3QDDK5Z9fMijH",offlineAsset:"EhrPQRome0RaoR__AnIm",contentData:"Y35gGmTIpDM9hAtVdB73",title:"JdLQva8bkJoPzDzPath7",message:"fyQaWZo02bDJzfpGJ878",message_getty:"ySYXAMTLAzjv6PkBpRnA",message_istock:"Anuq2cgVwX2Jo07gzMu4"},_t=function(t){var e,n=t.uiLocation,r=t.asset,i=t.theme,o=(0,it.u)(),a=(0,H.T)(),c=F().boards,u=(0,wt.NW)(),s=function(){var t={board_id:c.defaultBoard.id,"boards.toasterAsset_id":r.id,notification_interaction:"Boards_Notification_Saved_to_Board_Click",ui_element_location:n,products_string:[r.family,r.assetType,r.licenseType,r.collectionCode,r.quality,r.releaseCode].join("|")};o.trackEvent("BoardsNotificationClicked",t),c.isAssetInBoard(r)&&o.trackEvent("boardsNotificationInteraction",t),window.location.href=u.boardUrl(c.defaultBoard.id)};return(0,A.jsx)("div",{className:Z()(xt.container,xt["container_"+i]),onClick:s,onKeyDown:function(t){"Space"!==t.code&&"Escape"!==t.code||s()},tabIndex:0,role:"button",children:(0,A.jsxs)("div",{className:xt.content,children:[r.isOffline?(0,A.jsx)("div",{className:Z()(xt.thumbnail,xt.offlineThumbnail),children:(0,A.jsx)("p",{className:xt.offlineAsset,children:r.shortTitle})}):(0,A.jsx)("div",{className:xt.thumbnail,children:(0,A.jsx)("img",{alt:r.title,className:xt.thumbnailImg,src:r.thumbUrl})}),(0,A.jsxs)("div",{className:xt.contentData,children:[(0,A.jsxs)("div",{className:xt.title,children:[(0,A.jsx)("div",{className:xt.title__icon}),(0,A.jsx)("div",{className:xt.title__title,children:c.isAssetInBoard(r)?a("saved_to_board"):a("removed_from_board")})]}),(0,A.jsx)("div",{className:Z()(xt.message,xt["message_"+i]),children:null==(e=c.defaultBoard)?void 0:e.name})]})]})})};_t.defaultProps={position:"Bottom",closeTimeout:3e3};var Ct={container:"UTseJNgTtg5VFfvCJnkz",name:"WrUuIo1h45LtEIsorY5i",container_istock:"FMX1gqi0LT09BWJz3At7",title:"eGAATKGqgvQUMmCEAcaM",container_getty:"jiMUWAS3Segt9bYWSsYA",arrow:"Rtwu9Exam2WAgEtQGHiP",caret:"ZyubyW7XiDiwy2OvKI8Y",caret_getty:"AhNgleVrKF62cT5YuHYH",caret_istock:"aKi_L7zeIbTKIxmLWcrg"},Et=function(t){var e=t.asset,n=t.uiLocation,r=t.className,i=t.modal,o=t.theme,a=t.center,c=(0,it.u)(),u=(0,H.T)(),s=F().boards,l=(0,d.dd)().showModal,f=function(t){t.stopPropagation(),l(i),c.trackEvent("BoardsToolboxOpen",{board_name:s.defaultBoard.name,grid_slot_number:e.slot,ui_element_location:n}),(0,at.r)((0,ct.Z)({event:"open_modal",modal_content:"choose_board",modal_type:"detailed_modal_with_cta",cta_text:"new_board",ui_element_location:"asset_overlay"}))};return(0,A.jsxs)("div",{"data-testid":"add-to-board-tooltip",role:"button",tabIndex:0,className:Z()(Ct.container,r,Ct["container_"+o]),onClick:f,onKeyDown:function(t){"Space"!==t.code&&"Enter"!==t.code||f()},children:[(0,A.jsxs)("div",{className:Ct.title,children:[s.isAssetInBoard(e)?u("remove_from_board"):u("save_to_board"),(0,A.jsx)("span",{className:Z()(Ct.caret,Ct["caret_"+o])})]}),s.defaultBoard&&(0,A.jsx)("div",{className:Ct.name,children:s.defaultBoard.name}),(0,A.jsx)("div",{className:Ct.arrow,style:a&&{right:a-9}})]})};Et.defaultProps={center:null,asset:null,className:""};var kt=function(){var t=(0,d.dd)().showModal,e=(0,wt.W4)();return(0,r.useEffect)((function(){var n=function(){"undefined"!=typeof document&&document.addEventListener("favorites.boardsMenuCreateClicked",(function(){return t((0,A.jsx)(Yt,{theme:e.nickname}))}))};return window.addEventListener("load",n),function(){return window.removeEventListener("load",n)}}),[]),null},$t=n.p+"static/search-494309da7da14895f705.svg",St={textInput:"xja7l8VAnYCeEbWLtx4c"},At=function(t){var e=t.className,n=t.boards,i=t.theme,o=t.onSelect,a=(0,H.T)(),c=(0,r.useState)(""),u=c[0],s=c[1],l=n.filter((function(t){var e;return null==t||null==(e=t.name)?void 0:e.toLowerCase().includes(u.toLowerCase())}));return(0,A.jsxs)("div",{className:Z()(St.component,e),children:[(0,A.jsx)(nt,{theme:i,className:St.textInput,icon:$t,placeholder:a("board_name"),onChange:s}),(0,A.jsx)(bt,{boards:l,theme:i,onSelect:o})]})};At.defaultProps={className:null};var Ot={textInput:"DtSCGPY7RLPhpNdnlZag"},Lt=function(t){var e=t.className,n=t.theme,i=t.onSubmit,o=(0,H.T)(),a=(0,r.useState)(null),c=a[0],u=a[1];return(0,A.jsxs)("form",{"data-testid":"create-board-form",autoComplete:"off",className:Z()(Ot.component,e),onSubmit:function(t){t.preventDefault(),i(c)},children:[(0,A.jsx)(nt,{theme:n,placeholder:o("board_name"),className:Ot.textInput,onChange:u,maxLength:"255"}),(0,A.jsx)(Y,{type:"submit",theme:n,disabled:!c,children:o("save")})]})};Lt.defaultProps={className:null};var Mt=(0,n(69040).Qg)((function(t){return{event:"create_board",board_interaction:"create_board",ui_element_location:t}})),Rt="UBsh7VfjQ5iW5GYdQO3X",Pt="fInIcuTki4zC1LdFo1yt",It="xW7h1bdbl6L_Wb4UcvaF",Tt="Smvomu6dHes91nSxq1AH",Dt="Ch1xjC0ivoe1DuYpweco",Bt="HCAzC1ojD6VxCnwhJUOi",jt="ebNfHspHwJO8LVmQE4MT",Nt="Dmf_0Ek14B1ELFBK3iRc";function Ft(){Ft=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function zt(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function Zt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){zt(o,r,i,a,c,"next",t)}function c(t){zt(o,r,i,a,c,"throw",t)}a(void 0)}))}}var Ht=function(t){var e=t.uiLocation,n=t.asset,i=t.theme,o=(0,H.T)(),a=F(),c=a.boards,u=a.getBoardsList,s=a.getDefaultBoard,l=a.createBoard,h=a.toggleAsset,p=(0,r.useState)(!1),v=p[0],m=p[1],g=(0,it.u)(),y=(0,ot.T)(),b=(0,f.Ps)().addToaster,w=function(){return e+"_choose_board_modal-"+(v?"save_to_existing_board":"save_to_new_board")},x=function(t,e){return{board_name:t,added_items:[n],grid_slot_number:n.slot,ui_element_location:e||w()}},_=function(t,e){return{modal_interaction:t,modal_type:v?"choose_board_modal":"save_to_new_board_modal",grid_slot_number:n.slot,ui_element_location:e||w()}};(0,r.useEffect)((function(){g.trackEvent("boardsModalInteraction",_("Choose_Board_Modal_Open",e+"_boards_tooltip"))}),[]),(0,r.useEffect)((function(){c.list?c.list.length>0&&m(!0):u()}),[c.list]);var C=function(){var t=Zt(Ft().mark((function t(r,o){var a,c,u,s;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(r);case 2:return a=t.sent,t.next=5,h("add_assets",a.id,n.id);case 5:y.sendBoardCreatedSignal(),y.sendAssetAddedToBoardSignal(n,a.id),g.trackEvent("createBoard",x(a.name)),c=Mt(w()),(0,at.r)(c),g.trackEvent("addToBoard",x(a.name)),u=w(),s=(0,st.Z)({ui_element_location:u,board_interaction:"add_to_new_board",asset_id:n.id,asset_type:n.assetType,asset_family:n.family||n.assetFamily}),(0,at.r)(s),g.trackEvent("BoardsToolboxSaveNew",x(a.name,e+"_overlay")),g.trackEvent("boardsModalInteraction",_("Choose_Board_Modal_Save_To_New_Board")),b((0,A.jsx)(_t,{uiLocation:e+"_toaster",theme:i,asset:n})),o();case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),E=function(){var t=Zt(Ft().mark((function t(r,o){var a,u,l;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("add_assets",r,n.id);case 2:return t.next=4,s();case 4:a=c.list.find((function(t){return t.id===r})),y.sendAssetAddedToBoardSignal(n,r),u=w(),l=(0,st.Z)({ui_element_location:u,board_interaction:"add_to_existing_board",asset_id:n.id,asset_type:n.assetType,asset_family:n.family||n.assetFamily}),(0,at.r)(l),g.trackEvent("addToBoard",x(a.name)),g.trackEvent("BoardsToolboxSaveList",x(a.name,e+"_overlay")),g.trackEvent("boardsModalInteraction",_("Choose_Board_Modal_Save_To_Existing_Board")),b((0,A.jsx)(_t,{uiLocation:e+"_toaster",theme:i,asset:n})),o();case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,A.jsx)(d.u_,{onClose:function(){g.trackEvent("boardsModalInteraction",_("Choose_Board_Modal_Close")),g.trackEvent("BoardsToolboxModalClose",x(null,e+"_overlay"))},header:o(v?"choose_board":"save_to_new_board"),modalClassName:It,headerClassName:Rt,bodyClassName:Pt,children:function(t){return(0,A.jsxs)("div",{"data-testid":"choose-board-modal-content",className:Tt,children:[(0,A.jsx)("div",{className:Nt,children:n.isOffline?(0,A.jsx)("p",{className:jt,children:n.shortTitle}):(0,A.jsx)("img",{alt:n.title,src:n.thumbUrl})}),(0,A.jsxs)("div",{className:Dt,children:[v?(0,A.jsx)(At,{className:Dt,theme:i,boards:c.list,onSelect:function(e){return E(e,t)}}):(0,A.jsx)(Lt,{className:Dt,theme:i,onSubmit:function(e){return C(e,t)}}),(0,A.jsx)(J,{className:Bt,theme:i,onClick:function(){return m(!v)},children:o(v?"save_to_new_board":"choose_board")})]})]})}})},Vt="byF4sYY7deh83gL5NQv1",Ut="KVa5CHwYL92s66ODKqsa",Gt="QKMx5mBbZmSyyt3eYPsq",Wt="uvPs9oZlM49nDxmaHuFz";function Kt(){Kt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Xt(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}var Yt=function(t){var e=t.theme,n=(0,it.u)(),i=(0,H.T)(),o=F();(0,r.useEffect)((function(){n.trackEvent({eventType:"gtm",eventName:"BoardsMenuCreate"}),(0,at.r)((0,ct.Z)({event:"open_modal",modal_content:"create_board",modal_type:"detailed_modal_with_cta",cta_text:"create_board",ui_element_location:"boards_menu_container"}))}),[]);var a=function(){var t,e=(t=Kt().mark((function t(e,r){var i,a,c;return Kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new CustomEvent("boards.boardsUpdated"),a=(0,ot.T)(),t.next=4,o.createBoard(e);case 4:n.trackEvent({eventType:"gtm",eventName:"createBoard",boardName:e}),a.sendBoardCreatedSignal(),window.dispatchEvent(i),c=Mt("boards_menu_container"),(0,at.j)(null,c),r();case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xt(o,r,i,a,c,"next",t)}function c(t){Xt(o,r,i,a,c,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();return(0,A.jsx)(d.u_,{onClose:function(){n.trackEvent({eventType:"gtm",eventName:"CreateBoardModalClosed"}),(0,at.r)((0,ct.Z)({event:"close_modal",modal_content:"create_board",modal_type:"detailed_modal_with_cta",cta_text:"create_board",ui_element_location:"modal_x"}))},header:i("create_new_board"),modalClassName:Gt,headerClassName:Vt,bodyClassName:Ut,children:function(t){return(0,A.jsx)(Lt,{onSubmit:function(e){return a(e,t)},theme:e,className:Wt})}})},qt=["styles"];function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jt.apply(this,arguments)}var Qt=function(t){t.styles;var e=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,qt);return i().createElement("svg",Jt({xmlns:"http://www.w3.org/2000/svg",width:"10.987",height:"2"},e),i().createElement("path",{d:"M0 0h11v2H0z"}))},te=["styles"];function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ee.apply(this,arguments)}var ne=function(t){t.styles;var e=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,te);return i().createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:"11",height:"11"},e),i().createElement("path",{d:"M11 4.5H6.5V0h-2v4.5H0v2h4.5V11h2V6.5H11z"}))},re="Nf6yfmmYezzBNonn7tOs",ie="S58dgwliFSL5g41SvCLi",oe="F2FvnSwe9sG43oxuI6KP",ae="cLej46tA2l7RzzlRLTTT",ce=["className","uiLocation","showLabel","asset","type"];var ue=function(t){var e=t.className,n=t.uiLocation,r=t.showLabel,i=t.asset,o=t.type,a=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,ce),c=(0,H.T)(),u="getty";return(0,A.jsx)(gt,Object.assign({},a,{uiLocation:n,asset:i,className:Z()(re,e),modal:(0,A.jsx)(Ht,{uiLocation:n,theme:u,asset:i}),toaster:(0,A.jsx)(_t,{uiLocation:n+"_toaster",theme:u,asset:i}),tooltip:(0,A.jsx)(Et,{uiLocation:n,theme:u,className:ae,modal:(0,A.jsx)(Ht,{uiLocation:n,theme:u,asset:i})}),children:function(t){var e=t.isAssetInBoard;return(0,A.jsxs)(A.Fragment,{children:[e?(0,A.jsx)(Qt,{className:oe}):(0,A.jsx)(ne,{className:oe}),r&&!e&&(0,A.jsx)("span",{className:ie,children:c("save")}),r&&e&&"adp"==o&&(0,A.jsx)("span",{className:ie,children:c("remove_from_board")})]})}}))};ue.defaultProps={className:null,showLabel:!0};var se=["styles"];function le(){return le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},le.apply(this,arguments)}var de=function(t){var e=t.styles,n=void 0===e?{}:e,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,se);return i().createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17"},r),i().createElement("path",{className:n.st0||"st0",d:"M7.734-.001h1.531V0H7.734z"}),i().createElement("path",{fill:"#FFF",className:n.st0||"st0",d:"M15.16 7.735H-.001v1.53h7.735v.001h9.267V7.734z"}))},fe=["styles"];function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(this,arguments)}var pe=function(t){t.styles;var e=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,fe);return i().createElement("svg",he({width:"17",height:"17",xmlns:"http://www.w3.org/2000/svg"},e),i().createElement("path",{mask:"url(#mask-2)",d:"M7.734 0v7.736H0v1.53h7.734V17h1.531V9.266H17v-1.53H9.265V0z",fill:"none",fillRule:"evenodd"}))},ve=["styles"];function me(){return me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},me.apply(this,arguments)}var ge=function(t){t.styles;var e=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,ve);return i().createElement("svg",me({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},e),i().createElement("g",{fill:"none",fillRule:"evenodd"},i().createElement("path",{fill:"#FFF",mask:"url(#mask-2)",d:"M7.582 16.619l-6.317-6.32 1.273-1.273 5.044 5.047 9.79-9.79 1.274 1.273z"})))},ye="DmQWeBTMKzfjGbOgJbF5",be="hwUCkiV67I8DxzMyA9nE",we="RSeGT6RO_H3jkQVxFEOu",xe="NCZonzsPloG3jZ8fwTHh",_e=["className","uiLocation","showLabel","asset"];(function(t){var e=t.className,n=t.uiLocation,r=t.showLabel,i=t.asset,o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,_e),a=(0,H.T)(),c="istock",u=function(t,e){if(!r)return null;var n="";return n=a(t?e?"remove":"saved":"save"),(0,A.jsx)("span",{className:be,children:n})},s=function(t,e){return t?e?(0,A.jsx)(de,{className:we}):(0,A.jsx)(ge,{className:we}):(0,A.jsx)(pe,{className:we})};return(0,A.jsx)(gt,Object.assign({},o,{uiLocation:n,asset:i,className:Z()(ye,e),modal:(0,A.jsx)(Ht,{uiLocation:n,theme:c,asset:i}),toaster:(0,A.jsx)(_t,{uiLocation:n+"_toaster",theme:c,asset:i}),tooltip:(0,A.jsx)(Et,{uiLocation:n,theme:c,className:xe,modal:(0,A.jsx)(Ht,{uiLocation:n,theme:c,asset:i})}),children:function(t){var e=t.isAssetInBoard,n=t.hover;return(0,A.jsxs)(A.Fragment,{children:[s(e,n),u(e,n)]})}}))}).defaultProps={className:null,showLabel:!0}},78008:function(t,e,n){"use strict";var r;function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function c(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}n.d(e,{default:function(){return H}});var u=0;function s(t){return"__private_"+u+++"_"+t}var l=s("internalProcessors"),d=s("customProcessors"),f=s("globalInstance"),h=function(){function t(){Object.defineProperty(this,l,{writable:!0,value:new Array(p)}),Object.defineProperty(this,d,{writable:!0,value:new Array})}var e,n,r,o=t.prototype;return o.processOptions=function(t){for(var e,n=t,r=i(c(this,d)[d]);!(e=r()).done;){n=(0,e.value)(n)}for(var o,a=i(c(this,l)[l]);!(o=a()).done;){n=(0,o.value)(n)}return n},o.registerProcessor=function(t){c(this,d)[d].push(t)},o.clearProcessors=function(){c(this,d)[d]=[]},t.processOptions=function(t,e){var n=t;return e&&e.optionsProcessor&&(n=e.optionsProcessor.processOptions(n)),c(this,f)[f].processOptions(n)},e=t,r=[{key:"globalInstance",get:function(){return c(t,f)[f]}}],(n=null)&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){var e=Object.assign({},t);return e.maxAgeYears&&e.maxAgeYears>0?(e.maxAge=31557600*e.maxAgeYears,delete e.maxAgeYears):e.maxAgeDays&&e.maxAgeDays>0?(e.maxAge=86400*e.maxAgeDays,delete e.maxAgeDays):e.maxAgeHours&&e.maxAgeHours>0?(e.maxAge=3600*e.maxAgeHours,delete e.maxAgeHours):e.maxAgeMinutes&&e.maxAgeMinutes>0&&(e.maxAge=60*e.maxAgeMinutes,delete e.maxAgeMinutes),e}r=h,Object.defineProperty(h,f,{writable:!0,value:new r});var v=h,m=n(70750),g=n.n(m);var y=function(t){return"string"==typeof t?new(g())(t):t||("undefined"!=typeof document?new(g())(document.cookie):new(g()))};function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function w(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var x=0;function _(t){return"__private_"+x+++"_"+t}var C=_("cookieProvider"),E=function(){function t(t,e,n){this.name=void 0,this.options=void 0,Object.defineProperty(this,C,{writable:!0,value:void 0}),this.name=t,w(this,C)[C]=y(n),this.options=v.processOptions(e||{},w(this,C)[C])}var e,n,r;return t.prototype.remove=function(){w(this,C)[C].remove(this.name,this.options)},e=t,(n=[{key:"value",get:function(){return w(this,C)[C].get(this.name)},set:function(t){w(this,C)[C].set(this.name,t,this.options)}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function $(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var S=0;function A(t){return"__private_"+S+++"_"+t}var O=A("cookieProvider"),L=A("values"),M=A("writeCookie"),R=A("serializedValues"),P=A("readCookie");function I(){var t=$(this,R)[R]();$(this,O)[O].set(this.name,t,this.options)}function T(){return Array.from($(this,L)[L],(function(t){var e=t[0],n=t[1];return encodeURIComponent(e)+"="+encodeURIComponent(n)})).join("&")}function D(){var t=$(this,O)[O].get(this.name,{doNotParse:!0});if(!t)return new Map;if(!t.includes("="))return new Map;var e,n,r=new Map;return t.split("&").forEach((function(t){var i=t.split("=");e=i[0],n=i[1],r.set(decodeURIComponent(e),n?decodeURIComponent(n):"")})),r}var B=function(){function t(t,e,n){Object.defineProperty(this,P,{value:D}),Object.defineProperty(this,R,{value:T}),Object.defineProperty(this,M,{value:I}),this.name=void 0,this.options=void 0,Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:new Map}),this.name=t,$(this,O)[O]=y(n),this.options=Object.assign({},v.processOptions(e||{},$(this,O)[O]),{encode:function(t){return t}}),$(this,L)[L]=$(this,P)[P]()}var e,n,r,i=t.prototype;return i.getValue=function(t){return $(this,L)[L].get(t)},i.setValue=function(t,e){null==e?$(this,L)[L].delete(t):$(this,L)[L].set(t,e),0===$(this,L)[L].size?this.remove():$(this,M)[M]()},i.clearValues=function(){$(this,L)[L].clear(),$(this,M)[M]()},i.remove=function(){$(this,L)[L].clear(),$(this,O)[O].remove(this.name,this.options)},e=t,(n=[{key:"keys",get:function(){return $(this,L)[L].keys()}}])&&k(e.prototype,n),r&&k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),j={serialize:function(t){return t?t.toString():t},deserialize:function(t){return t}},N={serialize:function(t){return t.toString()},deserialize:function(t){return Number.parseFloat(t)}},F={serialize:function(t){return null==t?t:t?"1":"0"},deserialize:function(t){return"1"===t}};function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}var Z=function(){function t(){}var e,n,r;return t.define=function(t){if("values"in t){var e=function(t){for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],o=i[0],a=i[1];e[o]="string"==typeof a?{storeAs:a}:a}return e}(t.values);return function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],i=r[0];if(!r[1].storeAs)throw"storeAs value required for cookie value '"+i+"'"}}(e),{cookieName:t.name,find:function(n){for(var r=new B(t.name,t.options,y(n)),i=function(){var t=a[o],e=t[0],n=t[1],i=function(t){switch(t){case"number":return N;case"boolean":return F;case void 0:case"string":return j;default:if("string"==typeof t)throw"Type '"+t+"' is not currently supported. You can add your own serializer by specifying an object with a serialize and deserialize method.";return t}}(n.type);Object.defineProperty(r,e,{get:function(){var t=this.getValue(n.storeAs);return null==t?t:i.deserialize(t)},set:function(t){var e=null==t?null:i.serialize(t);this.setValue(n.storeAs,e)}})},o=0,a=Object.entries(e);o<a.length;o++)i();return r}}}return{cookieName:t.name,find:function(e){return new E(t.name,t.options,y(e))}}},t.registerOptionsProcessor=function(t){v.globalInstance.registerProcessor(t)},e=t,r=[{key:"globalOptionsProcessor",get:function(){return v.globalInstance}}],(n=null)&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();v.globalInstance.registerProcessor((function(t){return Object.assign({path:"/",secure:!0},t)}));n(98186);var H=Z},93690:function(t,e,n){"use strict";function r(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}n.d(e,{useExperience:function(){return x}});var i=0;function o(t){return"__private_"+i+++"_"+t}var a=o("formatJWTPayload"),c=o("jwtEncode"),u=o("payloadToJWT"),s=function(){function t(t){Object.defineProperty(this,u,{value:f}),Object.defineProperty(this,c,{value:d}),Object.defineProperty(this,a,{value:l}),this.experiences=void 0,this.experiences=t}return t.jwtFromExperiences=function(e){return new t(e).toJWT()},t.prototype.toJWT=function(){var e=this.experiences.filter((function(e){return t.metadataTags.some((function(t){return"true"===e.metadata[t]}))})),n=r(this,a)[a](e);return"jwt|"+r(this,u)[u](n)},t}();function l(t){var e={};return t.forEach((function(t){var n=t.activeOffers.get("offers");e[t.name.toLowerCase()]={activeOffers:n?{test:n}:{default:"active"}}})),{experiences:e}}function d(t){return Buffer.from(JSON.stringify(t)).toString("base64").replace(/\+/g,"-").replace(/\//,"_").replace(/=+$/,"")}function f(t){return r(this,c)[c]({alg:"none"})+"."+r(this,c)[c](t)+"."}s.metadataTags=["assetsvc","services"];var h=n(84481),p=n.n(h);n(85893);var v=p().createContext({experiences:{}});function m(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var g=0;function y(t){return"__private_"+g+++"_"+t}var b=y("isActive"),w=function(){function t(t,e,n,r){this.name=void 0,Object.defineProperty(this,b,{writable:!0,value:void 0}),this.activeOffers=void 0,this.metadata=void 0,this.name=t,m(this,b)[b]=e,this.activeOffers=n||new Map,this.metadata=r||{}}var e=t.prototype;return e.isActive=function(){return m(this,b)[b]},e.isOfferActive=function(t,e){var n=this.activeOffer(e);return void 0!==n&&n.toLowerCase()===t.toLowerCase()},e.activeOffer=function(t){return t||(t=this.activeOffers.keys().next().value),t?this.activeOffers.get(t):void 0},e.toJSON=function(){return{name:this.name,isActive:this.isActive(),activeOffers:Object.fromEntries(this.activeOffers),metadata:this.metadata}},t.fromJSON=function(e){return new t(e.name,e.isActive,new Map(Object.entries(e.activeOffers||{})),e.metadata)},t.fromLegacyJSON=function(e,n){return new t(e,n.is_active,new Map(Object.entries(n.active_offers||{})),n.metadata)},t}(),x=function(t){var e=(0,h.useContext)(v).experiences,n=e&&e[t.toLowerCase()];return n?"is_active"in n&&void 0!==n.is_active?w.fromLegacyJSON(t,n):w.fromJSON(n):new w(t,!1)};n(63107)},20713:function(t,e,n){"use strict";var r=n(69040);e.Z=(0,r.Qg)((function(t){var e=t.event_name;return{event:"banner_interaction",event_name:e,banner_interaction:e,banner_name:t.banner_name,banner_type:t.banner_type,ui_element_location:t.ui_element_location,link_text:t.link_text,item_id:t.item_id,coupon:t.coupon}}))},17586:function(t,e,n){"use strict";var r=n(69040);e.Z=(0,r.Qg)((function(t){var e=t.ui_element_location;return{event:"add_to_board",board_interaction:t.board_interaction,ui_element_location:e,asset_id:t.asset_id,asset_type:t.asset_type,asset_family:t.asset_family}}))},55678:function(t,e,n){"use strict";var r=n(69040);e.Z=(0,r.Qg)((function(t){var e=t.ui_element_location,n=t.board_interaction,r=t.asset_id,i=t.asset_type,o=t.asset_family;return r?{event:"remove_from_board",board_interaction:n,ui_element_location:e,asset_id:r,asset_type:i,asset_family:o}:{event:"remove_from_board",board_interaction:n,ui_element_location:e}}))},54179:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r=(0,n(69040).Qg)((function(t){var e,n,r,i,o,a,c,u,s,l,d,f,h,p,v=t.asset_details,m=t.download_method,g=t.is_eps,y=void 0!==g&&g;return Object.assign({event:"download_asset",download_type:(f=null==v?void 0:v.asset_type,h=null==v?void 0:v.media_type,p=y,void 0===p&&(p=!1),"illustration"===h&&p?"vector_download":"image"===(null==f?void 0:f.toLowerCase())?"image_download":"film"===(null==f?void 0:f.toLowerCase())?"video_download":"asset_download"),download_method:m||void 0,asset_id:null==v?void 0:v.asset_id,asset_type:null==v||null==(e=v.asset_type)?void 0:e.toLowerCase(),asset_family:null==v||null==(n=v.asset_family)?void 0:n.toLowerCase()},(null==(r=window)||null==(i=r.currentSite)?void 0:i.isGetty)&&{asset_collection:null==v?void 0:v.asset_collection},(null==(o=window)||null==(a=o.currentSite)?void 0:a.isGetty)&&{asset_license_type:null==v?void 0:v.asset_license_type},(null==(c=window)||null==(u=c.currentSite)?void 0:u.isiStock)&&{istock_collection:null==v?void 0:v.istock_collection},(null==v||null==(s=v.tee_shirt_sizes)?void 0:s.length)&&{asset_sizes:v.tee_shirt_sizes.join(",")},{asset_collection_code:null==v?void 0:v.collection_code,asset_date_submitted:null==v?void 0:v.date_submitted,asset_embed_capable:null==v||null==(l=v.embeddable)?void 0:l.toString(),asset_quality:null==v?void 0:v.quality,asset_release_status:null==v?void 0:v.release_info,content_warnings:null==v?void 0:v.content_warnings,has_nudity:null==v||null==(d=v.has_nudity)?void 0:d.toString(),license_models:null==v?void 0:v.license_type,media_type:null==v?void 0:v.media_type})}))},82211:function(t,e,n){"use strict";var r=n(69040);e.Z=(0,r.Qg)((function(t){var e=t.event,n=t.modal_content,r=t.modal_type,i=t.cta_text,o=t.ui_element_location,a=t.item_id,c=void 0===a?void 0:a;return Object.assign({event:"modal_interaction",event_name:e,modal_interaction:e,modal_content:n,modal_type:r,cta_text:i,ui_element_location:o},c&&{item_id:c})}))},94159:function(t,e,n){"use strict";var r=n(69040),i=function(t){switch(t){case"iStock|Product|VectorFCP":return"vector";case"iStock|Product|PhotoFCP":return"photo";case"iStock|Product|VideoFCP":return"video";default:return"other"}},o=function(t){return t.asset_type||"no asset type found"};e.Z=(0,r.Qg)((function(t){var e=t.page_name,n=t.asset_details;try{return function(t){return t.includes("iStock|Product")}(e)?{event:"adp_view",adp_type:i(e)}:function(t){return t.includes("InsideDetail-")}(e)?{event:"adp_view",adp_type:o(n)}:function(t){return t.includes("iStock|Payment|PlansAndPricing")||t.includes("PlansAndPricing|Main")}(e)?{event:"pnp_view"}:{event:e+"_view",event_name:e+"_view"}}catch(t){}}))},33080:function(t,e,n){"use strict";n.d(e,{u_:function(){return m},DY:function(){return x},dd:function(){return d}});var r=n(84481),i=n.n(r),o=n(47166),a=n.n(o),c=n(99183),u=["styles"];function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}var l=function(t){t.styles;var e=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,u);return i().createElement("svg",s({width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i().createElement("path",{d:"M9.5 8.28L1.97.75.75 1.968 8.28 9.5.75 17.032l1.22 1.218 7.53-7.53 7.53 7.53 1.22-1.218L10.72 9.5l7.53-7.532L17.03.75 9.5 8.28z",fill:"#fff"}))},d=function(){var t=(0,r.useContext)(w);return{showModal:t.showModal,hideModal:t.hideModal,isOpen:t.isOpen}},f={backdrop:"zzrXKgDp1QibIF96tq9A",modal:"wqecAVxtMjvt6dBNQoLy",header:"us8OxgsWBM9YuT2ISLJk",closeIcon:"eKnxc_6eoEYNQGw01dZo",body:"wCl83sJpFsd9bzJgGo8O",footer:"H9YFNP1R9NZsZT5EsqFf",enter:"EHiRuKn1G94yp7oFQJmh",enterActive:"d9nngXD23cddq6if5BxH",enterDone:"iO0EbbdtrpK_wal5Jsgx",exit:"wdPcWAnrUGDK1u5syslr",exitActive:"srTunt6sMi8FOKsgV0BU",exitDone:"bUX4f5PXpvbfiDu8njRA",fade:"NNlIItR9UoeQpl59lINO"},h=n(85893),p=["children","onClose","footer","forceShowFade","isLoading","loader","header","backdropClassName","headerClassName","footerClassName","bodyClassName","modalClassName","hideCloseButton"];var v=a().bind(f),m=function(t){var e,n,i=t.children,o=t.onClose,a=t.footer,u=t.forceShowFade,s=t.isLoading,m=t.loader,g=t.header,y=t.backdropClassName,b=t.headerClassName,w=t.footerClassName,x=t.bodyClassName,_=t.modalClassName,C=t.hideCloseButton,E=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,p),k=(0,r.createRef)(),$=(0,r.useState)(!1),S=$[0],A=$[1],O=(0,r.useState)(u),L=O[0],M=O[1],R=d().hideModal,P=(0,r.useRef)();(0,r.useLayoutEffect)((function(){A(!0)}),[]),(0,r.useLayoutEffect)((function(){var t,e,n;S&&((null==(e=P.current)?void 0:e.clientHeight)<(null==(n=P.current)?void 0:n.scrollHeight)&&M(!0));var r=function(t){var e,n;(null==(e=P.current)?void 0:e.scrollHeight)-(null==(n=P.current)?void 0:n.clientHeight)-t.target.scrollTop<=1?M(!1):M(!0)};return null==(t=P.current)||t.addEventListener("scroll",r),function(){var t;return null==(t=P.current)?void 0:t.removeEventListener("scroll",r)}}),[S,null==(e=P.current)?void 0:e.clientHeight,null==(n=P.current)?void 0:n.scrollHeight]);var I=function(){o&&o(),A(!1),setTimeout(R,300)};return(0,h.jsx)(c.CSSTransition,Object.assign({in:S,unmountOnExit:!0,timeout:300,classNames:{appear:f.enter,appearActive:f.enterActive,appearDone:f.enterDone,enter:f.enter,enterActive:f.enterActive,enterDone:f.enterDone,exit:f.exit,exitActive:f.exitActive,exitDone:f.exitDone}},E,{children:(0,h.jsx)("div",{ref:k,className:v(f.backdrop,y),onClick:function(t){t.target.isSameNode(k.current)&&I()},children:s?m:(0,h.jsxs)("div",{className:v(f.modal,_),children:[1==C?null:(0,h.jsx)(l,{"data-testid":"icon-close-button",className:f.closeIcon,onClick:I}),g&&(0,h.jsx)("header",{className:v(f.header,b),children:g}),(0,h.jsx)("main",{ref:P,className:v(f.body,x),children:i(I)}),(0,h.jsx)(c.CSSTransition,{in:L,unmountOnExit:!0,timeout:300,classNames:{enter:f.enter,enterActive:f.enterActive,enterDone:f.enterDone,exit:f.exit,exitActive:f.exitActive,exitDone:f.exitDone},children:(0,h.jsx)("div",{className:f.fade,"data-testid":"fade"})}),a&&(0,h.jsx)("footer",{className:v(f.footer,w),children:a})]})})}))},g=n(97170),y=n.n(g),b="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,w=(0,r.createContext)(),x=function(t){var e=t.children,n=t.targetContainer,i=(0,r.useRef)(),o=(0,r.useState)(),a=o[0],c=o[1],u=(0,r.useState)(null),s=u[0],l=u[1];return b((function(){c(document.body.style.overflow),i.current=document.querySelector(n),i.current||(i.current=document.createElement("div"),i.current.setAttribute("id",n.replace("#","")),document.body.appendChild(i.current))}),[]),(0,h.jsxs)(w.Provider,{value:{showModal:function(t){void 0===t&&(t=!1),t&&(c(document.body.style.overflow),document.body.style.overflow="hidden",l(t))},hideModal:function(){l(null),document.body.style.overflow=a}},children:[i.current&&y().createPortal(s,i.current),e]})};x.defaultProps={targetContainer:"#modal-root"}},62496:function(t,e,n){"use strict";n.d(e,{PL:function(){return j}});n(66704);var r,i,o,a="stock-illustrations",c="stock-photos",u="footage",s=a,l=c,d=u,f=n(48425),h={assetfiletype:!0,assettype:!0,category:!0,mediatype:!0,phrase:!0},p={_colorindex:!0,ageofpeople:!0,agreements:!0,alloweduse:!0,analogcollection:!0,analogonly:!0,artist:!0,artists:!0,begindate:!0,bwonly:!0,clarifications:!0,collections:!0,color:!0,colorfamily:!0,colorsimilarityassetid:!0,compositions:!0,contributor:!0,curatedset:!0,easyaccess:!0,editorialproducts:!0,editorialsources:!0,editorialsubscription:!0,embeddable:!0,enddate:!0,ethnicity:!0,eventid:!0,events:!0,excludenudity:!0,family:!0,filmaspectratio:!0,filmdefinition:!0,filmmaker:!0,filmsegments:!0,framerate:!0,groupbyevent:!0,imagesearchhash:!0,imagesize:!0,imagetechnique:!0,istockcollection:!0,istockexclusive:!0,license:!0,locations:!0,morelikethis:!0,numberofpeople:!0,offlinecontent:!0,orientations:!0,people:!0,photographer:!0,premiumaccess:!0,recency:!0,recentlyviewed:!0,releasestatus:!0,searchbyimage:!0,sort:!0,specialcollectionid:!0,specificpeople:!0,stackid:!0,videodurationmax:!0,videodurationmin:!0,viewpoint:!0},v="illustrations",m="images",g="photos",y="vectors",b="videos",w=v,x=m,_=g,C=y,E=b,k=((r={})[w]=s,r[x]=l,r[_]=l,r[C]=s,r[E]=d,(i={})[w]="urls.illustrations",i[x]="urls.photos",i[C]="urls.illustrations",i[E]="urls.videos",i),$=((o={})[C]={assettype:"image",mediatype:"illustration",assetfiletype:"eps"},o[w]={assettype:"image",mediatype:"illustration"},o[E]={assettype:"film"},o[_]={assettype:"image",mediatype:"photography"},o[x]={assettype:"image"},function(t){return k[t]});function S(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var A=0;function O(t){return"__private_"+A+++"_"+t}var L=O("siteCapabilities"),M=O("nickname"),R=O("preventGatewaySrp"),P=O("t"),I=O("countryLanguagePrefix"),T=function(){function t(t,e,n,r){var i=this;Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),this.cleanPath=function(t){return(0,f.F$)(t,S(i,I)[I])},this.encodedCategorySegmentFor=function(t){return"film"===t.assettype?"istock"===S(i,M)[M]?S(i,P)[P]("urls.videos"):S(i,P)[P]("videos_category_browse"):"illustration"===t.mediatype?"eps"===t.assetfiletype?"istock"===S(i,M)[M]?S(i,P)[P]("vectors_category_browse_istock"):S(i,P)[P]("vectors_category_browse"):S(i,P)[P]("illustrations_category_browse"):encodeURIComponent(S(i,P)[P]("photos_category_browse"))},S(this,L)[L]=new f.Q_(t),S(this,M)[M]=t,S(this,R)[R]=e||!1,S(this,P)[P]=n,S(this,I)[I]=(0,f.F)(r)}t.phraseForUrl=function(t){var e=t.toLowerCase().replace(/[&/\\#,+()$~%'":*?<>{}!@]/g,"").replace(/\s/g,"-");return encodeURIComponent(e)};var e=t.prototype;return e.basicTraditionalPathFor=function(t){void 0===t&&(t={});var e=t.assettype||"image",n="image,film"===e?"image-film":e,r=Object.assign({},t);return delete r.assettype,r.category&&(r.phrase=r.phrase||r.category,delete r.category),this.cleanPath("/search/2/"+n+(0,f.Zv)(r))},e.eventSEOPath=function(t,e,n){void 0===n&&(n=!1);var r=t.editorialProducts[0].toLowerCase(),i="film"===e,o=i?"editorial-video":"editorial-images",a=!i&&n?"?editorialproducts=all":"";return this.cleanPath("/"+o+"/"+r+"/event/"+t.urlSlug+"/"+t.id+a)},e.eventPath=function(t,e,n){var r;if(void 0===n&&(n=!1),t.urlSlug&&null!=(r=t.editorialProducts)&&r.length)return this.eventSEOPath(t,e.assettype,n);var i={events:t.id,family:"editorial"};return e.assettype&&(i.assettype=e.assettype),e.mediatype&&(i.mediatype=e.mediatype),"film"!==e.assettype&&n&&(i.editorialproducts="all"),this.searchPath(i)},e.artistPath=function(t,e,n){var r="image"===e?"photographer":"filmmaker",i="/search/"+r,o={};return o[r]=t,delete(o=Object.assign(o,n)).artists,this.cleanPath(""+i+(0,f.Zv)(o))},e.contributorPath=function(t,e){var n="/portfolio/"+encodeURIComponent(t),r=Object.assign({},e);return delete r.contributor,this.cleanPath(""+n+(0,f.Zv)(r))},e.moreLikeThisPath=function(t,e,n){var r="/search/more-like-this/"+encodeURIComponent(t),i=Object.assign({},n);return delete i.morelikethis,e&&(i.family=e),this.cleanPath(""+r+(0,f.Zv)(i))},e.curatedSetPath=function(t,e){var n="/search/sets/"+encodeURIComponent(t),r=Object.assign({},e);return delete r.curatedset,this.cleanPath(""+n+(0,f.Zv)(r))},e.recentlyViewedPath=function(){return this.cleanPath("/search/recently-viewed")},e.searchByImagePath=function(t){var e=Object.assign({},t);return delete e.family,delete e.sort,this.cleanPath("/search/search-by-image"+(0,f.Zv)(e))},e.searchByAssetPath=function(t){var e=Object.assign({},t);return"film"===e.assettype&&delete e.phrase,delete e.sort,delete e.family,this.cleanPath("/search/search-by-asset"+(0,f.Zv)(e))},e.stackSearchPath=function(t,e,n){var r="/search/stack/"+encodeURIComponent(t),i=Object.assign({},n);return e&&(i.assettype=e),delete i.stackid,delete i.sort,delete i.license,delete i.agreements,this.cleanPath(""+r+(0,f.Zv)(i))},e.specialSearchPathFor=function(t){if(void 0===t&&(t={}),t.morelikethis)return this.moreLikeThisPath(t.morelikethis,t.family,t);if(t.curatedset)return this.curatedSetPath(t.curatedset,t);if(t.artists||t.photographer||t.filmmaker){var e=t.artists||t.photographer||t.filmmaker;return this.artistPath(e,t.assettype,t)}return t.searchbyimage?this.searchByImagePath(t):t.searchbyasset?this.searchByAssetPath(t):t.stackid?this.stackSearchPath(t.stackid,t.assettype,t):t.contributor?this.contributorPath(t.contributor,t):t.recentlyviewed?this.recentlyViewedPath():void 0},e.gatewaySearchPath=function(t,e){return void 0===e&&(e={}),S(this,L)[L].searchGateway&&S(this,R)[R]||"image,film"===t.assettype?null:this.seoSearchPath(t,e)},e.searchPath=function(t,e){return void 0===e&&(e={}),this.specialSearchPathFor(t)||this.gatewaySearchPath(t,e)||this.traditionalSearchPath(t)},e.seoSearchPath=function(e,n){void 0===n&&(n={});var r,i=n.notForHref?(r=e,!!Object.keys(r).find((function(t){return p[t]}))):function(t){return!!Object.keys(t).find((function(t){return!h[t]}))}(e);if(S(this,L)[L].searchGateway&&i)return null;if(this.specialSearchPathFor(e))return null;var o=this.encodedCategorySegmentFor(e).toLowerCase(),a=e.phrase||e.category;if(!a)return null;var c=Object.assign({},e);return c.phrase&&delete c.category,"image"===c.assettype&&"photography"===c.mediatype?null:(S(this,L)[L].searchGateway&&(delete c.phrase,delete c.category,delete c.mediatype,delete c.assettype,delete c.assetfiletype),this.cleanPath("/"+o+"/"+t.phraseForUrl(a)+(0,f.Zv)(c)))},e.traditionalSearchPath=function(t){return this.specialSearchPathFor(t)||this.basicTraditionalPathFor(t)},e.simpleSearchPath=function(e,n){var r=t.phraseForUrl(n),i=$(e),o=S(this,P)[P](null!=i?i:"urls.photos"),a=encodeURIComponent(o);return this.cleanPath("/"+a+"/"+r)},e.trendingTopics=function(t,e,n){return n?this.searchPath({assettype:t,phrase:e,mediatype:n}):this.searchPath({assettype:t,phrase:e})},t}(),D=(n(21989),n(2590),n(38130)),B=n(84481),j=function(){var t=(0,f.W4)(),e=(0,D.T)();return(0,B.useMemo)((function(){return new T(t.nickname,t.preventGatewaySrp,e,t.countryLanguagePrefix)}),[])}},32383:function(t,e,n){"use strict";n.d(e,{Nj:function(){return g},Ps:function(){return y}});var r=n(84481),i=n.n(r),o=n(94184),a=n.n(o),c=n(99183),u={container:"YOXDbdDxsIWSGUrZ_JXh",toaster:"dWYiPzZfnxGg00l_c46Q",positionBottomRight:"oFPaHMWMgy5IBWKtpVYf",positionBottom:"wu7xmPBXWMGeh95iM6AH",enter:"QdtGNjtX6N8mGiZjKNyg",enterBottomRight:"GdrDWBS0hhjbA46NdlS6",enterBottom:"JRDmmx9mD6nJSrGurBHR",enterActive:"tB69Y7xVP9nHFqXBQNR9",enterDone:"aoPQjncAG1dy26SttMpS",exit:"RrXFT10b27XVMEDVvw9m",exitActive:"rIanQ4623AfuuPFTB0WP",exitDone:"X3AbeZPQj84TvB2u7hmK",exitActiveBottomRight:"d6ojjmyiOHSnwx0Z9Ee6",exitDoneBottomRight:"egWqblCUohF8UykKuw3Z",exitActiveBottom:"WLtF1i5KeXdUEJbd9ncG",exitDoneBottom:"XTWH0JQ81CSzjrbQkwev"},s=n(85893),l=function(t){var e=t.children,n=t.close,i=t.position,o=t.closeTimeout,l=t.onClose,d=(0,r.useRef)(),f=(0,r.useState)(!1),h=f[0],p=f[1];(0,r.useLayoutEffect)((function(){p(!0)}),[]),(0,r.useEffect)((function(){return m()}),[]);var v=function(){l&&l(),p(!1),setTimeout(n,400)},m=function(){d.current||(d.current=setTimeout(v,o))},g=(0,r.useCallback)((function(){d.current&&(clearTimeout(d.current),d.current=null)}),[d.current]);return(0,s.jsx)("div",{className:u.container,children:(0,s.jsx)(c.CSSTransition,{in:h,timeout:400,unmountOnExit:!0,classNames:{appear:a()(u.enter,u["appear"+i]),appearActive:a()(u.enterActive,u["appearActive"+i]),appearDone:a()(u.enterDone,u["appearDone"+i]),enter:a()(u.enter,u["enter"+i]),enterActive:a()(u.enterActive,u["enterActive"+i]),enterDone:a()(u.enterDone,u["enterDone"+i]),exit:a()(u.exit,u["exit"+i]),exitActive:a()(u.exitActive,u["exitActive"+i]),exitDone:a()(u.exitDone,u["exitDone"+i])},children:(0,s.jsx)("div",{onMouseLeave:m,onMouseEnter:g,className:a()(u.toaster,u["position"+i]),children:e})})})},d=n(97170),f=n.n(d),h="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,p={toasters:{}},v=function(t,e){switch(e.type){case"ADD":var n;return Object.assign({},t,{toasters:Object.assign({},t.toasters,(n={},n[e.id]={component:e.component,options:e.options},n))});case"REMOVE":return delete t.toasters[e.id],Object.assign({},t,{toasters:Object.assign({},t.toasters)});default:return t}},m=(0,r.createContext)(),g=function(t){var e=t.children,n=t.targetContainer,o=(0,r.useId)(),a=(0,r.useRef)(),c=(0,r.useReducer)(v,p),u=c[0],d=c[1],g=function(t){d({type:"REMOVE",id:t})};return h((function(){a.current=document.querySelector(n),a.current||(a.current=document.createElement("div"),a.current.setAttribute("id",n.replace("#","")),a.current.setAttribute("data-testid",n.replace("#","")),document.body.appendChild(a.current))}),[]),(0,s.jsxs)(m.Provider,{value:{addToaster:function(t,e){return void 0===e&&(e={}),d({type:"ADD",id:o,component:t,options:e}),o},removeToaster:g},children:[a.current&&f().createPortal(Array.from(Object.entries(u.toasters)).map((function(t){var e=t[0],n=t[1];return(0,s.jsx)(l,{position:n.component.props.position||"BottomRight",closeTimeout:n.component.props.closeTimeout||3e4,onClose:n.component.props.onClose,close:function(){return g(e)},children:i().cloneElement(n.component,Object.assign({},n.component.props,{close:function(){return g(e)}}))},e)})),a.current),e]})};g.defaultProps={targetContainer:"#toaster-root"};var y=function(){var t=(0,r.useContext)(m);return{addToaster:t.addToaster,removeToaster:t.removeToaster}}},3382:function(t,e,n){"use strict";n.d(e,{lq:function(){return f},Tg:function(){return p},u:function(){return c}});var r=n(84481),i=n.n(r),o={tooltip:"jXROKf_QxNBsWmNJy5g0",left:"dqhmn8XQR2KalOC3ROk3","left-bottom":"H6T6hLGPk1qpBPl1ziEx","left-top":"f48a0uelxusDXY0gHsnS",right:"Meufb2Q96DUSb3Gnqr81","right-bottom":"BeUJCplz_FosM_HMu5y6","right-top":"igQwaq6gy6lhoPPXFXrR",top:"_0z4TMmxSN5WBu1Ry028","top-right":"a5zwEA40AXZDTuC9Yyse","top-left":"zL6HgA5BIkBLdMb65Yt4",bottom:"wGJJxWlmltyEQTKH5XQd","bottom-right":"LiW4khZOeN7poqBqVvSn","bottom-left":"jYfq0nR0zZYbKpjoPGMQ"},a=n(85893),c=function(t){var e=t.children,n=t.className,i=t.placement,c=t.name,u=t.trackViewed;return(0,r.useEffect)((function(){u()}),[]),(0,a.jsx)("div",{className:[o.tooltip,o[i],n].join(" "),role:"tooltip",id:c,children:e})};c.defaultProps={className:"",name:"info",placement:"left",trackViewed:function(){return null}};var u=["styles"];function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}var l=function(t){t.styles;var e=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,u);return i().createElement("svg",s({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i().createElement("path",{d:"M8 1.053L7.474.526 6.947 0 4 2.947 1.053 0 .526.526 0 1.053 2.947 4 0 6.947l.526.527.527.526L4 5.053 6.947 8l.527-.526L8 6.947 5.053 4 8 1.053z",fill:"#080808"}))},d="pryMRS8M4LzOwrqb9xMW",f=function(t){var e=t.children,n=t.localStorageKey,i=t.isTooltipVisible,o=t.trackViewed,u=t.trackDismissed,s=t.className,f=t.placement,h=t.name,p=(0,r.useState)(!1),v=p[0],m=p[1];return(0,r.useEffect)((function(){var t,e=null!=(t=window)&&t.localStorage?JSON.parse(window.localStorage.getItem(n)):null;!i||null!==e&&!1!==e.dismissed?m(!1):m(!0)}),[i]),v&&(0,a.jsxs)(c,{placement:f,name:h,className:s,trackViewed:o,children:[e,(0,a.jsx)("button",{className:d,type:"button",onClick:function(){var t;t={timestamp:new Date,dismissed:!0},window.localStorage.setItem(n,JSON.stringify(t)),m(!1),u()},"aria-label":"close",children:(0,a.jsx)(l,{})})]})};f.defaultProps={isTooltipVisible:!0,placement:"left",className:"",name:"info",trackViewed:function(){return null},trackDismissed:function(){return null}};var h="DVGzRulBN0CJeSkPJHdv",p=function(t){var e=t.children,n=t.className,i=t.name,o=t.placement,u=t.trackViewed,s=t.trigger,l=(0,r.useState)(!1),d=l[0],f=l[1],p=(0,r.useState)(!1),v=p[0],m=p[1];return(0,a.jsxs)("div",{"data-testid":"hoverableTooltip",children:[(0,a.jsx)("div",{"data-testid":"hoverTrigger",className:h,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:s}),(d||v)&&(0,a.jsx)("div",{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:(0,a.jsx)(c,{placement:o,name:i,className:n,trackViewed:u,children:e})})]})};p.defaultProps={className:"",name:"info",placement:"top",trackViewed:function(){return null}}},74074:function(t,e,n){"use strict";n.d(e,{u:function(){return o}});var r=function(){function t(t){var e=this;this.intersectionOptionsDefault={root:null,rootMargin:"0px",threshold:.85},this.canSeeElement=function(t){return null!=window.combinedGtmTracking&&!e.isViewed&&t.isIntersecting},this.sendSeenTracking=function(){window.combinedGtmTracking.gtmPushTracking(e.interactionName,e.interactionDetails),e.isViewed=!0},this.callbackFunction=function(t){var n=t[0];e.canSeeElement(n)&&e.sendSeenTracking()};var n=t.interactionName,r=t.interactionDetails,i=t.intersectionOptions;this.interactionName=n,this.interactionDetails=r,this.intersectionOptions=this.intersectionOptionsDefault,null!=i&&(this.intersectionOptions=i),this.savedTarget=null}return t.prototype.sendTracking=function(t){var e=this;if(this.isViewed||!t.current||"undefined"==typeof window||!window.combinedGtmTracking)return function(){return""};var n=new IntersectionObserver(this.callbackFunction,this.intersectionOptions);return n.observe(t.current),this.savedTarget=null==t?void 0:t.current,function(){e.savedTarget&&n.unobserve(e.savedTarget)}},t}(),i=n(65112),o=function(){return{prepareEvent:function(t,e){return function(t,e){if("undefined"!=typeof window&&window.giLocalStorage)for(var n in window.giLocalStorage.setItem("tracking-data.event",t),e)window.giLocalStorage.setItem("tracking-data."+n.replace(/_/g,"-"),e[n])}(t,e)},trackEvent:function(t,e){return function(t,e){"undefined"!=typeof window&&window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking(t,e)}(t,e)},trackSearch:function(){"undefined"!=typeof window&&window.combinedGtmTracking&&window.combinedGtmTracking.gtmSearchResultsChanged()},trackGa4Event:function(t){return function(t){"undefined"!=typeof window&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(t))}(t)},trackAbTestVariation:function(t){return function(t){if("undefined"!=typeof window&&"string"==typeof t){var e=window.tracking_data.ab_test_variation;window.tracking_data.ab_test_variation=e?e+"|"+t:t}}(t)},trackViewed:function(t){return new r(t)},fetchTrackingData:i.t}}},39468:function(t,e,n){"use strict";n.d(e,{T:function(){return l}});var r=n(9499),i=n.n(r);function o(){o=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),c=new M(r||[]);return i(a,"_invoke",{value:S(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",p="suspendedYield",v="executing",m="completed",g={};function y(){}function b(){}function w(){}var x={};l(x,c,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(R([])));C&&C!==n&&r.call(C,c)&&(x=C);var E=w.prototype=y.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function $(t,e){function n(i,o,a,c){var u=f(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function S(e,n,r){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=A(c,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?m:p,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=m,r.method="throw",r.arg=s.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},k($.prototype),l($.prototype,u,(function(){return this})),e.AsyncIterator=$,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new $(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(E),l(E,s,"Generator"),l(E,c,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function a(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){a(o,r,i,c,u,"next",t)}function u(t){a(o,r,i,c,u,"throw",t)}c(void 0)}))}}var u=function(){function t(t){this.trackingData=t}var e=t.prototype;return e.defaultData=function(){return{source:this.trackingData.site_nickname,properties:{accept_lang:this.trackingData.language,auth_state:this.trackingData.auth_state,country:this.trackingData.billing_country||this.trackingData.geolocation_country,experiences:this.trackingData.spectrum_experiences,industry:this.trackingData.industry_segment,referer:document.referrer,request_id:this.trackingData.request_id,RF_plus_enabled:this.trackingData.has_expansion_bundle,target_search_mix:this.trackingData.target_search_mix,url:this.trackingData.url,user_agent:this.trackingData.user_agent,user_id:this.trackingData.userid,visitor_count:this.trackingData.visitor_count,visitor_id:this.trackingData.visitor_id}}},e.assetData=function(t){return{asset_id:t.id||t.asset_id||t.assetId,search_position:t.slot,asset_metadata:{editorial_products:t.editorial_products||t.editorialProducts,asset_family:t.asset_family||t.assetFamily||t.family,asset_type:t.asset_type||t.assetType,has_nudity:t.has_nudity||t.hasNudity}}},e.searchData=function(t){return{asset_ids:t.asset_ids,asset_family:t.asset_family,creative_assets_type:t.creative_assets_type,exclude_nudity:t.exclude_nudity,license:t.license,number_of_concepts:t.number_of_concepts,page_number:t.page_number,pa_agreement_filter:t.pa_agreement_filter,sbi:t.sbi,search_page_format:t.search_page_format,sort_type:t.sort_type,phrase:t.phrase,queried_keywords_by_clause:t.queried_keywords_by_clause,total_number_of_results:t.total_number_of_results}},e.adpCategoryLinkClickSignalData=function(t){var e=this.defaultData();return e.event="ADP Category Link Click",e.properties=Object.assign({},e.properties,t),e},e.adpCategoryBrowseClickSignalData=function(t){var e=this.defaultData();return e.event="ADP Category Browse Click",e.properties=Object.assign({},e.properties,t),e},e.cartRemoveItemSignalData=function(t){var e=this.defaultData();return e.event="Cart Remove Item",e.properties=Object.assign({},e.properties,t),e},e.chatRequestSuccessSignalData=function(t){var e=this.defaultData();return e.event="Chat Request Success",e.properties=Object.assign({},e.properties,t),e},e.chatClosedSignalData=function(t){var e=this.defaultData();return e.event="Chat Closed",e.properties=Object.assign({},e.properties,t),e},e.chatOpenDataSignalData=function(t){var e=this.defaultData();return e.event="Chat Open",e.properties=Object.assign({},e.properties,t),e},e.pnpSubscriptionTermToggleSignalData=function(t){var e=this.defaultData();return e.event="PNP Subscription Term Toggle",e.properties=Object.assign({},e.properties,t),e},e.pnpFaqSignalData=function(t){var e=this.defaultData();return e.event="PNP FAQ",e.properties=Object.assign({},e.properties,t),e},e.boardCreatedSignalData=function(t,e){var n=this.defaultData();return n.event="Board Created",n.properties=Object.assign({},n.properties,{board_id:t},e),n},e.boardDeletedSignalData=function(t,e){var n=this.defaultData();return n.event="Board Deleted",n.properties=Object.assign({},n.properties,{board_id:t},e),n},e.boardItemRemovedSignalData=function(t,e,n){var r=this.defaultData();return r.event="Board Removed Item",r.properties=Object.assign({},r.properties,{board_id:e},this.assetData(t),n),r},e.assetAddedToCartSignalData=function(t,e){var n=this.defaultData();return n.event="Asset Added To Cart",n.properties=Object.assign({},n.properties,this.assetData(t),e),n},e.assetDetailsViewedSignalData=function(t,e){var n=this.defaultData();return n.event="Asset Details Viewed",n.properties=Object.assign({},n.properties,this.assetData(t),e),n},e.assetCompDownloadedSignalData=function(t,e){var n=this.defaultData();return n.event="Asset Comp Downloaded",n.properties=Object.assign({},n.properties,this.assetData(t),e),n},e.assetPurchasedSignalData=function(t,e){var n=this.defaultData();return n.event="Asset Purchased",n.properties=Object.assign({},n.properties,this.assetData(t),e),n},e.assetDownloadedSignalData=function(t,e){var n=this.defaultData();return n.event="Asset Downloaded",n.properties=Object.assign({},n.properties,this.assetData(t),e),n},e.bulkDownloadedSignalData=function(t){var e=this.defaultData();return e.event="Bulk Downloaded",e.properties=Object.assign({},e.properties,t),e},e.assetAddedToBoardSignalData=function(t,e,n){var r=this.defaultData();return r.event="Asset Added To Board",r.properties=Object.assign({},r.properties,this.assetData(t),{board_id:e},n),r},e.itemSelectedSignalData=function(t,e,n,r){var i=this.defaultData();return i.event="Item Selected",i.properties=Object.assign({},i.properties,{location:t,selection:{name:e,value:n}},r),i},e.assetImpressionsSignalData=function(t,e){var n=this.defaultData();return n.event="Asset Impression",n.properties=Object.assign({},n.properties,{asset_ids:t},e),n},e.searchSignalData=function(t,e){var n=this.defaultData();return n.event="Search Results Viewed",n.properties=Object.assign({},n.properties,this.searchData(t),e),n},e.searchMoreLikeThisSignalData=function(t,e){var n=this.defaultData();return n.event="Search More Like This Viewed",n.properties=Object.assign({},n.properties,this.searchData(t),e),n},e.sendChatClosedSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.chatClosedSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendBoardDeletedSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.boardDeletedSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendAdpCategoryLinkClickSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.adpCategoryLinkClickSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendAdpCategoryBrowseClickSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.adpCategoryBrowseClickSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendCartRemoveItemSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.cartRemoveItemSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendChatRequestSuccessSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.chatRequestSuccessSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendChatOpenDataSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.chatOpenDataSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendPnpFaqSignalSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.pnpFaqSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendPnpSubscriptionTermToggleSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.pnpSubscriptionTermToggleSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendAssetAddedToBoardSignal=function(){var t=c(o().mark((function t(e,n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),t.abrupt("return",this.postSignal(this.assetAddedToBoardSignalData(e,n,r)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.sendAssetCompDownloadedSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.assetCompDownloadedSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendBoardCreatedSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.boardCreatedSignalData(e={})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendAssetDownloadedSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.assetDownloadedSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendBoardItemRemovedSignal=function(){var t=c(o().mark((function t(e,n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),t.abrupt("return",this.postSignal(this.boardItemRemovedSignalData(e,n,r)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.sendAssetPurchasedSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.assetPurchasedSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendBulkDownloadedSignal=function(){var t=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.abrupt("return",this.postSignal(this.bulkDownloadedSignalData(e)));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.sendItemSelectedSignal=function(){var t=c(o().mark((function t(e,n,r,i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i={}),t.abrupt("return",this.postSignal(this.itemSelectedSignalData(e,n,r,i)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),e.sendAssetAddedToCartSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.assetAddedToCartSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendAssetDetailsViewedSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.assetDetailsViewedSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendAssetImpressionsSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.assetImpressionsSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendSearchSignal=function(){var t=c(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.abrupt("return",this.postSignal(this.searchSignalData(e,n)));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.postSignal=function(){var t=c(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.pipeline_id=window.pipelineId,e.app_name=null==(n=window.application)?void 0:n.app_prefix,r=this.trackingData.spectrum_host_three+"signals",t.prev=3,"undefined"==typeof window||!window.navigator||!window.navigator.sendBeacon){t.next=9;break}return t.next=7,window.navigator.sendBeacon(r,JSON.stringify([e]));case 7:t.next=11;break;case 9:return t.next=11,i().post(r,[e]);case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(3),t.abrupt("return",{});case 16:case"end":return t.stop()}}),t,this,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),t}(),s=n(65112),l=function(){var t=(0,s.t)(),e=new u(t);return{sendAssetAddedToBoardSignal:function(t,n,r){return e.sendAssetAddedToBoardSignal(t,n,r)},sendAssetAddedToCartSignal:function(t,n){return e.sendAssetAddedToCartSignal(t,n)},sendAssetDetailsViewedSignal:function(t,n){return e.sendAssetDetailsViewedSignal(t,n)},sendAssetCompDownloadedSignal:function(t,n){return e.sendAssetCompDownloadedSignal(t,n)},sendAssetDownloadedSignal:function(t,n){return e.sendAssetDownloadedSignal(t,n)},sendAssetImpressionsSignal:function(t,n){return e.sendAssetImpressionsSignal(t,n)},sendBulkDownloadedSignal:function(t){return e.sendBulkDownloadedSignal(t)},sendItemSelectedSignal:function(t,n,r,i){return e.sendItemSelectedSignal(t,n,r,i)},sendSearchSignal:function(t,n){return e.sendSearchSignal(t,n)},sendPnpSubscriptionTermToggleSignal:function(t){return e.sendPnpSubscriptionTermToggleSignal(t)},sendAdpCategoryBrowseClickSignal:function(t){return e.sendAdpCategoryBrowseClickSignal(t)},sendAdpCategoryLinkClickSignal:function(t){return e.sendAdpCategoryLinkClickSignal(t)},sendChatRequestSuccessSignal:function(t){return e.sendChatRequestSuccessSignal(t)},sendBoardItemRemovedSignal:function(t,n,r){return e.sendBoardItemRemovedSignal(t,n,r)},sendAssetPurchasedSignal:function(t,n){return e.sendAssetPurchasedSignal(t,n)},sendCartRemoveItemSignal:function(t){return e.sendCartRemoveItemSignal(t)},sendBoardCreatedSignal:function(t){return e.sendBoardCreatedSignal(t)},sendPnpFaqSignalSignal:function(t){return e.sendPnpFaqSignalSignal(t)},sendChatOpenDataSignal:function(t){return e.sendChatOpenDataSignal(t)},sendBoardDeletedSignal:function(t,n){return e.sendBoardDeletedSignal(t,n)},sendChatClosedSignal:function(t){return e.sendChatClosedSignal(t)}}}},65112:function(t,e,n){"use strict";n.d(e,{t:function(){return r}});var r=function(){return"undefined"!=typeof window&&window.tracking_data?window.tracking_data:{}}},39102:function(t,e,n){"use strict";var r=n(84481),i=n(45697),o=function(t){var e=t.children,n=(0,r.useState)(!0),i=n[0],o=n[1];return(0,r.useEffect)((function(){o(!1)}),[]),!i&&e};o.propTypes={children:n.n(i)().node.isRequired},e.Z=o},55972:function(t,e,n){"use strict";n(84481);var r=n(41284),i=n.n(r),o=n(85893);e.Z=function(t){var e,n=t.children,r=t.trusted,a="string"!=typeof n||void 0!==r&&r?n:(e=n,i()(e,{allowedTags:["a","b","i","em","strong","strike","br"],allowedAttributes:!1}));return(0,o.jsx)("span",{"data-testid":"sanitizedString",dangerouslySetInnerHTML:{__html:a}})}},10453:function(t,e,n){"use strict";n.d(e,{F5:function(){return ak},jZ:function(){return xe},xI:function(){return ke},qR:function(){return Se},OW:function(){return Oe},Rc:function(){return Re},e6:function(){return Ie},_y:function(){return se},S2:function(){return nc},ML:function(){return be},od:function(){return ci},x1:function(){return Bk},bA:function(){return gn},cw:function(){return q$},zt:function(){return le},y6:function(){return ht},rY:function(){return $i},Bd:function(){return ik},a5:function(){return kt},$o:function(){return Ut},wW:function(){return Wt},fV:function(){return Tt},AA:function(){return Yt},Zo:function(){return zt},L$:function(){return It},b5:function(){return ue},Q4:function(){return ee},x4:function(){return Kt}});var r=n(84481),i=n.n(r);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=function(t,e){if(0===t.size)return{removed:0,restored:0};for(var n,r=0,i=0,a=o(t);!(n=a()).done;){var c=n.value;e.has(c)?i+=1:r+=1}return{removed:r,restored:i}};function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l,d,f,h=function(t,e){for(var n,r=new Set(t),i=u(e);!(n=i()).done;){var o=n.value;r.has(o)?r.delete(o):r.add(o)}return r},p=function(t){var e=t.backgroundRemoved,n=t.backgroundBlurred,r=t.removedObjects,i=t.crop,o=[];void 0!==e&&o.push({value:"image_adp_background_removed",included:e}),void 0!==n&&o.push({value:"image_adp_background_blurred",included:n}),void 0!==r&&o.push({value:"image_adp_objects_removed",included:r.size>0}),void 0!==i&&o.push({value:"adp_crop",included:i}),function(t){if(window.tracking_data){var e=window.tracking_data.page_mode,n=e?e.split("|"):[];t.forEach((function(t){var e,r,i=t.value,o=t.included;n=o?(r=i,(e=n).includes(r)||e.push(r),e):function(t,e){return t.filter((function(t){return t!==e}))}(n,i)})),window.tracking_data.page_mode=n.join("|")}}(o)},v=function(t){return p({backgroundRemoved:t})},m=function(t){return p({backgroundBlurred:t})},g=function(t){return p({removedObjects:t})},y=function(){},b=function(){},w=(0,r.createContext)({objects:[],hoveredListItem:null,objectListHovered:!1,maskingCoordinates:new Set,modificationCount:null,removedObjects:new Set,selectedObjects:new Set,addObjectMask:y,removeObjectMask:y,addHoveredListItem:y,removeHoveredListItem:b,modifyObjects:b,toggleObjectListHovered:b,toggleObjectSelected:y,clearMaskingAndHoverData:b,resetAllObjects:b,hasRemovedObjectsChange:function(){return!1},setModificationCount:function(){},setRemovedObjects:function(){}}),x=function(t){var e=t.objects,n=t.initialRemovedObjects,o=t.children,a=(0,r.useState)({removed:0,restored:0}),u=a[0],s=a[1],l=(0,r.useState)(!1),d=l[0],f=l[1],p=(0,r.useState)(null),v=p[0],m=p[1],y=(0,r.useState)(new Set(n)),b=y[0],x=y[1],_=(0,r.useState)(new Set),C=_[0],E=_[1],k=(0,r.useState)(new Set),$=k[0],S=k[1],A=(0,r.useCallback)((function(t){g(t),x(t)}),[g,x]),O=(0,r.useCallback)((function(t){$.has(t.coordinates)||($.add(t.coordinates),S(new Set($)))}),[$]),L=(0,r.useCallback)((function(t){C.has(t)||$.has(t.coordinates)&&($.delete(t.coordinates),S(new Set($)))}),[C,$]),M=(0,r.useCallback)((function(t){m(t)}),[]),R=(0,r.useCallback)((function(){m(null)}),[]),P=(0,r.useCallback)((function(){f(!d)}),[d]),I=(0,r.useCallback)((function(t){C.has(t)?C.delete(t):C.add(t),E(new Set(C))}),[C]),T=(0,r.useCallback)((function(){E(new Set),S(new Set),f(!1),m(null)}),[]),D=(0,r.useCallback)((function(){s(c(C,b)),A(h(C,b)),T()}),[C,b,h,T]),B=(0,r.useCallback)((function(){T(),A(new Set)}),[]),j=(0,r.useCallback)((function(){return h(b,n).size>0}),[b,n]),N=(0,r.useMemo)((function(){return{objects:e,hoveredListItem:v,objectListHovered:d,maskingCoordinates:$,modificationCount:u,removedObjects:b,selectedObjects:C,addObjectMask:O,removeObjectMask:L,addHoveredListItem:M,removeHoveredListItem:R,modifyObjects:D,toggleObjectListHovered:P,toggleObjectSelected:I,clearMaskingAndHoverData:T,resetAllObjects:B,hasRemovedObjectsChange:j,setModificationCount:s,setRemovedObjects:A}}),[e,v,d,$,u,b,C,O,L,M,R,D,P,I,T,B,j,s,A]);return i().createElement(w.Provider,{value:N},o)};!function(t){t.PA="PA",t.IP="IP"}(l||(l={})),function(t){t.GETTY="getty",t.ISTOCK="istock"}(d||(d={})),function(t){t.RemoveBackground="RemoveBackground",t.RemoveObjects="RemoveObjects",t.ModifyBackground="ModifyBackground",t.RemoveObjectsWithMask="RemoveObjectsWithMask"}(f||(f={}));var _,C,E,k=(0,r.createContext)({activeModificationType:f.RemoveBackground,setActiveModificationType:function(t){},activeModificationSubtype:f.RemoveBackground,setActiveModificationSubtype:function(t){}}),$=function(t){var e=t.initialModificationType,n=t.children,o=(0,r.useState)(e),a=o[0],c=o[1],u=(0,r.useState)(f.RemoveBackground),s=u[0],l=u[1],d=(0,r.useMemo)((function(){return{activeModificationType:a,setActiveModificationType:c,activeModificationSubtype:s,setActiveModificationSubtype:l}}),[a,s]);return i().createElement(k.Provider,{value:d},n)},S=n(24735),A=(0,r.createContext)({activeModifications:[],setActiveModifications:function(){},showModal:!1,openModal:function(){},closeModal:function(){},modalIsClosing:!1,showDropdown:!1,setShowDropdown:function(){},initialModificationType:f.RemoveBackground,initialBackgroundRemoved:{current:!1},initialBackgroundBlurred:{current:!1},initialRemovedObjects:{current:new Set},showOpenAnimation:{current:!1},modificationSessionId:{current:Date.now().toString()},resetToOriginal:!1,setResetToOriginal:function(){},resetInitialModifications:function(){},enhancedObjectRemoval:!1}),O=function(t){var e=t.availableModifications,n=t.openWithModificationType,o=t.children,a=(0,r.useState)([]),c=a[0],u=a[1],s=(0,r.useState)(!!n),l=s[0],d=s[1],f=(0,r.useState)(!1),h=f[0],v=f[1],m=(0,r.useState)(!1),g=m[0],y=m[1],b=(0,r.useState)(n),w=b[0],_=b[1],C=(0,r.useState)(!1),E=C[0],k=C[1],$=(0,r.useRef)(!1),O=(0,r.useRef)(!1),L=(0,r.useRef)(new Set),M=(0,r.useRef)(!n),R=(0,S._P)("BriaEnhancedObjectRemoval").isActive(),P=(0,r.useRef)(Date.now().toString());(0,r.useEffect)((function(){document.body.classList.remove("modifications-modal")}),[]);var I=(0,r.useCallback)((function(t){_(t),P.current=Date.now().toString(),d(!0)}),[]),D=(0,r.useCallback)((function(t,e,n){void 0!==t&&($.current=t),void 0!==n&&(L.current=n),void 0!==e&&(O.current=e),p({backgroundRemoved:$.current,backgroundBlurred:O.current,removedObjects:L.current}),M.current=!0,v(!0),setTimeout((function(){d(!1),v(!1)}),500)}),[]),B=(0,r.useCallback)((function(){$.current=!1,O.current=!1,L.current=new Set}),[]),j=(0,r.useMemo)((function(){return{activeModifications:c,setActiveModifications:u,showModal:l,openModal:I,closeModal:D,modalIsClosing:h,showDropdown:g,setShowDropdown:y,initialModificationType:w,initialBackgroundRemoved:$,initialBackgroundBlurred:O,initialRemovedObjects:L,showOpenAnimation:M,modificationSessionId:P,resetToOriginal:E,setResetToOriginal:k,resetInitialModifications:B,enhancedObjectRemoval:R}}),[c,u,l,I,D,h,g,y,w,$,O,L,M,P,E,k,B,R]);return i().createElement(A.Provider,{value:j},i().createElement(x,{objects:null==e?void 0:e.objects,initialRemovedObjects:L.current},i().createElement(V,null,i().createElement(T,{initialBackgroundRemoved:$.current,initialBackgroundBlurred:O.current},o))))},L=function(){},M=L,R=L,P=L,I=(0,r.createContext)({backgroundRemoved:!1,backgroundBlurred:!1,backgroundBlurredScale:null,setBackgroundBlurred:R,setBackgroundBlurredScale:P,setBackgroundRemoved:M,hasBackgroundChange:function(){return!1}}),T=function(t){var e=t.initialBackgroundRemoved,n=t.initialBackgroundBlurred,o=t.children,a=(0,r.useState)(e),c=a[0],u=a[1],s=(0,r.useState)(n),l=s[0],d=s[1],f=(0,r.useState)(null),h=f[0],p=f[1],g=(0,r.useCallback)((function(t){v(t),u(t),t&&(d(!1),m(!1),p(null))}),[]),y=(0,r.useCallback)((function(t){m(t),d(t),t?(u(!1),v(!1),p(3)):p(null)}),[]),b=(0,r.useCallback)((function(){return c!==e||l!==n}),[c,e,l,n]),w=(0,r.useMemo)((function(){return{backgroundRemoved:c,backgroundBlurred:l,backgroundBlurredScale:h,hasBackgroundChange:b,setBackgroundRemoved:g,setBackgroundBlurred:y,setBackgroundBlurredScale:p}}),[c,l,h,b,g,p]);return i().createElement(I.Provider,{value:w},o)},D=function(){},B=(0,r.createContext)({showBackgroundError:!1,setShowBackgroundError:D,showObjectError:!1,setShowObjectError:D,showNotification:!1,clearModificationErrors:function(){},setShowNotification:D,clearNotification:!1,setClearNotification:D}),j=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],c=(0,r.useState)(!1),u=c[0],s=c[1],l=(0,r.useState)(!1),d=l[0],f=l[1],h=(0,r.useState)(!1),p=h[0],v=h[1],m=(0,r.useCallback)((function(){a(!1),s(!1)}),[]),g=(0,r.useMemo)((function(){return{clearNotification:p,setClearNotification:v,showBackgroundError:o,setShowBackgroundError:a,showObjectError:u,setShowObjectError:s,clearModificationErrors:m,showNotification:d,setShowNotification:f}}),[p,v,o,a,u,s,m,d,f]);return i().createElement(B.Provider,{value:g},e)},N=function(){},F=(0,r.createContext)({showFeedbackModal:!1,toggleFeedbackModal:N,showFeedbackBanner:!0,toggleFeedbackBanner:N}),z=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],c=(0,r.useState)(!0),u=c[0],s=c[1],l=(0,r.useCallback)((function(){a(!o)}),[o]),d=(0,r.useCallback)((function(){s(!u)}),[u]),f=(0,r.useMemo)((function(){return{showFeedbackModal:o,toggleFeedbackModal:l,showFeedbackBanner:u,toggleFeedbackBanner:d}}),[o,l,u,d]);return i().createElement(F.Provider,{value:f},e)},Z=function(){},H=(0,r.createContext)({removedObjectMasks:new Set,selectedObjectMasks:new Set,modificationCount:null,modifyObjectMasks:function(){},setModificationCount:function(){},setRemovedObjectMasks:Z,setSelectedObjectMasks:Z,toggleObjectMaskSelected:function(){}}),V=function(t){var e=t.children,n=(0,r.useState)({removed:0,restored:0}),o=n[0],a=n[1],u=(0,r.useState)(new Set),s=u[0],l=u[1],d=(0,r.useState)(new Set),f=d[0],p=d[1],v=(0,r.useCallback)((function(t){f.has(t)?f.delete(t):f.add(t),p(new Set(f))}),[f]),m=(0,r.useCallback)((function(){a(c(f,s)),l(h(f,s)),p(new Set)}),[f,s,h]),g=(0,r.useMemo)((function(){return{removedObjectMasks:s,selectedObjectMasks:f,modificationCount:o,modifyObjectMasks:m,setModificationCount:a,setRemovedObjectMasks:l,setSelectedObjectMasks:p,toggleObjectMaskSelected:v}}),[s,f,o,m,a,l,p,v]);return i().createElement(H.Provider,{value:g},e)},U=n(82056),G=function(t,e){void 0===e&&(e={}),(0,U.r$)(t,e)},W=function(t,e){void 0===e&&(e={}),G(t,e)},K=n(52965),X=n.n(K),Y=n(55733),q=n.n(Y);function J(){J=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Q(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}!function(t){t.Person="person",t.Background="background",t.Object="object",t.ObjectMask="objectMask"}(_||(_={})),function(t){t.Blur="blur",t.Remove="remove",t.Replace="replace"}(C||(C={})),function(t){t.High="high"}(E||(E={}));var tt,et,nt,rt,it,ot=/_([a-zA-Z0-9]+)\./,at=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Q(o,r,i,a,c,"next",t)}function c(t){Q(o,r,i,a,c,"throw",t)}a(void 0)}))}}(J().mark((function t(e){var n,r,i,o,a;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={masks:[],panoptic:""},t.prev=1,t.next=4,X().get(e,{responseType:"arraybuffer"});case 4:return r=t.sent,i=r.data,t.next=8,q()().loadAsync(i);case 8:return o=t.sent,a=[],o.forEach((function(t,e){var n=e.async("blob").then((function(t){var n=new Blob([t],{type:"image/png"});return[e.name,URL.createObjectURL(n)]})).catch((function(t){return Promise.reject(t)}));a.push(n)})),t.next=13,Promise.all(a);case 13:t.sent.forEach((function(t){var e=t[0].match(ot);if(e){var r=parseInt(e[1],10);"panoptic"===e[1]?n.panoptic=t[1]:n.masks[r-1]={id:r,url:t[1],type:_.ObjectMask}}})),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),W(t.t0);case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}(),ct=at,ut=n(22867);!function(t){t.BANNER_SHOWN="bannerShown",t.BUTTON_SHOWN="buttonShown",t.ADP_INTERACTION="adpInteraction"}(tt||(tt={})),function(t){t.IMAGE_ADP_TOOLS_PANEL_TOP="image_adp_tools_panel_top",t.ADP_MODAL_IMAGE_TOP="adp_modal_image_top",t.IMAGE_ADP_AI_MODAL="image_adp_ai_modal",t.IMAGE_ADP_MODAL="image_adp_modal",t.ADP_MODAL="adp_modal",t.IMAGE_ADP="image_adp",t.ADP_AI_MODS_FEEDBACK_MODAL="adp_ai_mods_feedback_modal",t.IMAGE_ADP_TOOLS_PANEL_TOP_CANCEL_BUTTON_CLICK="image_adp_tools_panel_top_cancel_Button_Click",t.IMAGE_ADP_TOOLS_PANEL_TOP_APPLY_BUTTON_CLICK="image_adp_tools_panel_top_apply_Button_Click",t.IMAGE_ADP_TOOLS_PANEL_BOTTOM_ROTATE_SLIDER_CLICK="image_adp_tools_panel_bottom_Rotate_Slider_Click",t.IMAGE_ADP_TOOLS_PANEL_BOTTOM_ZOOM_SLIDER_CLICK="image_adp_tools_panel_bottom_Zoom_Slider_Click"}(et||(et={})),function(t){t.ADP_REMOVE_BACKGROUND_ERROR_BANNER="ADP_remove_background_error_banner",t.ADP_MODAL_REMOVE_OBJECT_ERROR_BANNER="ADP_modal_remove_object_error_banner",t.ADP_MODAL_REMOVE_BACKGROUND_ERROR_BANNER="ADP_modal_remove_background_error_banner",t.ADP_MODAL_MODIFY_BACKGROUND_ERROR_BANNER="ADP_modal_modify_background_error_banner",t.ADP_MODAL_TAB_REMOVE_BACKGROUND_SHOWN="ADP_Modal_Tab_Remove_Background_Shown",t.ADP_MODAL_TAB_REMOVE_OBJECT_SHOWN="ADP_Modal_Tab_Remove_Object_Shown",t.ADP_MODIFY_WITH_AI_BUTTON="ADP_Modify_with_Ai_Button",t.ADP_REMOVE_BACKGROUND_BUTTON="ADP_remove_background_button",t.ADP_CROP_BUTTON="ADP_crop_button",t.IMAGE_ADP_CROP_ERROR_BANNER="Image_ADP_crop_error_banner"}(nt||(nt={})),function(t){t.ADP_MODAL_CLICK="ADP_Modal_Click",t.ADP_IMAGE_REMOVE_OBJECTS_BUTTON_CLICK="ADP_Image_Remove_Objects_Button_Click",t.ADP_IMAGE_REMOVE_BACKGROUND_BUTTON_CLICK="ADP_Image_Remove_Background_Button_Click",t.ADP_IMAGE_REMOVE_BACKGROUND_TOGGLE_CLICK="ADP_image_remove_background_toggle_click",t.ADP_IMAGE_BLUR_BACKGROUND_TOGGLE_CLICK="ADP_image_blur_background_toggle_click",t.ADP_MODAL_TAB_REMOVE_BACKGROUND_CLICK="ADP_Modal_Tab_Remove_Background_Click",t.ADP_MODAL_TAB_REMOVE_OBJECT_CLICK="ADP_Modal_Tab_Remove_Object_Click",t.IMAGE_ADP_MODIFY_WITH_AI_BUTTON_CLICK="image_ADP_Modify_with_Ai_Button_Click",t.ADP_IMAGE_CARROT_CLICK="ADP_Image_carrot_Click",t.ADP_MODAL_SHOWN="ADP_Modal_Shown",t.ADP_MODAL_DISMISS="ADP_Modal_Dismiss",t.IMAGE_ADP_REMOVE_BACKGROUND_BUTTON_CLICK="image_ADP_Remove_Background_Button_Click",t.IMAGE_ADP_RESTORE_BACKGROUND_BUTTON_CLICK="image_ADP_Restore_Background_Button_Click",t.IMAGE_ADP_CROP_BUTTON_CLICK="Image_ADP_Crop_Button_Click",t.IMAGE_ADP_CROP_FREEFORM_CLICK="Image_ADP_Crop_Freeform_Click",t.IMAGE_ADP_CROP_MORE_CLICK="Image_ADP_Crop_More_Click",t.IMAGE_ADP_ROTATE_BUTTON_CLICK="Image_ADP_Rotate_Button_Click",t.IMAGE_ADP_FLIP_BUTTON_CLICK="Image_ADP_Flip_Button_Click",t.IMAGE_ADP_RESET_BUTTON_CLICK="Image_ADP_Reset_Button_Click",t.IMAGE_ADP_CANCEL_BUTTON_CLICK="Image_ADP_Cancel_Button_Click",t.IMAGE_ADP_APPLY_BUTTON_CLICK="Image_ADP_Apply_Button_Click",t.IMAGE_ADP_ROTATE_SLIDER_CLICK="Image_ADP_Rotate_Slider_Click",t.IMAGE_ADP_ZOOM_SLIDER_CLICK="Image_ADP_Zoom_Slider_Click"}(rt||(rt={})),function(t){t.ADP_AI_BACKGROUND_BLUR_INTENSITY="ADP_Ai_background_blur_intensity",t.ADP_AI_MODAL_DISCARD_CHANGES="ADP_Ai_modal_Discard_Changes",t.ADP_AI_OBJECTS_REMOVED="ADP_Ai_Objects_Removed",t.ADP_REMOVE_OBJECTS="ADP_Remove_Objects",t.ADP_AI_MODAL_PROCEED_TO_DOWNLOAD_BUTTON="ADP_Ai_modal_Proceed_to_Download_Button",t.ADP_AI_MODAL_APPLY_CHANGES="ADP_Ai_modal_apply_changes",t.ADP_AI_MODAL_FAQ_LINK="ADP_Ai_modal_FAQ_link",t.ADP_IMAGE_TOGGLE_REMOVE_BACKGROUND="ADP_image_toggle_remove_background",t.ADP_IMAGE_TOGGLE_RESTORE_BACKGROUND="ADP_image_toggle_restore_background",t.ADP_IMAGE_TOGGLE_BLUR_BACKGROUND="ADP_image_toggle_blur_background",t.ADP_IMAGE_TOGGLE_UNBLUR_BACKGROUND="ADP_image_toggle_unblur_background",t.ADP_AI_OBJECTS_AREA_SELECTED="ADP_Ai_Objects_Area_Selected",t.ADP_MODAL_TAB_REMOVE_BACKGROUND="ADP_Modal_Tab_Remove_Background",t.ADP_MODAL_TAB_REMOVE_OBJECT="ADP_Modal_Tab_Remove_Object",t.ADP_MODIFY_WITH_AI="ADP_Modify_with_Ai",t.ADP_AI_MODAL_CARROT="ADP_ai_modal_carrot",t.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_VERY_POOR_1="ADP_modal_remove_background_feedback_very_poor_1",t.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_POOR_2="ADP_modal_remove_background_feedback_poor_2",t.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_FAIR_3="ADP_modal_remove_background_feedback_fair_3",t.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_GOOD_4="ADP_modal_remove_background_feedback_good_4",t.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_GREAT_5="ADP_modal_remove_background_feedback_great_5",t.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_ERROR="ADP_modal_remove_background_feedback_error",t.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_SUBMIT="ADP_Modal_Remove_Background_Feedback_Submit",t.ADP_REMOVE_BACKGROUND_FEEDBACK="ADP_remove_background_feedback",t.ADP_REMOVE_BACKGROUND="ADP_Remove_Background",t.ADP_RESTORE_BACKGROUND="ADP_Restore_Background",t.ADP_CROP="ADP_Crop"}(it||(it={}));var st=function(t){var e=t.name,n=void 0===e?tt.BANNER_SHOWN:e,r=t.bannerName,i=t.uiElementLocation;(0,ut.j)({name:n,payload:{banner_name:r,ui_element_location:i}})},lt=function(t){var e=t.adpInteraction,n=t.adpSelection,r=t.uiElementLocation;(0,ut.j)({name:tt.ADP_INTERACTION,payload:{adp_interaction:e,adp_selection:n,ui_element_location:r}})},dt=n(48425),ft=(0,r.createContext)({showImageEditor:!1,setShowImageEditor:function(){},editDetails:null,setEditDetails:function(){},imageIsEdited:!1,setImageIsEdited:function(){},watermarkedCropImage:null,setWatermarkedCropImage:function(){}}),ht=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],c=(0,r.useState)(void 0),u=c[0],s=c[1],l=(0,r.useState)(!1),d=l[0],f=l[1],h=i().useState(null),p=h[0],v=h[1],m=(0,r.useMemo)((function(){return{showImageEditor:o,setShowImageEditor:a,editDetails:u,setEditDetails:s,imageIsEdited:d,setImageIsEdited:f,watermarkedCropImage:p,setWatermarkedCropImage:v}}),[o,u,d,p]);return i().createElement(ft.Provider,{value:m},e)},pt=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"facebook-icon"},i().createElement("path",{d:"M21 12.2015C21 7.20054 16.9706 3.14648 12 3.14648C7.02943 3.14648 3 7.20054 3 12.2015C3 16.7211 6.29117 20.4672 10.5937 21.1465V14.8189H8.30859V12.2015H10.5937V10.2066C10.5937 7.93715 11.9374 6.68359 13.9932 6.68359C14.9779 6.68359 16.0078 6.86045 16.0078 6.86045V9.08883H14.8729C13.7549 9.08883 13.4062 9.78682 13.4062 10.5029V12.2015H15.9023L15.5033 14.8189H13.4062V21.1465C17.7088 20.4672 21 16.7211 21 12.2015Z",fill:"white"}))},vt=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"instagram-icon"},i().createElement("path",{d:"M8.27263 3.20943C7.31502 3.25461 6.66107 3.40743 6.08939 3.63207C5.49772 3.86265 4.99623 4.17207 4.49727 4.67283C3.9983 5.1736 3.69104 5.67544 3.46208 6.268C3.2405 6.84094 3.09038 7.49542 3.04808 8.45357C3.00577 9.41171 2.99641 9.71969 3.00109 12.1637C3.00577 14.6078 3.01657 14.9141 3.06302 15.8743C3.10874 16.8317 3.26102 17.4855 3.48566 18.0573C3.7166 18.649 4.02566 19.1503 4.52661 19.6494C5.02755 20.1486 5.52904 20.4551 6.12305 20.6844C6.69545 20.9057 7.35012 21.0565 8.30809 21.0984C9.26606 21.1404 9.5744 21.1501 12.0177 21.1454C14.4611 21.1407 14.7687 21.1299 15.7287 21.0844C16.6886 21.0389 17.339 20.8855 17.911 20.6619C18.5027 20.4304 19.0043 20.1219 19.5031 19.6208C20.0019 19.1197 20.309 18.6175 20.5378 18.0246C20.7595 17.4522 20.9102 16.7975 20.9518 15.8403C20.9937 14.8796 21.0036 14.5729 20.9989 12.1292C20.9943 9.68549 20.9833 9.37913 20.9377 8.41937C20.8922 7.4596 20.7397 6.80782 20.5153 6.2356C20.284 5.64394 19.9753 5.143 19.4745 4.64349C18.9737 4.14399 18.4712 3.83709 17.8784 3.60885C17.3057 3.38727 16.6514 3.23625 15.6934 3.19485C14.7354 3.15345 14.4271 3.14283 11.9828 3.14751C9.53858 3.15219 9.23258 3.16263 8.27263 3.20943ZM8.37775 19.4793C7.50024 19.4412 7.02378 19.2954 6.70625 19.1733C6.28577 19.0113 5.98624 18.8155 5.6698 18.5021C5.35336 18.1887 5.15896 17.8881 4.99479 17.4685C4.87149 17.151 4.72299 16.6751 4.68195 15.7976C4.63731 14.8492 4.62795 14.5644 4.62273 12.1616C4.61751 9.75875 4.62669 9.47435 4.66827 8.52557C4.70571 7.64878 4.85241 7.17178 4.97427 6.85444C5.13628 6.43342 5.3314 6.13444 5.6455 5.81818C5.9596 5.50192 6.25931 5.30716 6.67925 5.143C6.99641 5.01915 7.47234 4.87191 8.34949 4.83015C9.29864 4.78515 9.58304 4.77615 11.9855 4.77093C14.388 4.76571 14.6731 4.77471 15.6226 4.81647C16.4994 4.85463 16.9766 4.99989 17.2936 5.12248C17.7143 5.28448 18.0136 5.47906 18.3299 5.7937C18.6461 6.10834 18.8411 6.40696 19.0052 6.8278C19.1293 7.14406 19.2765 7.6198 19.3179 8.49749C19.3631 9.44663 19.3733 9.73121 19.3777 12.1335C19.382 14.5358 19.3735 14.8211 19.3319 15.7695C19.2936 16.647 19.1482 17.1237 19.0259 17.4415C18.8639 17.8618 18.6686 18.1615 18.3543 18.4776C18.0401 18.7937 17.7407 18.9885 17.3206 19.1526C17.0038 19.2763 16.5273 19.4239 15.6509 19.4656C14.7018 19.5103 14.4174 19.5196 12.014 19.5249C9.61058 19.5301 9.32708 19.5204 8.37793 19.4793M15.7148 7.3363C15.7152 7.54992 15.7789 7.75864 15.8978 7.93605C16.0168 8.11347 16.1858 8.25161 16.3833 8.33302C16.5808 8.41442 16.798 8.43542 17.0074 8.39337C17.2169 8.35132 17.4091 8.24811 17.5599 8.09678C17.7107 7.94545 17.8132 7.75281 17.8545 7.54321C17.8957 7.33362 17.8739 7.11649 17.7918 6.91929C17.7097 6.72209 17.5709 6.55367 17.3931 6.43534C17.2152 6.317 17.0063 6.25407 16.7927 6.2545C16.5063 6.25507 16.2319 6.36936 16.0297 6.57222C15.8276 6.77509 15.7143 7.04993 15.7148 7.3363ZM7.37892 12.1555C7.38396 14.7079 9.45686 16.7723 12.0087 16.7674C14.5606 16.7626 16.6265 14.6899 16.6217 12.1375C16.6168 9.58505 14.5434 7.52008 11.9911 7.52512C9.43886 7.53016 7.37406 9.60341 7.37892 12.1555ZM9.00002 12.1522C8.99884 11.5589 9.17365 10.9785 9.50232 10.4845C9.831 9.99046 10.2988 9.60501 10.8465 9.37686C11.3943 9.14871 11.9974 9.0881 12.5796 9.20271C13.1617 9.31731 13.6969 9.60198 14.1173 10.0207C14.5377 10.4395 14.8245 10.9734 14.9414 11.5552C15.0583 12.1369 15.0001 12.7402 14.7741 13.2889C14.5481 13.8375 14.1645 14.3068 13.6718 14.6374C13.1791 14.9681 12.5994 15.1452 12.006 15.1463C11.6121 15.1472 11.2218 15.0704 10.8575 14.9204C10.4931 14.7703 10.162 14.55 9.88281 14.272C9.60367 13.9939 9.38203 13.6636 9.23056 13.2999C9.07909 12.9362 9.00075 12.5462 9.00002 12.1522Z",fill:"white"}))},mt=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"linkedin-icon"},i().createElement("path",{d:"M17.25 3.14648H6.75C4.67925 3.14648 3 4.82573 3 6.89648V17.3965C3 19.4672 4.67925 21.1465 6.75 21.1465H17.25C19.3215 21.1465 21 19.4672 21 17.3965V6.89648C21 4.82573 19.3215 3.14648 17.25 3.14648ZM9 17.3965H6.75V9.14648H9V17.3965ZM7.875 8.19548C7.1505 8.19548 6.5625 7.60298 6.5625 6.87248C6.5625 6.14198 7.1505 5.54948 7.875 5.54948C8.5995 5.54948 9.1875 6.14198 9.1875 6.87248C9.1875 7.60298 8.60025 8.19548 7.875 8.19548ZM18 17.3965H15.75V13.1935C15.75 10.6675 12.75 10.8587 12.75 13.1935V17.3965H10.5V9.14648H12.75V10.4702C13.797 8.53073 18 8.38748 18 12.3272V17.3965Z",fill:"white"}))},gt=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"pinterest-icon"},i().createElement("path",{d:"M12 3.16016C7.02703 3.16016 3 7.18718 3 12.1602C3 15.971 5.36487 19.2277 8.71622 20.5385C8.63514 19.8223 8.56757 18.7412 8.74324 17.9575C8.90541 17.2548 9.7973 13.4845 9.7973 13.4845C9.7973 13.4845 9.52703 12.9439 9.52703 12.1466C9.52703 10.8899 10.2568 9.95745 11.1486 9.95745C11.9189 9.95745 12.2838 10.5385 12.2838 11.2277C12.2838 11.998 11.7973 13.1602 11.5405 14.2277C11.3243 15.1196 11.9865 15.8493 12.8784 15.8493C14.473 15.8493 15.7027 14.1602 15.7027 11.7277C15.7027 9.57908 14.1486 8.06556 11.9459 8.06556C9.39189 8.06556 7.87838 9.98448 7.87838 11.971C7.87838 12.7412 8.17568 13.5791 8.55405 14.025C8.62162 14.1196 8.63514 14.1872 8.62162 14.2818C8.55405 14.5656 8.40541 15.1737 8.37838 15.2953C8.33784 15.4575 8.24324 15.498 8.08108 15.4169C6.95946 14.8899 6.25676 13.2548 6.25676 11.9304C6.25676 9.09259 8.32432 6.48448 12.2027 6.48448C15.3243 6.48448 17.7432 8.71421 17.7432 11.6737C17.7432 14.7683 15.7838 17.2683 13.0811 17.2683C12.1757 17.2683 11.3108 16.7953 11.0135 16.2412C11.0135 16.2412 10.5676 17.9575 10.4595 18.3764C10.2568 19.1602 9.7027 20.1331 9.33784 20.7412C10.1757 20.998 11.0676 21.1466 12 21.1466C16.973 21.1466 21 17.1196 21 12.1466C21 7.18718 16.973 3.16016 12 3.16016Z",fill:"white"}))},yt=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"twitter-icon"},i().createElement("path",{d:"M21 12.1465C21 17.119 16.9725 21.1465 12 21.1465C7.0275 21.1465 3 17.119 3 12.1465C3 7.17398 7.0275 3.14648 12 3.14648C16.9725 3.14648 21 7.17398 21 12.1465ZM10.353 16.894C14.3445 16.894 16.527 13.5865 16.527 10.72C16.527 10.6255 16.527 10.531 16.5225 10.441C16.9455 10.135 17.3145 9.75248 17.607 9.31598C17.22 9.48698 16.8015 9.60398 16.3605 9.65798C16.8105 9.38798 17.1525 8.96498 17.3145 8.45648C16.896 8.70398 16.4325 8.88398 15.9375 8.98298C15.5415 8.55998 14.979 8.29898 14.3535 8.29898C13.1565 8.29898 12.1845 9.27098 12.1845 10.468C12.1845 10.639 12.2025 10.8055 12.243 10.963C10.4385 10.873 8.841 10.009 7.77 8.69498C7.5855 9.01448 7.4775 9.38798 7.4775 9.78398C7.4775 10.5355 7.86 11.2015 8.445 11.5885C8.0895 11.5795 7.7565 11.4805 7.464 11.3185C7.464 11.3275 7.464 11.3365 7.464 11.3455C7.464 12.3985 8.211 13.2715 9.2055 13.474C9.0255 13.5235 8.832 13.5505 8.634 13.5505C8.4945 13.5505 8.3595 13.537 8.2245 13.51C8.499 14.374 9.3 14.9995 10.2495 15.0175C9.507 15.598 8.571 15.9445 7.554 15.9445C7.3785 15.9445 7.2075 15.9355 7.0365 15.913C7.986 16.534 9.129 16.894 10.353 16.894Z",fill:"white"}))},bt={ratio:void 0,label:"Freeform",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-free-form-icon"},i().createElement("path",{d:"M2 24C1.46667 24 1 23.8 0.6 23.4C0.2 23 0 22.5333 0 22V16.2667H2V22H7.73333V24H2ZM16.2667 24V22H22V16.2667H24V22C24 22.5333 23.8 23 23.4 23.4C23 23.8 22.5333 24 22 24H16.2667ZM0 7.73333V2C0 1.46667 0.2 1 0.6 0.6C1 0.2 1.46667 0 2 0H7.73333V2H2V7.73333H0ZM22 7.73333V2H16.2667V0H22C22.5333 0 23 0.2 23.4 0.6C23.8 1 24 1.46667 24 2V7.73333H22Z",fill:"#353838"}))},favorited:!0},wt=[bt,{ratio:1,label:"1:1",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x1-icon"},i().createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"1",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:pt,text:"facebook_post_carousel"},{Icon:vt,text:"instagram_post_carousel"},{Icon:mt,text:"linkedin_ad"},{Icon:gt,text:"pinterest_pin"},{Icon:yt,text:"twitter"}]},{ratio:16/9,label:"16:9",Icon:function(){return i().createElement("svg",{width:"34",height:"20",viewBox:"0 0 34 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-16x9-icon"},i().createElement("rect",{x:"1",y:"1.5",width:"32",height:"17",rx:"1",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:yt,text:"youtube_thumbnail"}]},{ratio:9/16,label:"9:16",Icon:function(){return i().createElement("svg",{width:"16",height:"30",viewBox:"0 0 16 30",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-9x16-icon"},i().createElement("rect",{x:"15",y:"1",width:"28",height:"14",rx:"1",transform:"rotate(90 15 1)",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:pt,text:"facebook_reel_story"},{Icon:vt,text:"instagram_reel_story"},{Icon:gt,text:"pinterest_story"},{Icon:function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"snapchat-icon"},i().createElement("path",{d:"M17.25 3.14648H6.75C4.67925 3.14648 3 4.82573 3 6.89648V17.3965C3 19.4672 4.67925 21.1465 6.75 21.1465H17.25C19.3215 21.1465 21 19.4672 21 17.3965V6.89648C21 4.82573 19.3215 3.14648 17.25 3.14648ZM16.3942 15.9827C16.3455 16.048 16.3065 16.3255 16.242 16.5445C16.1685 16.7972 15.9368 16.7687 15.6795 16.7185C15.3053 16.6457 14.9708 16.6247 14.5815 16.6892C13.908 16.801 13.209 17.797 12.0367 17.797C10.7752 17.797 10.119 16.8062 9.41925 16.6892C8.706 16.5707 8.2965 16.7612 8.04975 16.7612C7.86075 16.7612 7.78725 16.6457 7.75875 16.5497C7.69575 16.3345 7.65525 16.0517 7.60575 15.9842C7.12125 15.9092 6.0285 15.7187 6 15.2305C5.99325 15.1037 6.0825 14.992 6.20775 14.971C7.812 14.707 8.8335 12.8972 8.667 12.5057C8.5485 12.2267 8.037 12.127 7.82175 12.0415C7.26675 11.8217 7.1895 11.569 7.2225 11.3965C7.26825 11.1565 7.56075 10.9952 7.806 10.9952C8.0415 10.9952 8.45775 11.3102 8.78175 11.131C8.733 10.2887 8.6145 9.08498 8.9145 8.41298C9.48675 7.13048 10.74 6.49673 11.9932 6.49673C13.2555 6.49673 14.5178 7.14023 15.0855 8.41223C15.3848 9.08348 15.267 10.282 15.219 11.131C15.525 11.2997 15.9037 10.9877 16.1677 10.9877C16.4265 10.9877 16.7783 11.1625 16.7843 11.455C16.7888 11.6837 16.5847 11.881 16.1775 12.0415C15.9585 12.1277 15.4508 12.2275 15.3323 12.5057C15.162 12.907 16.215 14.7115 17.7915 14.971C17.9168 14.9912 18.0068 15.103 17.9993 15.2305C17.9723 15.718 16.8742 15.9077 16.3942 15.9827Z",fill:"white"}))},text:"snapchat"},{Icon:function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"tiktok-icon"},i().createElement("path",{d:"M17.25 3.14648H6.75C4.68 3.14648 3 4.82648 3 6.89648V17.3965C3 19.4665 4.68 21.1465 6.75 21.1465H17.25C19.32 21.1465 21 19.4665 21 17.3965V6.89648C21 4.82648 19.32 3.14648 17.25 3.14648ZM16.9875 11.0365C16.89 11.044 16.8 11.0515 16.7025 11.0515C15.6525 11.0515 14.6775 10.5265 14.1 9.64148V14.434C14.1 16.3915 12.5175 17.974 10.56 17.974C8.6025 17.974 7.02 16.3915 7.02 14.434C7.02 12.4765 8.6025 10.894 10.56 10.894C10.635 10.894 10.7025 10.894 10.7775 10.9015V12.649C10.7025 12.6415 10.635 12.6265 10.56 12.6265C9.5625 12.6265 8.7525 13.4365 8.7525 14.434C8.7525 15.4315 9.5625 16.2415 10.56 16.2415C11.5575 16.2415 12.4425 15.454 12.4425 14.4565L12.4575 6.31898H14.1225C14.28 7.81898 15.4875 8.98148 16.9875 9.09398V11.029V11.0365Z",fill:"white"}))},text:"tiktok"}]},{ratio:.8,label:"4:5",Icon:function(){return i().createElement("svg",{width:"20",height:"26",viewBox:"0 0 20 26",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-4x5-icon"},i().createElement("rect",{x:"19",y:"1.5",width:"23",height:"18",rx:"1",transform:"rotate(90 19 1.5)",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:vt,text:"instagram_post"}]},{ratio:2,label:"2:1",Icon:function(){return i().createElement("svg",{width:"38",height:"20",viewBox:"0 0 38 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-2x1-icon"},i().createElement("rect",{x:"1",y:"1.5",width:"36",height:"17",rx:"1",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:pt,text:"facebook_post_cover"},{Icon:mt,text:"linkedin"},{Icon:yt,text:"twitter"}]},{ratio:1.4,label:"7:5",Icon:function(){return i().createElement("svg",{width:"32",height:"22",viewBox:"0 0 32 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-7x5-icon"},i().createElement("rect",{x:"1",y:"1",width:"30",height:"20",rx:"1",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:gt,text:"pinterest"}]}],xt=function(){},_t=function(){},Ct=(0,r.createContext)({imageFlipX:!1,setImageFlipX:xt,zoomLevel:0,setZoomLevel:_t,topRotate:0,setTopRotate:_t,bottomRotate:0,setBottomRotate:_t,setActivePresetAndRatio:function(){},cropRatio:void 0,showReset:!1,setShowReset:xt,activePreset:void 0,setCropRatio:_t,showEditorError:!1,setShowEditorError:xt}),Et=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],c=(0,r.useState)(0),u=c[0],s=c[1],l=(0,r.useState)(0),d=l[0],f=l[1],h=(0,r.useState)(0),p=h[0],v=h[1],m=(0,r.useState)(void 0),g=m[0],y=m[1],b=(0,r.useState)(!1),w=b[0],x=b[1],_=(0,r.useState)(bt),C=_[0],E=_[1],k=(0,r.useState)(!1),$=k[0],S=k[1],A=function(t){E(t),y(t.ratio)},O=(0,r.useMemo)((function(){return{imageFlipX:o,setImageFlipX:a,zoomLevel:u,setZoomLevel:s,topRotate:d,setTopRotate:f,bottomRotate:p,setBottomRotate:v,setActivePresetAndRatio:A,cropRatio:g,showReset:w,setShowReset:x,activePreset:C,setCropRatio:y,showEditorError:$,setShowEditorError:S}}),[o,u,d,p,g,o,w,C,$]);return i().createElement(Ct.Provider,{value:O},e)},kt=function(){return(0,r.useContext)(ft)},$t=function(){return(0,r.useContext)(Ct)},St=function(t){var e=t?"restored":"removed";window&&window.tracking_data&&(window.tracking_data.page_mode=window.tracking_data.page_mode?window.tracking_data.page_mode+"|adp_background_"+e:"adp_background_"+e)},At=function(t){var e=t.showEditor,n=t.isGetty?et.IMAGE_ADP:et.IMAGE_ADP_TOOLS_PANEL_TOP;return e?{adpInteraction:rt.IMAGE_ADP_RESTORE_BACKGROUND_BUTTON_CLICK,adpSelection:it.ADP_RESTORE_BACKGROUND,uiElementLocation:n}:{adpInteraction:rt.IMAGE_ADP_REMOVE_BACKGROUND_BUTTON_CLICK,adpSelection:it.ADP_REMOVE_BACKGROUND,uiElementLocation:n}},Ot="/components/asset-mod/api",Lt=function(t){var e=t.assetId;return X().get(Ot+"/modifications/"+e)},Mt=function(t){var e=t.assetId,n=t.visualId;return X().patch(Ot+"/modifications/reset/"+e+"/"+n)},Rt=function(t){var e=t.assetId,n=t.visualId,r=t.largeMainImageURL,i=t.modificationSessionId;return X().patch(Ot+"/modifications/record-restoration/"+e+"/"+n,{largeMainImageURL:r,modificationSessionId:""+i})},Pt=function(t){var e=t.assetId,n=t.visualId,r=t.modificationSessionId;return X().patch(Ot+"/modifications/discard-changes/"+e+"/"+n,{modificationSessionId:""+r})},It=function(){var t=(0,r.useContext)(se);return{previewImage:t.previewImage,setPreviewImage:t.setPreviewImage,loading:t.loading}},Tt=function(t){return(0,dt.W4)().isIstock()?function(t){var e=(0,S.aF)().modificationsPermitted;return t.isImage&&!t.isIllustration&&!t.isVector&&e}(t):function(t){var e=Ut().briaBackgroundRemovalExperienceIsActive,n=(0,S.aF)().modificationsPermitted&&e;return t.isImage&&!t.isIllustration&&!t.isVector&&t.isCreative&&t.isRoyaltyFree&&t.agreementDetails.some((function(t){return t.Type===l.PA||l.IP}))&&n}(t)},Dt=function(){return(0,r.useContext)(w)},Bt=function(){return(0,r.useContext)(k)},jt=function(){return(0,r.useContext)(A)},Nt=function(){return(0,r.useContext)(I)},Ft=function(){return(0,r.useContext)(B)},zt=function(){return(0,r.useContext)(F)},Zt=function(){var t=Nt().hasBackgroundChange,e=Dt().hasRemovedObjectsChange;return t()||e()},Ht=n(38130),Vt=function(){var t=Bt(),e=t.activeModificationType,n=t.activeModificationSubtype,r=Nt(),i=r.backgroundRemoved,o=r.backgroundBlurred,a=Dt().modificationCount,c=void 0===a?{removed:0,restored:0}:a,u=Jt().modificationCount,s=void 0===u?{removed:0,restored:0}:u,l=(0,Ht.T)(),d=c.removed,h=c.restored,p=s.removed,v=s.restored,m=e===f.RemoveObjectsWithMask?p:d,g=e===f.RemoveObjectsWithMask?v:h;return e===f.RemoveBackground?l(i?"background_removed":"background_restored"):e===f.ModifyBackground?n===f.RemoveBackground?l(i?"background_removed":"background_restored"):l(o?"blur_applied":"blur_removed"):1===m&&0===g?l("one_object_removed",{count:m}):m>1&&0===g?l("n_objects_removed",{count:m}):0===m&&1===g?l("one_object_restored",{count:g}):0===m&&g>1?l("n_objects_restored",{count:g}):1===m&&1===g?l("one_object_removed_one_object_restored",{removedCount:m,restoredCount:g}):m>=1&&g>=1?l("n_objects_removed_n_objects_restored",{removedCount:m,restoredCount:g}):null},Ut=function(){var t=(0,S._P)("BriaBackgroundModification"),e=(0,S._P)("BriaObjectModification"),n=(0,S._P)("BriaBackgroundBlur"),r=(0,S._P)("BriaBackgroundRemoval"),i=t.isActive(),o=e.isActive(),a=n.isActive(),c=r.isActive();return{briaBackgroundModificationExperienceIsActive:i,briaBackgroundRemovalExperienceIsActive:c,briaObjectModificationExperienceIsActive:o,briaBackgroundBlurExperienceIsActive:a,briaModificationExperiencesAreActive:i||o||a||c||!1}},Gt=function(){return(0,r.useContext)(se)},Wt=function(t){var e=(0,S.aF)().cropPermitted,n=(0,S._P)("CropModificationAdp").isActive(),r=t.isImage&&!t.isIllustration&&!t.isVector;return n&&r&&e},Kt=function(){return{trackModifications:function(){(0,ut.j)({name:"adpInteraction",payload:{ui_element_location:"image_adp_ai_modal"}})}}},Xt=function(t){var e=t.visualId,n=t.asset,r=t.backgroundRemoved,i=t.backgroundBlurred,o=t.removedObjects,a=t.enhancedObjectRemoval,c=t.modificationSessionId,u=t.removedObjectMasks,s=t.requestId,l=void 0===s?Date.now().toString():s;return"/components/asset-mod/api/modifications/modify_image/"+e+"/watermarked/image.png?"+new URLSearchParams({assetId:n.assetId,largeMainImageURL:n.largeMainImageURL,backgroundRemoved:""+r,backgroundBlurred:""+i,objectIdsRemoved:Array.from(o,(function(t){return t.id})).toString(),objectMaskIdsRemoved:Array.from(u,(function(t){return t.id})).toString(),enhancedObjectRemoval:""+a,modificationSessionId:c,artist:n.contributor.display_name,requestId:l})},Yt=function(t){var e=Gt(),n=e.setShowEditor,r=e.setEditorSrc,i=e.setLoading,o=e.visualId,a=jt(),c=a.initialBackgroundRemoved,u=a.initialBackgroundBlurred,s=a.initialRemovedObjects,l=a.enhancedObjectRemoval,d=Nt().setBackgroundRemoved;return{toggleBackground:function(){if(c.current=!c.current,d(c.current),c.current&&(u.current=!1),!c.current&&!u.current&&0===s.current.size)return i(!1),n(!1),void Rt({assetId:t.assetId,visualId:o,largeMainImageURL:t.largeMainImageURL,modificationSessionId:"adp"}).catch((function(t){return G(t)}));i(!0),n(!0),r(Xt({visualId:o,asset:t,backgroundRemoved:c.current,backgroundBlurred:u.current,removedObjects:s.current,modificationSessionId:"adp",enhancedObjectRemoval:l,removedObjectMasks:new Set}))},backgroundRemoved:c}},qt=function(t){var e=t.onOutsideClick,n=t.listenForClicks,i=(0,r.useRef)();return(0,r.useEffect)((function(){if(n){var t=function(t){i.current.contains(t.target)||e()};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}}}),[n]),{containerRef:i}},Jt=function(){return(0,r.useContext)(H)},Qt=function(t){var e=Date.now();return!!t&&e>=Number(t)};var te=function(t){var e=t.key,n=t.initialValue,i=t.storageId,o=t.expiryTimeInHours,a=void 0===o?72:o,c=e+"_"+i,u=localStorage.getItem(c),s=localStorage.getItem(c+"_expiry"),l=(0,r.useState)((function(){return u&&!Qt(s)?JSON.parse(u):n})),d=l[0],f=l[1];return(0,r.useEffect)((function(){Qt(s)&&(f(n),localStorage.removeItem(c),localStorage.removeItem(c+"_expiry"))}),[s]),[d,function(t){localStorage.setItem(c,JSON.stringify(t));var e=Date.now()+60*a*60*1e3;localStorage.setItem(c+"_expiry",e.toString()),f(t)}]},ee=function(t){(0,r.useEffect)((function(){if(t){var e=!0,n=document.referrer;if(n){var r=new URL(n);!!new URLSearchParams(r.search).get("order_id")&&(e=!1)}e&&st({name:tt.BUTTON_SHOWN,bannerName:nt.ADP_CROP_BUTTON,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP})}}),[t])},ne=function(t){var e=t.permitted,n=t.actionsObjectArray;return e&&n.map((function(t){if(t.type===_.Background){var e=ie(t);if(e.length>0)return{id:t.id,type:_.Background,labels:t.labels,modifications:e}}return{}})).filter((function(t){return!!t.id}))||[]},re=function(t){var e=t.permitted,n=t.width,r=t.height,i=t.actionsObjectArray;if(!e)return[];var o=i.map((function(t){var e,i,o,a,c=function(t){var e,n,r,i,o=null==t||null==(e=t.labels)?void 0:e.includes(_.Object),a=(null==(n=t.actions)||null==(r=n.remove)?void 0:r.includes(!0))&&(null==(i=t.oracle)?void 0:i.remove),c=t.type;return o&&a?c:null}(t);return c?{id:t.id,type:_.Object,labels:t.labels,modifications:c,coordinates:{x:(null==(e=t.rect)?void 0:e.x)/n*100,y:(null==(i=t.rect)?void 0:i.y)/r*100,h:(null==(o=t.rect)?void 0:o.h)/r*100,w:(null==(a=t.rect)?void 0:a.w)/n*100}}:{}})).filter((function(t){return!!t.id}))||[];return o.sort((function(t,e){return t.modifications.localeCompare(e.modifications)})),o},ie=function(t){var e,n,r,i,o,a,c=[],u=(null==(e=t.actions)||null==(n=e.blur)?void 0:n.includes(!0))&&!0===(null==(r=t.oracle)?void 0:r.blur),s=(null==(i=t.actions)||null==(o=i.remove)?void 0:o.includes(!0))&&!0===(null==(a=t.oracle)?void 0:a.remove);return u&&c.push(C.Blur),s&&c.push(C.Remove),c},oe=function(t){var e,n=t.assetInfo,r=t.permissions;if(!((null==(e=n.scene)?void 0:e.length)>0))return null;var i=r.backgroundModificationsPermitted,o=r.objectModificationsPermitted,a={background:ne({permitted:i,actionsObjectArray:n.scene}),objects:re({permitted:o,width:n.org_width,height:n.org_height,actionsObjectArray:n.scene}),objectMasks:[]},c=function(t){var e=null;return t.background.length>0&&(e=_.Background),t.objects.length>0&&(e=_.Object),e}(a);return c?{availableModifications:a,assetCanBeModified:!0,modificationType:c}:{availableModifications:null,assetCanBeModified:!1,modificationType:null}};function ae(){ae=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function ce(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}var ue=function(t){var e=t.asset,n=(0,dt.W4)(),i=(0,r.useContext)(se),o=Tt(e),a=Ut(),c=a.briaObjectModificationExperienceIsActive,u=a.briaModificationExperiencesAreActive,s=a.briaBackgroundRemovalExperienceIsActive,l=kt().setShowImageEditor,d=i.visualId,f=i.setVisualId,h=i.loading,v=i.setLoading,m=i.modifiedImage,g=i.showEditor,y=i.setShowEditor,b=i.showErrorMessage,w=i.setShowErrorMessage,x=i.assetCanBeModified,_=i.setAssetCanBeModified,C=i.modificationType,E=i.setModificationType,k=i.availableModifications,$=i.setAvailableModifications,S=i.maskImages,A=i.setMaskImages,O=Yt(e),L=O.toggleBackground,M=O.backgroundRemoved,R=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ce(o,r,i,a,c,"next",t)}function c(t){ce(o,r,i,a,c,"throw",t)}a(void 0)}))}}(ae().mark((function t(){var r,i,o,a,u,l;return ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt({assetId:e.assetId});case 3:if(null!=(a=t.sent)&&null!=(r=a.data)&&r.visualId&&null!=a&&null!=(i=a.data)&&i.assetInfo&&(f(a.data.visualId),u=oe({assetInfo:a.data.assetInfo,permissions:{backgroundModificationsPermitted:!!n.isIstock()||s,objectModificationsPermitted:c}}),_(u.assetCanBeModified),E(u.modificationType),$(u.availableModifications)),null==a||null==(o=a.data)||!o.objectMasksUrl){t.next=10;break}return t.next=8,ct(a.data.objectMasksUrl);case 8:l=t.sent,A(l);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),W(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){o&&R()}),[o]),{handleDismissal:function(){w(!b)},handleRemoveBackground:function(){if(u){L(),St(!M.current);var t=At({showEditor:g,isGetty:n.isGetty()}),e=t.adpInteraction,r=t.adpSelection,i=t.uiElementLocation;lt({adpInteraction:e,adpSelection:r,uiElementLocation:i})}else{var o=!g;St(g);var a=At({showEditor:g,isGetty:n.isGetty()}),c=a.adpInteraction,s=a.adpSelection,l=a.uiElementLocation;lt({adpInteraction:c,adpSelection:s,uiElementLocation:l}),y(o),v(o)}},handleModifyAsset:function(){lt({adpInteraction:rt.IMAGE_ADP_MODIFY_WITH_AI_BUTTON_CLICK,adpSelection:it.ADP_MODIFY_WITH_AI,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP})},handleCropClick:function(){p({crop:!0}),lt({adpInteraction:rt.IMAGE_ADP_CROP_BUTTON_CLICK,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP}),l(!0)},maskImages:S,visualId:d,loading:h,modifiedImage:m,showEditor:g,showErrorMessage:b,assetCanBeModified:x,modificationType:C,availableModifications:k}},se=i().createContext({}),le=function(t){var e=t.openModificationsModalWithModificationType,n=t.children,o=(0,r.useState)(null),a=o[0],c=o[1],u=(0,r.useState)(!1),s=u[0],l=u[1],d=(0,r.useState)(null),f=d[0],h=d[1],p=(0,r.useState)(!1),v=p[0],m=p[1],g=(0,r.useState)(!1),y=g[0],b=g[1],w=(0,r.useState)(!1),x=w[0],_=w[1],C=(0,r.useState)(null),E=C[0],k=C[1],$=(0,r.useState)(null),S=$[0],A=$[1],L=(0,r.useState)(null),M=L[0],R=L[1],P=(0,r.useState)(null),I=P[0],T=P[1],D=(0,r.useState)({masks:[],panoptic:""}),B=D[0],j=D[1],N=(0,r.useMemo)((function(){return{visualId:a,setVisualId:c,loading:s,setLoading:l,modifiedImage:f,setModifiedImage:h,showEditor:v,setShowEditor:m,showErrorMessage:y,setShowErrorMessage:b,assetCanBeModified:x,setAssetCanBeModified:_,modificationType:E,setModificationType:k,availableModifications:S,setAvailableModifications:A,previewImage:M,setPreviewImage:R,editorSrc:I,setEditorSrc:T,maskImages:B,setMaskImages:j}}),[a,c,s,l,f,h,v,m,y,b,x,_,E,k,S,A,M,R,I,T,B,j]);return i().createElement(se.Provider,{value:N},i().createElement(z,null,i().createElement(O,{openWithModificationType:e,availableModifications:S},n)))},de=n(94184),fe=n.n(de),he="iXJVRHzPyx2QOCDOb8rp",pe="DvDB7ET_hCBu0_o5V49V",ve="CFFSIWsJqKhajo7lGH_4",me="BmacAOWMvpqcouDBl_8C",ge="K2g5MLg4pUCQouQZIokb",ye=function(t){var e,n=t.visualId,o=t.aspectRatio,a=t.assetId,c=t.artist,u=(0,r.useContext)(se),s=It().setPreviewImage,l=(0,r.useRef)(),d=Ut().briaModificationExperiencesAreActive,f=(0,r.useRef)(!1),h=(0,dt.W4)(),p=u.loading,v=u.setShowEditor,m=u.setLoading,g=u.setShowErrorMessage,y=u.editorSrc,b=d?y:"/components/asset-mod/api/modifications/remove_bg/"+n+"/watermarked/image.png?assetId="+a+"&artist="+encodeURIComponent(c);return i().createElement("div",{className:fe()(he,(e={},e[ve]=!f.current,e[pe]=h.isGetty(),e)),"data-testid":"editor-image",style:{aspectRatio:o}},i().createElement("img",{src:b,ref:l,onLoad:function(){f.current=!0,s(l.current),m(!1)},onError:function(){return m(!1),v(!1),void g(!0)},alt:"Modified",className:fe()(p&&ge)}),p&&i().createElement(V$,null),d&&i().createElement("div",{className:me,"data-testid":"reset-badge-wrapper"},i().createElement(F$,{visualId:n,assetId:a})))},be=(0,r.memo)(ye),we={button:"JGRqDf2O2ZDV68rTCQqy","istock-mod-button":"xGcPswSuuP0ASWQ1E7bj","getty-mod-button":"I44I_kHfWCOCGrQzBy9A"},xe=function(t){var e=t.Icon,n=t.text,o=t.handleClick,a=(0,dt.W4)();return(0,r.useEffect)((function(){st({bannerName:nt.ADP_REMOVE_BACKGROUND_BUTTON,uiElementLocation:a.nickname===d.GETTY?et.IMAGE_ADP:et.IMAGE_ADP_TOOLS_PANEL_TOP})}),[]),i().createElement("button",{className:fe()(we.button,we[a.nickname+"-mod-button"]),"data-testid":"background-removal-button",onClick:function(){return o()},type:"button"},e&&i().createElement(e,null),n)},_e=function(){return i().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M7.02004 10.3938L4.6665 8.04025L5.37354 7.33325L7.02004 8.97972L10.6665 5.33325L11.3735 6.04029L7.02004 10.3938Z",fill:"#02A388"}))},Ce="WWnAS1lnsjzvv4YlzNJV",Ee="pRzWkpwzgf1W1JZVjh4I",ke=function(t){var e=t.downloadCompletionText,n=t.firstListItemText,r=t.secondListItemText,o=t.checkDownloadsText,a=t.redownloadText;return i().createElement("section",{className:Ce,"data-testid":"background-removal-confirmation"},i().createElement("p",null,e),i().createElement("ul",null,i().createElement("li",null,i().createElement(_e,null),n),i().createElement("li",null,i().createElement(_e,null),r)),i().createElement("p",{className:Ee},o),i().createElement("span",{id:"download-again"},a))},$e={container:"ksrNsF_aTuAyen04bBvS",multipleFile:"uVzc4tRd4oK4kghMEJbf",istockContainer:"KqtwnqPNTwxKXuNPvb_A",gettyContainer:"U169PfZN5RpXstFMfF11"},Se=function(t){var e=t.title,n=t.firstListItemText,r=t.secondListItemText,o=t.allowMultipleFileText,a=(0,dt.W4)();return i().createElement("div",{className:fe()($e.container,$e[a.nickname+"Container"]),"data-testid":"background-removal-details"},i().createElement("p",null,e),i().createElement("ul",null,i().createElement("li",null,i().createElement(_e,null),n),i().createElement("li",null,i().createElement(_e,null),r)),o?i().createElement("p",{className:$e.multipleFile},o):null)},Ae={container:"NjNv8hWzTmgJrgWJIPd2","istock-background-removal-error":"y4jxmkz1dkL4YqwEUtda","getty-background-removal-error":"lu7ILGoqyo2LdMLaj6Fq"},Oe=function(t){var e=t.text,n=t.Icon,o=t.handleDismissal,a=(0,dt.W4)();return(0,r.useEffect)((function(){st({bannerName:nt.ADP_REMOVE_BACKGROUND_ERROR_BANNER,uiElementLocation:a.nickname===d.GETTY?et.IMAGE_ADP:et.IMAGE_ADP_TOOLS_PANEL_TOP})}),[]),i().createElement("div",{className:fe()(Ae.container,Ae[a.nickname+"-background-removal-error"]),"data-testid":"background-removal-error"},i().createElement("p",null,e),i().createElement("button",{type:"button",onClick:o},n&&i().createElement(n,null),i().createElement("span",null,"Close")))};function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Le(t,e)}var Me=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).state={hasError:!1},n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Le(e,n),r.getDerivedStateFromError=function(){return{hasError:!0}};var i=r.prototype;return i.componentDidCatch=function(t,e){W(t,e)},i.render=function(){var t=this.state.hasError,e=this.props.children;return t?null:e},r}(r.Component),Re=Me,Pe="Cze3zkzonVZx6ZeAK3Qj",Ie=function(t){var e=t.title;return i().createElement("div",{className:Pe,"data-testid":"background-removal-header"},i().createElement("h2",null,e))},Te=function(t){var e=t.mainPath,n=t.expandedPath,r=t.animateId,o=t.animationDelay;return i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:e,fill:"white",stroke:"transparent"},i().createElement("animate",{attributeName:"d",values:e+";"+n+";"+e,dur:"1s",id:r,begin:o+"s;"+r+".end+1s"}))},De=function(){return i().createElement(Te,{mainPath:"M29.1891 54.5041C29.1891 53.775 28.5975 53.1865 27.8729 53.1865C27.1482 53.1865 26.5566 53.7787 26.5566 54.5041V56.2621C26.5566 56.9912 27.1482 57.5796 27.8729 57.5796C28.5975 57.5796 29.1891 56.9875 29.1891 56.2621V54.5041ZM30.0691 59.7742C30.0691 59.0488 30.657 58.4567 31.3853 58.4567H33.1415C33.8662 58.4567 34.4577 59.0488 34.4577 59.7742C34.4577 60.4996 33.8699 61.0918 33.1415 61.0918H31.3853C30.6607 61.0918 30.0691 60.4996 30.0691 59.7742ZM26.5566 63.2903C26.5566 62.5649 27.1445 61.9728 27.8729 61.9728C28.5975 61.9728 29.1891 62.5612 29.1891 63.2903V65.0483C29.1891 65.7737 28.5975 66.3659 27.8729 66.3659C27.1482 66.3659 26.5566 65.7774 26.5566 65.0483V63.2903ZM25.6767 59.7781C25.6767 60.5035 25.0889 61.0957 24.3605 61.0957H22.6043C21.8796 61.0957 21.2881 60.5035 21.2881 59.7781C21.2881 59.0527 21.876 58.4606 22.6043 58.4606H24.3605C25.0852 58.4606 25.6767 59.0527 25.6767 59.7781Z",expandedPath:"M29.9788 51.3405C29.9788 50.174 29.0323 49.2324 27.8728 49.2324C26.7134 49.2324 25.7669 50.1799 25.7669 51.3405V54.1533C25.7669 55.3198 26.7134 56.2614 27.8728 56.2614C29.0323 56.2614 29.9788 55.3139 29.9788 54.1533V51.3405ZM31.3868 59.7727C31.3868 58.6121 32.3274 57.6646 33.4928 57.6646H36.3027C37.4621 57.6646 38.4086 58.6121 38.4086 59.7727C38.4086 60.9333 37.4681 61.8808 36.3027 61.8808H33.4928C32.3333 61.8808 31.3868 60.9333 31.3868 59.7727ZM25.7669 65.3985C25.7669 64.2379 26.7074 63.2904 27.8728 63.2904C29.0323 63.2904 29.9788 64.2319 29.9788 65.3985V68.2112C29.9788 69.3719 29.0323 70.3193 27.8728 70.3193C26.7134 70.3193 25.7669 69.3778 25.7669 68.2112V65.3985ZM24.359 59.779C24.359 60.9396 23.4184 61.8871 22.253 61.8871H19.4431C18.2837 61.8871 17.3372 60.9396 17.3372 59.779C17.3372 58.6183 18.2777 57.6709 19.4431 57.6709H22.253C23.4125 57.6709 24.359 58.6183 24.359 59.779Z",animateId:"leftSparkle",animationDelay:0})},Be=function(){return i().createElement(Te,{mainPath:"M58.2832 13.2836C58.2832 18.8573 62.8123 23.3911 68.3804 23.3911C69.1051 23.3911 69.6966 23.9832 69.6966 24.7086C69.6966 25.434 69.1088 26.0262 68.3804 26.0262C62.8123 26.0262 58.2832 30.5599 58.2832 36.1336C58.2832 36.859 57.6916 37.4512 56.967 37.4512C56.2423 37.4512 55.6507 36.8627 55.6507 36.1336C55.6507 30.5599 51.1216 26.0262 45.5535 26.0262C44.8289 26.0262 44.2373 25.434 44.2373 24.7086C44.2373 23.9832 44.8252 23.3911 45.5535 23.3911C51.1216 23.3911 55.6507 18.8573 55.6507 13.2836C55.6507 12.5582 56.2423 11.9661 56.967 11.9661C57.6916 11.9661 58.2832 12.5545 58.2832 13.2836Z",expandedPath:"M58.9413 7.57106C58.9413 15.9316 65.735 22.7322 74.0871 22.7322C75.1741 22.7322 76.0615 23.6205 76.0615 24.7086C76.0615 25.7967 75.1797 26.6849 74.0871 26.6849C65.735 26.6849 58.9413 33.4855 58.9413 41.8461C58.9413 42.9342 58.0539 43.8224 56.9669 43.8224C55.88 43.8224 54.9926 42.9397 54.9926 41.8461C54.9926 33.4855 48.1989 26.6849 39.8468 26.6849C38.7598 26.6849 37.8724 25.7967 37.8724 24.7086C37.8724 23.6205 38.7542 22.7322 39.8468 22.7322C48.1989 22.7322 54.9926 15.9316 54.9926 7.57106C54.9926 6.48297 55.88 5.59473 56.9669 5.59473C58.0539 5.59473 58.9413 6.47742 58.9413 7.57106Z",animateId:"topSparkle",animationDelay:.5})},je=function(){return i().createElement(Te,{mainPath:"M101.513 43.515C101.513 46.5596 103.987 49.033 107.026 49.033C107.561 49.033 107.998 49.4702 107.998 50.0059C107.998 50.5416 107.564 50.9789 107.026 50.9789C103.987 50.9789 101.513 53.455 101.513 56.4969C101.513 57.0326 101.076 57.4699 100.541 57.4699C100.006 57.4699 99.5692 57.0353 99.5692 56.4969C99.5692 53.4523 97.0956 50.9789 94.0568 50.9789C93.5217 50.9789 93.0848 50.5416 93.0848 50.0059C93.0848 49.4702 93.519 49.033 94.0568 49.033C97.0956 49.033 99.5692 46.5568 99.5692 43.515C99.5692 42.9793 100.006 42.542 100.541 42.542C101.076 42.542 101.513 42.9765 101.513 43.515Z",expandedPath:"M101.999 40.2695C101.999 44.8364 105.71 48.5465 110.268 48.5465C111.071 48.5465 111.726 49.2024 111.726 50.0059C111.726 50.8095 111.075 51.4654 110.268 51.4654C105.71 51.4654 101.999 55.1796 101.999 59.7424C101.999 60.5459 101.344 61.2018 100.541 61.2018C99.7385 61.2018 99.0833 60.55 99.0833 59.7424C99.0833 55.1755 95.3728 51.4654 90.8147 51.4654C90.012 51.4654 89.3567 50.8095 89.3567 50.0059C89.3567 49.2024 90.0079 48.5465 90.8147 48.5465C95.3728 48.5465 99.0833 44.8323 99.0833 40.2695C99.0833 39.466 99.7385 38.8101 100.541 38.8101C101.344 38.8101 101.999 39.4619 101.999 40.2695Z",animateId:"rightSparkle",animationDelay:1})},Ne=function(){return i().createElement(Te,{mainPath:"M88.566 75.7922C88.566 79.9151 91.9157 83.2645 96.0308 83.2645C96.7554 83.2645 97.347 83.8567 97.347 84.5821C97.347 85.3075 96.7591 85.8996 96.0308 85.8996C91.9157 85.8996 88.566 89.2527 88.566 93.3719C88.566 94.0973 87.9745 94.6895 87.2498 94.6895C86.5251 94.6895 85.9336 94.101 85.9336 93.3719C85.9336 89.249 82.5839 85.8996 78.4688 85.8996C77.7441 85.8996 77.1526 85.3075 77.1526 84.5821C77.1526 83.8567 77.7405 83.2645 78.4688 83.2645C82.5839 83.2645 85.9336 79.9114 85.9336 75.7922C85.9336 75.0668 86.5251 74.4746 87.2498 74.4746C87.9745 74.4746 88.566 75.0631 88.566 75.7922Z",expandedPath:"M89.2242 71.3972C89.2242 77.5816 94.2488 82.6057 100.421 82.6057C101.508 82.6057 102.396 83.4939 102.396 84.582C102.396 85.6701 101.514 86.5584 100.421 86.5584C94.2488 86.5584 89.2242 91.588 89.2242 97.7668C89.2242 98.8549 88.3368 99.7432 87.2498 99.7432C86.1628 99.7432 85.2755 98.8605 85.2755 97.7668C85.2755 91.5825 80.2509 86.5584 74.0783 86.5584C72.9913 86.5584 72.104 85.6701 72.104 84.582C72.104 83.4939 72.9858 82.6057 74.0783 82.6057C80.2509 82.6057 85.2755 77.576 85.2755 71.3972C85.2755 70.3091 86.1628 69.4209 87.2498 69.4209C88.3368 69.4209 89.2242 70.3036 89.2242 71.3972Z",animateId:"bottomSparkle",animationDelay:1.5})},Fe="fNVYCz_ydinRzgAZJILR",ze=function(){return i().createElement("svg",{viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Fe},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M68.6362 44.8315C69.7809 43.6776 71.6335 43.6776 72.7782 44.8315L78.6689 50.7698C79.8181 51.9281 79.8181 53.8096 78.6689 54.968L68.5132 65.2056L58.4288 55.1212L68.6362 44.8315ZM26.2831 87.526L54.6806 58.8995L64.7651 68.9839L36.3159 97.6624C35.1712 98.8163 33.3186 98.8163 32.1739 97.6624L26.2831 91.7242C25.134 90.5658 25.134 88.6844 26.2831 87.526Z",fill:"white"}),i().createElement(De,null),i().createElement(Be,null),i().createElement(je,null),i().createElement(Ne,null))},Ze=function(t){var e=t.className;return i().createElement("svg",{className:e,viewBox:"0 0 22 19",xmlns:"http://www.w3.org/2000/svg","data-testid":"scissors"},i().createElement("path",{d:"M6.82464 18.2126C8.57514 17.2071 9.2387 15.0892 8.48035 13.2856H8.48667C8.00007 12.2236 8.93536 11.5449 10.1361 11.9659C13.2958 13.8072 17.3719 16.1764 17.3783 16.1702C18.7749 16.698 20.3863 16.1702 21.1573 14.8441L12.449 9.84807L21.1573 4.84571C20.3863 3.51342 18.7685 2.98553 17.3783 3.5197C17.3783 3.51342 13.2958 5.88263 10.1361 7.72395C8.93536 8.145 8.00007 7.46629 8.48667 6.39795H8.47403C9.23238 4.60062 8.56251 2.4765 6.81832 1.471C4.92878 0.3838 2.50208 1.03109 1.4088 2.9164C0.315519 4.80172 0.960111 7.20863 2.86229 8.30211C3.44369 8.63519 4.07564 8.78601 4.70127 8.81115C6.35067 8.84257 6.50234 9.84179 6.50234 9.84179C6.50234 9.84179 6.35067 10.8599 4.66968 10.8724C4.05036 10.8976 3.43105 11.0484 2.86229 11.3815C0.966431 12.4687 0.315519 14.8819 1.4088 16.7672C2.50208 18.6525 4.92878 19.2998 6.82464 18.2126ZM3.8355 6.6179C2.87493 6.06488 2.54631 4.84571 3.09611 3.89048C3.65223 2.93526 4.88454 2.60847 5.84511 3.15521C6.80568 3.70823 7.13429 4.93369 6.57817 5.88891C6.02205 6.84414 4.79607 7.17093 3.8355 6.6179ZM8.30972 9.84179C8.30972 9.38303 8.68258 9.01225 9.1439 9.01225C9.60523 9.01225 9.97808 9.38303 9.97808 9.84179C9.97808 10.3005 9.60523 10.6713 9.1439 10.6713C8.68258 10.6713 8.30972 10.3005 8.30972 9.84179ZM3.10243 15.7994C2.54631 14.8441 2.88125 13.625 3.84182 13.0657C4.8087 12.5126 6.03469 12.8394 6.59081 13.8009C7.14693 14.7562 6.81832 15.9816 5.85775 16.5346C4.89718 17.0814 3.66487 16.7546 3.10875 15.7994H3.10243Z"}))},He=function(t){var e=t.className;return i().createElement("svg",{className:e,viewBox:"0 0 20 18",xmlns:"http://www.w3.org/2000/svg","data-testid":"eraser"},i().createElement("path",{d:"M20.0002 6.68341C19.9942 6.26876 19.821 5.88002 19.5105 5.58919L14.0133 0.44057C13.7087 0.155495 13.3116 0 12.8876 0C12.4636 0 12.0366 0.167013 11.729 0.472244L0.457013 11.6679C0.15543 11.9674 -0.00581182 12.359 0.000160116 12.7765C0.00613205 13.1912 0.179318 13.5799 0.489859 13.8707L4.68215 17.7956C4.82249 17.928 5.0136 18.0029 5.20768 18.0029H16.1094C16.5275 18.0029 16.8649 17.6775 16.8649 17.2744C16.8649 16.8712 16.5275 16.5458 16.1094 16.5458H10.7317L19.5463 7.79203C19.8449 7.49256 20.0091 7.10094 20.0031 6.68629L20.0002 6.68341ZM5.52718 16.543H5.51524L1.5439 12.8226C1.523 12.8053 1.51405 12.7823 1.51405 12.7535C1.51405 12.7362 1.52002 12.7074 1.5439 12.6844L5.70037 8.55799L11.3438 13.8419L8.62662 16.543H5.53315H5.52718Z"}))},Ve=function(){return i().createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M0.5 2.0502L2.1 0.450195L6 4.3502L9.9 0.450195L11.5 2.0502L6 7.5502L0.5 2.0502Z",fill:"#0C0D0D"}))},Ue=function(t){var e=t.fillColor,n=void 0===e?"white":e;return i().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M15.9904 14.8238L14.8334 16L7.99997 9.15705L1.16658 15.9904L0.00952148 14.8334L6.84292 8.01912L0.00952487 1.17617L1.16657 0L8.01909 6.84294L14.8429 0.00956077L15.9808 1.16661L9.17614 8L15.9904 14.8238Z",fill:n}))},Ge="kxji19C5sswW5Cb67jEj",We="h9xIbAyZdx89nk4RWtP4",Ke="sr1v8LBa1oxLHLbCB7t4",Xe=function(t){var e=t.flip;return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:fe()(Ge,e&&Ke),"data-testid":"landscape"},i().createElement("path",{d:"M16.8 0.495117H2.21C0.99 0.495117 0 1.48512 0 2.71512V17.2951C0 18.5151 0.99 19.5151 2.21 19.5151H16.79C18.01 19.5151 19.01 18.5251 19.01 17.2951V2.71512C19.01 1.49512 18.02 0.495117 16.79 0.495117H16.8ZM16.79 2.49512C16.91 2.49512 17.01 2.59512 17.01 2.71512V10.6051L14.27 7.86512C13.55 7.14512 12.37 7.14512 11.65 7.86512L6.86 12.6551L5.28 11.0851C4.57 10.3751 3.43 10.3551 2.7 11.0551L1.99 11.7351V2.71512C1.99 2.59512 2.09 2.49512 2.2 2.49512H16.79ZM2.21 17.5051C2.09 17.5051 2 17.4051 2 17.2851V14.4751L3.99 12.5851L5.57 14.1651C6.29 14.8851 7.46 14.8851 8.19 14.1651L12.98 9.37512L17.02 13.4151V17.2851C17.02 17.4051 16.92 17.5051 16.8 17.5051H2.21Z",fill:"#231F20"}),i().createElement("path",{d:"M6.88998 8.68523C7.94998 8.68523 8.79998 7.82523 8.79998 6.77523C8.79998 5.72523 7.93998 4.86523 6.88998 4.86523C5.83998 4.86523 4.97998 5.72523 4.97998 6.77523C4.97998 7.82523 5.83998 8.68523 6.88998 8.68523Z",fill:"#231F20"}),i().createElement("path",{d:"M4 12L1.5 14.5V18H17.5V13.5L13 9L7 14L4 12Z",fill:"#231F20",className:We}))},Ye=function(t){var e=t.className;return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"warning-icon",className:e},i().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10C0 4.5 4.5 0 10 0C15.5 0 20 4.5 20 10C20 15.5 15.5 20 10 20Z",fill:"none"}),i().createElement("path",{d:"M10 12.4001C10.8 12.4001 11.5 13.1001 11.5 13.9001C11.5 14.7001 10.8 15.4001 10 15.4001C9.2 15.4001 8.5 14.7001 8.5 13.9001C8.5 13.1001 9.2 12.4001 10 12.4001ZM10.6 11.2001H9.4L8.7 7.0001V4.8001C8.7 4.7001 8.8 4.6001 8.9 4.6001H11C11.1 4.6001 11.2 4.7001 11.2 4.8001V7.0001L10.6 11.2001Z",fill:"none"}))},qe=function(t){var e=t.className;return i().createElement("svg",{className:e,"data-testid":"reset-icon",width:"21",height:"17",viewBox:"0 0 21 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M12.4722 13.9874C9.47725 15.0903 6.15992 13.5249 5.07563 10.4949H5.09908L7.801 9.49281L4.78258 7.66651L2.40888 6.23156L2.15099 6.07739L0 12.3627L2.60815 11.4021C4.19648 15.8078 9.01423 18.0847 13.3748 16.4778C14.928 15.9026 16.2116 14.9124 17.1493 13.6791L14.5822 12.6295C14.002 13.2166 13.2928 13.685 12.4722 13.9874Z",fill:"#0C0D0D"}),i().createElement("path",{d:"M7.62508 0.515374C6.07191 1.08461 4.78835 2.07484 3.85059 3.30819L6.41771 4.36958C6.99795 3.78255 7.70713 3.31412 8.52767 3.01171C11.5226 1.90882 14.8341 3.47422 15.9243 6.50421H15.9008L13.1989 7.5063L16.2173 9.3326L18.591 10.7676L18.8489 10.9217L20.9999 4.63048L18.3918 5.59106C16.8034 1.18541 11.9857 -1.09153 7.62508 0.515374Z",fill:"#0C0D0D"}))},Je=function(t){var e=t.fill;return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8909 8.52982C14.1712 8.24722 14.6249 8.24722 14.9052 8.52982L16.3479 9.98408C16.6293 10.2678 16.6293 10.7285 16.3479 11.0122L13.8607 13.5194L11.3911 11.0497L13.8909 8.52982ZM3.51868 18.9856L10.4732 11.975L12.9428 14.4447L5.97568 21.468C5.69535 21.7506 5.24165 21.7506 4.96132 21.468L3.51868 20.0137C3.23726 19.73 3.23726 19.2693 3.51868 18.9856Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8117 14.1586C16.8117 15.1683 17.6321 15.9886 18.6398 15.9886C18.8173 15.9886 18.9622 16.1336 18.9622 16.3112C18.9622 16.4889 18.8182 16.6339 18.6398 16.6339C17.6321 16.6339 16.8117 17.4551 16.8117 18.4639C16.8117 18.6415 16.6669 18.7865 16.4894 18.7865C16.3119 18.7865 16.167 18.6424 16.167 18.4639C16.167 17.4542 15.3467 16.6339 14.3389 16.6339C14.1615 16.6339 14.0166 16.4889 14.0166 16.3112C14.0166 16.1336 14.1606 15.9886 14.3389 15.9886C15.3467 15.9886 16.167 15.1674 16.167 14.1586C16.167 13.981 16.3119 13.8359 16.4894 13.8359C16.6669 13.8359 16.8117 13.98 16.8117 14.1586Z"}),i().createElement("path",{d:"M18.6398 15.7852C17.7445 15.7852 17.0151 15.0561 17.0151 14.1586H16.6083C16.6083 15.2805 17.5196 16.192 18.6398 16.192V15.7852ZM19.1656 16.3112C19.1656 16.0214 18.9298 15.7852 18.6398 15.7852V16.192C18.7048 16.192 18.7588 16.2457 18.7588 16.3112H19.1656ZM18.6398 16.8373C18.9311 16.8373 19.1656 16.6006 19.1656 16.3112H18.7588C18.7588 16.3771 18.7053 16.4305 18.6398 16.4305V16.8373ZM17.0151 18.4639C17.0151 17.5672 17.7446 16.8373 18.6398 16.8373V16.4305C17.5195 16.4305 16.6083 17.3429 16.6083 18.4639H17.0151ZM16.4894 18.9899C16.7794 18.9899 17.0151 18.7536 17.0151 18.4639H16.6083C16.6083 18.5294 16.5543 18.5831 16.4894 18.5831V18.9899ZM15.9637 18.4639C15.9637 18.7549 16.1998 18.9899 16.4894 18.9899V18.5831C16.4241 18.5831 16.3704 18.5299 16.3704 18.4639H15.9637ZM14.3389 16.8373C15.2343 16.8373 15.9637 17.5664 15.9637 18.4639H16.3704C16.3704 17.342 15.4592 16.4305 14.3389 16.4305V16.8373ZM13.8132 16.3112C13.8132 16.601 14.0489 16.8373 14.3389 16.8373V16.4305C14.274 16.4305 14.22 16.3767 14.22 16.3112H13.8132ZM14.3389 15.7852C14.0477 15.7852 13.8132 16.0218 13.8132 16.3112H14.22C14.22 16.2453 14.2735 16.192 14.3389 16.192V15.7852ZM15.9637 14.1586C15.9637 15.0553 15.2342 15.7852 14.3389 15.7852V16.192C15.4592 16.192 16.3704 15.2795 16.3704 14.1586H15.9637ZM16.4894 13.6325C16.1994 13.6325 15.9637 13.8688 15.9637 14.1586H16.3704C16.3704 14.0931 16.4244 14.0393 16.4894 14.0393V13.6325ZM17.0151 14.1586C17.0151 13.8675 16.779 13.6325 16.4894 13.6325V14.0393C16.5547 14.0393 16.6083 14.0926 16.6083 14.1586H17.0151Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9825 8.21484C19.9825 8.96046 20.5883 9.56619 21.3325 9.56619C21.4636 9.56619 21.5706 9.67328 21.5706 9.80446C21.5706 9.93565 21.4643 10.0427 21.3325 10.0427C20.5883 10.0427 19.9825 10.6491 19.9825 11.3941C19.9825 11.5253 19.8756 11.6324 19.7445 11.6324C19.6135 11.6324 19.5065 11.5259 19.5065 11.3941C19.5065 10.6485 18.9007 10.0427 18.1565 10.0427C18.0254 10.0427 17.9185 9.93565 17.9185 9.80446C17.9185 9.67328 18.0248 9.56619 18.1565 9.56619C18.9007 9.56619 19.5065 8.95979 19.5065 8.21484C19.5065 8.08365 19.6135 7.97656 19.7445 7.97656C19.8756 7.97656 19.9825 8.08298 19.9825 8.21484Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.18885 10.893C6.18885 10.7144 6.04397 10.5703 5.8665 10.5703C5.68904 10.5703 5.54416 10.7153 5.54416 10.893V11.3235C5.54416 11.5021 5.68904 11.6462 5.8665 11.6462C6.04397 11.6462 6.18885 11.5012 6.18885 11.3235V10.893ZM6.4043 12.182C6.4043 12.0044 6.54826 11.8594 6.72664 11.8594H7.15673C7.3342 11.8594 7.47907 12.0044 7.47907 12.182C7.47907 12.3597 7.3351 12.5047 7.15673 12.5047H6.72664C6.54917 12.5047 6.4043 12.3597 6.4043 12.182ZM5.54395 13.0492C5.54395 12.8716 5.68791 12.7266 5.86629 12.7266C6.04375 12.7266 6.18863 12.8707 6.18863 13.0492V13.4798C6.18863 13.6574 6.04375 13.8024 5.86629 13.8024C5.68882 13.8024 5.54395 13.6583 5.54395 13.4798V13.0492ZM5.32868 12.182C5.32868 12.3597 5.18471 12.5047 5.00634 12.5047H4.57625C4.39878 12.5047 4.25391 12.3597 4.25391 12.182C4.25391 12.0044 4.39787 11.8594 4.57625 11.8594H5.00634C5.1838 11.8594 5.32868 12.0044 5.32868 12.182Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3553 2.76798C11.3553 4.13297 12.4645 5.24327 13.8281 5.24327C14.0056 5.24327 14.1505 5.38829 14.1505 5.56594C14.1505 5.74359 14.0065 5.88861 13.8281 5.88861C12.4645 5.88861 11.3553 6.99891 11.3553 8.3639C11.3553 8.54155 11.2105 8.68657 11.033 8.68657C10.8555 8.68657 10.7107 8.54246 10.7107 8.3639C10.7107 6.99891 9.60148 5.88861 8.23787 5.88861C8.0604 5.88861 7.91553 5.74359 7.91553 5.56594C7.91553 5.38829 8.05949 5.24327 8.23787 5.24327C9.60148 5.24327 10.7107 4.13297 10.7107 2.76798C10.7107 2.59033 10.8555 2.44531 11.033 2.44531C11.2105 2.44531 11.3553 2.58943 11.3553 2.76798Z"}))},Qe=function(t){var e=t.className;return i().createElement("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0872 1.40098H17.0588C17.91 1.40098 18.6 2.09099 18.6 2.94215V5.91376L14.0872 1.40098ZM12.4234 1.40098H8.42999L18.6 11.571V7.57754L12.4234 1.40098ZM18.6 13.2348L6.76621 1.40098H2.94118C2.88724 1.40098 2.83394 1.40375 2.78143 1.40916L18.5918 17.2195C18.5972 17.167 18.6 17.1137 18.6 17.0598V13.2348ZM17.9937 18.2852L1.7158 2.00731C1.51768 2.2666 1.4 2.59063 1.4 2.94215V5.68397L14.317 18.601H17.0588C17.4103 18.601 17.7344 18.4833 17.9937 18.2852ZM12.6532 18.601L1.4 7.34775V11.0922L8.9088 18.601H12.6532ZM7.24502 18.601L1.4 12.756V17.0598C1.4 17.911 2.09001 18.601 2.94118 18.601H7.24502ZM0 2.94215C0 1.31779 1.31681 0.000976562 2.94118 0.000976562H17.0588C18.6832 0.000976562 20 1.31779 20 2.94215V17.0598C20 18.6842 18.6832 20.001 17.0588 20.001H2.94118C1.31681 20.001 0 18.6842 0 17.0598V2.94215Z",fill:"black"}))},tn=function(){return i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},i().createElement("circle",{cx:"5",cy:"12",r:"2",fill:"#0C0D0D"}),i().createElement("circle",{cx:"12",cy:"12",r:"2",fill:"#0C0D0D"}),i().createElement("circle",{cx:"19",cy:"12",r:"2",fill:"#0C0D0D"}))},en="UTuy5aULGpe2KUMawJvI",nn="hCMUGtIzSUtcRx_4wiMv",rn="S1pDg6AjnGlw_hvtn0m0",on=function(t){return"RemoveObjects"===t?{adpInteraction:rt.ADP_IMAGE_REMOVE_OBJECTS_BUTTON_CLICK,adpSelection:it.ADP_REMOVE_OBJECTS}:{adpInteraction:rt.ADP_IMAGE_REMOVE_BACKGROUND_BUTTON_CLICK,adpSelection:it.ADP_REMOVE_BACKGROUND}},an=function(t){var e=t.value,n=t.disabled,r=t.Icon,o=t.label,a=t.notAvailableText,c=jt(),u=c.openModal,s=c.setShowDropdown,l=(0,Ht.T)();return i().createElement("button",{className:en,onClick:function(){u(e),s(!1);var t=on(e),n=t.adpInteraction,r=t.adpSelection;lt({adpInteraction:n,adpSelection:r,uiElementLocation:et.IMAGE_ADP_MODAL})},disabled:n,type:"button"},i().createElement(r,{className:rn}),l(o),n&&i().createElement(Nk,{className:nn},l(a)))},cn=function(t){var e=t.disabled;return i().createElement(an,{value:f.RemoveBackground,disabled:e,Icon:Ze,label:"remove_background",notAvailableText:"background_removal_not_available"})},un=function(t){var e=t.disabled;return i().createElement(an,{value:f.RemoveObjects,disabled:e,Icon:He,label:"remove_objects",notAvailableText:"object_removal_not_available"})},sn=function(t){var e=t.disabled;return i().createElement(an,{value:f.ModifyBackground,disabled:e,Icon:Qe,label:"modify_background",notAvailableText:"background_modification_not_available"})},ln="faTRqk0rydEHLcbaBNeg",dn=function(t){var e=t.canBlurBackground,n=t.canRemoveBackground,r=t.canRemoveObjects,o=Ut().briaBackgroundBlurExperienceIsActive;return i().createElement("div",{className:ln,"data-testid":"dropdown"},o?i().createElement(sn,{disabled:!e}):i().createElement(cn,{disabled:!n}),i().createElement(un,{disabled:!r}))},fn="vMHXHIlnzMXttg9nIv6_",hn="kMgd6tB4yjyknv9JnA14",pn="nkuIi2SiJaVBWzRnn2yT",vn="suZeOJIJleov1GBMWtJq",mn="oYAkF0nX4TP7AVSQJIYZ",gn=function(t){var e=t.text,n=t.handleClick,o=t.asset,a=jt(),c=a.openModal,u=a.showDropdown,s=a.setShowDropdown,l=(0,r.useContext)(se).availableModifications,d=((0,Ht.T)(),o.largeMainImageURL),h=(null==l?void 0:l.background.length)>0,p=h&&l.background.some((function(t){return t.modifications.includes("blur")})),v=h&&l.background.some((function(t){return t.modifications.includes("remove")})),m=(null==l?void 0:l.objects.length)>0,g=Ut().briaBackgroundBlurExperienceIsActive;(0,r.useEffect)((function(){st({bannerName:nt.ADP_MODIFY_WITH_AI_BUTTON,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP})}),[]);return i().createElement(i().Fragment,null,i().createElement("link",{rel:"prefetch",href:d,as:"image","data-testid":"prefetch-image"}),i().createElement("div",{className:fn},i().createElement("div",{className:hn},i().createElement("button",{className:pn,"data-testid":"modify-asset-button",onClick:function(){var t;n(),t=h?g&&p?f.ModifyBackground:f.RemoveBackground:f.RemoveObjects,c(t)},type:"button"},i().createElement(Je,{fill:"#0D0D0D"}),i().createElement("span",{className:mn},e)),i().createElement("button",{"data-testid":"down-arrow",className:vn,onClick:function(){s(!u),lt({adpInteraction:rt.ADP_IMAGE_CARROT_CLICK,adpSelection:it.ADP_AI_MODAL_CARROT,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP})},type:"button"},i().createElement(Ve,null))),u&&i().createElement(dn,{canRemoveBackground:v,canBlurBackground:p,canRemoveObjects:m})))},yn=n(85893),bn=(0,r.createContext)({onFieldChange:function(){},fields:{}}),wn=function(t){var e=t.children,n=(0,r.useState)({}),i=n[0],o=n[1],a=function(t,e,n){return o((function(r){var i;return n?n(t,e,r):Object.assign({},r,((i={})[t]=e,i))}))},c=(0,r.useMemo)((function(){return{onFieldChange:a,fields:i}}),[i]);return(0,yn.jsx)(bn.Provider,{value:c,children:e})},xn=function(){return(0,r.useContext)(bn)},_n=n(87850),Cn="N4AXbE3xRM6t3_F266c4",En="ZNLGMx5BzXUuIViapzzd",kn=n(8876),$n=n(60131),Sn=n(97535),An=n(23310),On={checkbox:{Checkbox:"p5sXO8mrLvnZxwgx_nWC",checkboxLabel:"WEWC4dbopOel88GdxYoF",checkboxInput:"spEHgLf1jwNBsjWUYXih",startLabelPlacement:"LPL2TzKPTE4VEVH5Kp7L",endLabelPlacement:"mAwll5gKx3NhHzDJ4zwp",topLabelPlacement:"R9faLiyKwG6TMP33i743",bottomLabelPlacement:"yTofMgLd0UTsbECWaeho",checkboxIcon:"nUugJnf1hK_6ZvHokNVI"},iconButton:kn.Z,button:An.Z,icon:{confirmation:"bIfnIoe2TDwmhXaaxJMh"}},Ln={checkbox:{Checkbox:"Wd2wtU00Sk4niT_x3uXP",checkboxLabel:"a0Adb9BatJKVpBe2knKv",checkboxInput:"EwSyZXz8NwwOm_DdMTxI",startLabelPlacement:"HP1_LndCcR0L1dVlj7AW",endLabelPlacement:"yBHsWUuVb6CVIY9ahhCT",topLabelPlacement:"iEFFifmngHgP0kRrZv1i",bottomLabelPlacement:"kcxAzaJdaetJCcvKLFGu",checkboxIcon:"ZU8Y8sCJ6rnMLIIQaaab"},iconButton:$n.Z,button:Sn.Z,icon:{confirmation:"LTg0RFLAXvDKDbQdp2nv"}},Mn=function(t){var e=t.trackDisplayed,n=t.trackDismissed,i=t.className,o=void 0===i?"":i,a=t.confirmationClassName,c=void 0===a?"":a,u=t.onSubmit,s=t.children,l=t.showFeedbackModal,d=t.toggleShowFeedbackModal,f=t.onClose,h=(0,r.useState)(!1),p=h[0],v=h[1],m=(0,dt.W4)(),g=(0,r.useMemo)((function(){return{theme:"istock"===(null==m?void 0:m.nickname)?On:Ln}}),[m.nickname]);e&&e();var y,b=function(){v(!1),d()},w=function(t){v(!0),u(t)};return l?(0,yn.jsx)(Hr,{showOn:l,children:(0,yn.jsx)(_n.N.Provider,{value:g,children:(0,yn.jsx)(wn,{children:(0,yn.jsx)("div",{className:Cn,"data-testid":"feedback-modal",children:(0,yn.jsxs)("div",{className:fe()(En,o),children:[(0,yn.jsx)(Qn,{handleClose:function(){n&&n(),f&&f(),b()},id:p?"close-confirmation-modal":"close-feedback-modal"}),p?(0,yn.jsx)(er,{closeModal:b,confirmationClassName:c}):(y=s,r.Children.map(y,(function(t){return(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{onSubmit:w}):t})))]})})})})}):null},Rn=function(t){var e=t.children,n=t.className,i=void 0===n?"":n,o=t.exclusive,a=void 0===o?"":o,c=t.eventName,u=t.trackClick,s=(0,r.useState)([]),l=s[0],d=s[1],f=function(t,e){var n;return d(t),Object.assign({},e,((n={})[c]=t,n))},h=function(t,e,n){var r=Array.isArray(n[c])?n[c]:[];return e?t===a||r.includes(a)?f([t],n):f([].concat(r,[t]),n):f(r.filter((function(e){return e!==t})),n)};return(0,yn.jsx)("div",{className:i,children:r.Children.map(e,(function(t){return(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{customHandler:h,selected:l,trackClick:u}):t}))})},Pn="IytPPdaZwyKBD7i2F8e_",In="tdYGzm9ycxk9wiYILR1C",Tn=function(t){var e=t.className,n=void 0===e?"":e,r=t.id,i=t.text,o=t.name,a=t.customHandler,c=void 0===a?function(){}:a,u=t.selected,s=t.trackClick,l=(0,dt.W4)().nickname,d=xn().onFieldChange,f=null==u?void 0:u.includes(r);return(0,yn.jsxs)("div",{className:n,children:[(0,yn.jsx)("input",{type:"checkbox",name:o,id:r,onChange:function(t){var e=t.target,n=e.checked?e.value:null;d(r,n,c),s&&s(i,l)},className:Pn,checked:f}),(0,yn.jsx)("label",{htmlFor:r,className:In,children:i})]},r)},Dn=function(t){var e=t.activeColor,n=void 0===e?"#FE231F":e,i=t.active,o=t.className,a=t.defaultColor,c=void 0===a?"#adb9ba":a,u=(0,r.useState)(!1),s=u[0],l=u[1],d=(0,r.useState)(!1),f=d[0],h=d[1],p=i||s||f?n:c;return(0,yn.jsx)("svg",{className:o,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},children:(0,yn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.4587 11.1573 13.6959 12.0262 13.5324L9.99072 12.3572C9.51243 12.0811 9.34855 11.4695 9.6247 10.9912C9.90084 10.5129 10.5124 10.349 10.9907 10.6252L13.8724 12.2889C14.3506 12.565 14.5145 13.1766 14.2384 13.6549C14.1203 13.8594 13.9409 14.0064 13.7368 14.0862C14.0549 14.4222 14.25 14.8758 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 15.0175 24.1001 14.6833 24.2738 14.399C24.01 14.3402 23.7708 14.1753 23.6251 13.9229C23.349 13.4446 23.5128 12.833 23.9911 12.5568L26.8728 10.8931C27.3511 10.617 27.9626 10.7809 28.2388 11.2592C28.5149 11.7375 28.3511 12.349 27.8728 12.6252L26.2811 13.5441C27.1214 13.7297 27.75 14.4789 27.75 15.375ZM14.0625 23.8619C15.6021 22.9754 17.3476 22.5088 19.1242 22.5088C20.9008 22.5088 22.6463 22.9754 24.1859 23.8619C25.7255 24.7485 27.0053 26.0238 27.8972 27.5603C28.2091 28.0977 28.0263 28.7861 27.489 29.0981C26.9516 29.41 26.2632 29.2272 25.9512 28.6898C25.2572 27.4941 24.2613 26.5017 23.0632 25.8118C21.8651 25.1219 20.5068 24.7588 19.1242 24.7588C17.7417 24.7588 16.3834 25.1219 15.1853 25.8118C13.9871 26.5017 12.9912 27.4941 12.2972 28.6898C11.9853 29.2272 11.2968 29.41 10.7595 29.0981C10.2221 28.7861 10.0393 28.0977 10.3512 27.5603C11.2431 26.0238 12.5229 24.7485 14.0625 23.8619Z",style:{fill:p}})})},Bn=function(t){var e=t.activeColor,n=void 0===e?"#FE231F":e,i=t.active,o=t.className,a=t.defaultColor,c=void 0===a?"#adb9ba":a,u=(0,r.useState)(!1),s=u[0],l=u[1],d=(0,r.useState)(!1),f=d[0],h=d[1],p=i||s||f?n:c;return(0,yn.jsx)("svg",{className:o,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},children:(0,yn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM19.1244 22.5088C17.3478 22.5088 15.6024 22.9754 14.0628 23.862C12.5231 24.7485 11.2433 26.0238 10.3515 27.5604C10.0396 28.0977 10.2223 28.7862 10.7597 29.0981C11.2971 29.41 11.9855 29.2272 12.2974 28.6899C12.9915 27.4942 13.9874 26.5017 15.1855 25.8118C16.3836 25.1219 17.7419 24.7588 19.1244 24.7588C20.507 24.7588 21.8653 25.1219 23.0634 25.8118C24.2615 26.5017 25.2574 27.4942 25.9515 28.6899C26.2634 29.2272 26.9518 29.41 27.4892 29.0981C28.0266 28.7862 28.2093 28.0977 27.8974 27.5604C27.0056 26.0238 25.7258 24.7485 24.1861 23.862C22.6465 22.9754 20.9011 22.5088 19.1244 22.5088ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",style:{fill:p}})})},jn=function(t){var e=t.activeColor,n=t.active,i=t.className,o=t.defaultColor,a=void 0===o?"#adb9ba":o,c=(0,r.useState)(!1),u=c[0],s=c[1],l=(0,r.useState)(!1),d=l[0],f=l[1],h=n||u||d?e:a;return(0,yn.jsx)("svg",{className:i,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},children:(0,yn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM10.5 25.125C10.5 24.5037 11.0037 24 11.625 24H26.625C27.2463 24 27.75 24.5037 27.75 25.125C27.75 25.7463 27.2463 26.25 26.625 26.25H11.625C11.0037 26.25 10.5 25.7463 10.5 25.125ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",style:{fill:h}})})},Nn=function(t){var e=t.activeColor,n=t.active,i=t.className,o=t.defaultColor,a=void 0===o?"#adb9ba":o,c=(0,r.useState)(!1),u=c[0],s=c[1],l=(0,r.useState)(!1),d=l[0],f=l[1],h=n||u||d?e:a;return(0,yn.jsx)("svg",{className:i,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},children:(0,yn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM12.375 17.25C13.4105 17.25 14.25 16.4105 14.25 15.375C14.25 14.3395 13.4105 13.5 12.375 13.5C11.3395 13.5 10.5 14.3395 10.5 15.375C10.5 16.4105 11.3395 17.25 12.375 17.25ZM25.875 17.25C26.9105 17.25 27.75 16.4105 27.75 15.375C27.75 14.3395 26.9105 13.5 25.875 13.5C24.8395 13.5 24 14.3395 24 15.375C24 16.4105 24.8395 17.25 25.875 17.25ZM12.2977 23.0602C11.9858 22.5229 11.2973 22.3401 10.76 22.652C10.2226 22.9639 10.0398 23.6524 10.3517 24.1898C11.2436 25.7263 12.5234 27.0016 14.063 27.8882C15.6026 28.7747 17.3481 29.2413 19.1247 29.2413C20.9013 29.2413 22.6468 28.7747 24.1864 27.8882C25.726 27.0016 27.0058 25.7263 27.8977 24.1898C28.2096 23.6524 28.0268 22.9639 27.4895 22.652C26.9521 22.3401 26.2636 22.5229 25.9517 23.0602C25.2577 24.256 24.2618 25.2484 23.0637 25.9383C21.8655 26.6282 20.5072 26.9913 19.1247 26.9913C17.7422 26.9913 16.3839 26.6282 15.1858 25.9383C13.9876 25.2484 12.9917 24.256 12.2977 23.0602Z",style:{fill:h}})})},Fn=function(t){var e=t.activeColor,n=t.active,i=t.className,o=t.defaultColor,a=void 0===o?"#adb9ba":o,c=(0,r.useState)(!1),u=c[0],s=c[1],l=(0,r.useState)(!1),d=l[0],f=l[1],h=n||u||d?e:a;return(0,yn.jsx)("svg",{className:i,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},children:(0,yn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.125 20C3.125 10.6802 10.6802 3.125 20 3.125C29.3198 3.125 36.875 10.6802 36.875 20C36.875 29.3198 29.3198 36.875 20 36.875C10.6802 36.875 3.125 29.3198 3.125 20ZM20 0.875C9.43755 0.875 0.875 9.43755 0.875 20C0.875 30.5624 9.43755 39.125 20 39.125C30.5624 39.125 39.125 30.5624 39.125 20C39.125 9.43755 30.5624 0.875 20 0.875ZM12 23.875C11.619 23.875 11.2639 24.0679 11.0564 24.3874C10.8489 24.707 10.8173 25.1099 10.9724 25.4579C11.8527 27.4334 13.1319 29.1098 14.7093 30.2928C16.2908 31.4789 18.1159 32.125 20 32.125C21.8841 32.125 23.7092 31.4789 25.2907 30.2928C26.8681 29.1098 28.1473 27.4334 29.0276 25.4579C29.1827 25.1099 29.1511 24.707 28.9436 24.3874C28.7361 24.0679 28.381 23.875 28 23.875H12ZM16.0593 28.4928C15.2444 27.8817 14.5066 27.0819 13.8844 26.125H26.1156C25.4934 27.0819 24.7556 27.8817 23.9407 28.4928C22.7143 29.4126 21.356 29.875 20 29.875C18.644 29.875 17.2857 29.4126 16.0593 28.4928ZM14 16.125C12.9645 16.125 12.125 16.9645 12.125 18C12.125 18.6213 11.6213 19.125 11 19.125C10.3787 19.125 9.875 18.6213 9.875 18C9.875 15.7218 11.7218 13.875 14 13.875C16.2782 13.875 18.125 15.7218 18.125 18C18.125 18.6213 17.6213 19.125 17 19.125C16.3787 19.125 15.875 18.6213 15.875 18C15.875 16.9645 15.0355 16.125 14 16.125ZM24.125 18C24.125 16.9645 24.9645 16.125 26 16.125C27.0355 16.125 27.875 16.9645 27.875 18C27.875 18.6213 28.3787 19.125 29 19.125C29.6213 19.125 30.125 18.6213 30.125 18C30.125 15.7218 28.2782 13.875 26 13.875C23.7218 13.875 21.875 15.7218 21.875 18C21.875 18.6213 22.3787 19.125 23 19.125C23.6213 19.125 24.125 18.6213 24.125 18Z",style:{fill:h}})})},zn=function(t){var e=t.className,n=(0,r.useContext)(_n.N).theme;return(0,yn.jsx)("svg",{"data-testid":"confirmation-icon",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:fe()(e,n.icon.confirmation),children:(0,yn.jsx)("g",{id:"Checkmark",children:(0,yn.jsx)("path",{id:"Vector",d:"M23.75 7C14.4992 7 7 14.4992 7 23.75C7 33.0007 14.4992 40.5 23.75 40.5C33.0008 40.5 40.5 33.0007 40.5 23.75C40.5 14.4992 33.0008 7 23.75 7ZM21.0269 31.3474L13.9111 24.2311L16.5435 21.5988L21.0269 26.0827L30.9565 16.1525L33.5889 18.7849L21.0269 31.3474Z"})})})},Zn="kC2xeCb4gXuKMjtMnifE",Hn=["good","fair","great"],Vn=function(t){var e=t.children,n=t.className,i=void 0===n?"":n,o=t.customHandler,a=t.trackClick,c=xn().onFieldChange,u=(0,r.useState)(null),s=u[0],l=u[1],d=(0,dt.W4)().isGetty()?"#6F43D6":"#02A388",f=function(t){var e=t.target;l(e.id),c("icon",e.value,o),a&&a(e.id)},h=r.Children.map(e,(function(t,e){var n;return Hn.includes(t.props.id)&&(n=d),(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{value:e,activeIcon:s,activeColor:n,handleRatingChange:f}):t}));return(0,yn.jsx)("div",{className:fe()(Zn,i),children:(0,yn.jsx)("ul",{children:h})})},Un="ZWLPOCGKI6UpGS4DF7Yg",Gn="nHLtRsJiB6W6jUK7DGMg",Wn="znzHgcIeTEiYTdhG4a9O",Kn="HfultA_Qt_9UTL_yS1RQ",Xn=function(t){var e=t.activeIcon,n=t.activeColor,r=t.className,i=void 0===r?"":r,o=t.defaultColor,a=t.handleRatingChange,c=void 0===a?function(){}:a,u=t.iconClassName,s=void 0===u?"":u,l=t.text,d=t.value,f=t.id,h=e===f,p={"very-poor":Dn,poor:Bn,fair:jn,good:Nn,great:Fn}[f];return(0,yn.jsxs)("li",{className:fe()(Un,i),children:[(0,yn.jsx)("input",{type:"radio",id:f,name:"rating",value:d,onClick:function(t){c(t)},className:Kn}),(0,yn.jsxs)("label",{htmlFor:f,className:Wn,children:[(0,yn.jsx)(p,{active:h,activeColor:n,className:s,defaultColor:o}),(0,yn.jsx)("span",{className:Gn,children:l})]})]},l)},Yn=n(91740),qn=n(78201),Jn="uixAM_HDnBMTBKy8dSd_",Qn=function(t){var e=t.handleClose,n=t.id;return(0,yn.jsx)(Yn.h,{className:Jn,ariaLabel:"close-feedback-modal",onClick:e,id:n,children:(0,yn.jsx)(qn.Tw,{})})},tr="DKenSnkfr6_DJW_m3P6Z",er=function(t){var e=t.closeModal,n=t.confirmationClassName,r=(0,Ht.T)();return setTimeout((function(){e()}),3e3),(0,yn.jsxs)("div",{className:tr,children:[(0,yn.jsx)(zn,{className:n}),(0,yn.jsx)("p",{children:r("thanks_for_providing_feedback")})]})},nr=n(87462),rr=n(63366),ir=(n(45697),n(28442)),or=n(28562),ar=n(1588);function cr(t){return(0,or.Z)("MuiInput",t)}(0,ar.Z)("MuiInput",["root","formControl","focused","disabled","error","multiline","input","inputMultiline","inputTypeSearch","adornedStart","adornedEnd"]);var ur=n(33703);const sr=r.createContext(void 0);var lr=n(30437);function dr(t={}){const{defaultValue:e,disabled:n=!1,error:i=!1,onBlur:o,onChange:a,onFocus:c,required:u=!1,value:s,inputRef:l}=t,d=r.useContext(sr);let f,h,p,v,m;var g,y,b;d?(f=void 0,h=null!=(g=d.disabled)&&g,p=null!=(y=d.error)&&y,v=null!=(b=d.required)&&b,m=d.value):(f=e,h=n,p=i,v=u,m=s);const{current:w}=r.useRef(null!=m),x=r.useCallback((t=>{0}),[]),_=r.useRef(null),C=(0,ur.Z)(_,l,x),[E,k]=r.useState(!1);r.useEffect((()=>{!d&&h&&E&&(k(!1),null==o||o())}),[d,h,E,o]);const $=t=>e=>{var n,r;null!=d&&d.disabled?e.stopPropagation():(null==(n=t.onFocus)||n.call(t,e),d&&d.onFocus?null==d||null==(r=d.onFocus)||r.call(d):k(!0))},S=t=>(e,...n)=>{var r,i;if(!w){if(null==(e.target||_.current))throw new Error(function(t){let e="https://mui.com/production-error/?code="+t;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}(17))}null==d||null==(r=d.onChange)||r.call(d,e),null==(i=t.onChange)||i.call(t,e,...n)};return{disabled:h,error:p,focused:E,formControlContext:d,getInputProps:(t={})=>{const e={onBlur:o,onChange:a,onFocus:c},n=(0,nr.Z)({},e,(0,lr._)(t)),r=(0,nr.Z)({},n,{onBlur:(i=n,t=>{var e;null==(e=i.onBlur)||e.call(i,t),d&&d.onBlur?d.onBlur():k(!1)}),onChange:S(n),onFocus:$(n)});var i;return(0,nr.Z)({},r,{"aria-invalid":p||void 0,defaultValue:f,value:m,required:v,disabled:h},t,{ref:C},r)},getRootProps:(e={})=>{const n=(0,lr._)(t,["onBlur","onChange","onFocus"]),r=(0,nr.Z)({},n,(0,lr._)(e));return(0,nr.Z)({},e,r,{onClick:(i=r,t=>{var e;_.current&&t.currentTarget===t.target&&_.current.focus(),null==(e=i.onClick)||e.call(i,t)})});var i},inputRef:C,required:v,value:m}}var fr=n(73945),hr=n(94780),pr=n(31873);const vr=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","endAdornment","error","id","multiline","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","startAdornment","value","type","rows","slotProps","slots","minRows","maxRows"],mr=r.forwardRef((function(t,e){var n,r,i;const{"aria-describedby":o,"aria-label":a,"aria-labelledby":c,autoComplete:u,autoFocus:s,className:l,defaultValue:d,disabled:f,endAdornment:h,error:p,id:v,multiline:m=!1,name:g,onClick:y,onChange:b,onKeyDown:w,onKeyUp:x,onFocus:_,onBlur:C,placeholder:E,readOnly:k,required:$,startAdornment:S,value:A,type:O,rows:L,slotProps:M={},slots:R={},minRows:P,maxRows:I}=t,T=(0,rr.Z)(t,vr),{getRootProps:D,getInputProps:B,focused:j,formControlContext:N,error:F,disabled:z}=dr({disabled:f,defaultValue:d,error:p,onBlur:C,onClick:y,onChange:b,onFocus:_,required:$,value:A}),Z=m?void 0:null!=O?O:"text",H=(0,nr.Z)({},t,{disabled:z,error:F,focused:j,formControlContext:N,multiline:m,type:Z}),V=(t=>{const{disabled:e,error:n,focused:r,formControlContext:i,multiline:o,startAdornment:a,endAdornment:c}=t,u={root:["root",e&&"disabled",n&&"error",r&&"focused",Boolean(i)&&"formControl",o&&"multiline",Boolean(a)&&"adornedStart",Boolean(c)&&"adornedEnd"],input:["input",e&&"disabled",o&&"multiline"]};return(0,hr.Z)(u,(0,pr.T)(cr))})(H),U={"aria-describedby":o,"aria-label":a,"aria-labelledby":c,autoComplete:u,autoFocus:s,id:v,onKeyDown:w,onKeyUp:x,name:g,placeholder:E,readOnly:k,type:Z},G=null!=(n=R.root)?n:"div",W=(0,fr.y)({elementType:G,getSlotProps:D,externalSlotProps:M.root,externalForwardedProps:T,additionalProps:{ref:e},ownerState:H,className:[V.root,l]}),K=m?null!=(r=R.textarea)?r:"textarea":null!=(i=R.input)?i:"input",X=(0,fr.y)({elementType:K,getSlotProps:t=>B((0,nr.Z)({},U,t)),externalSlotProps:M.input,additionalProps:(0,nr.Z)({rows:m?L:void 0},m&&!(0,ir.X)(K)&&{minRows:L||P,maxRows:L||I}),ownerState:H,className:V.input});return(0,yn.jsxs)(G,(0,nr.Z)({},W,{children:[S,(0,yn.jsx)(K,(0,nr.Z)({},X)),h]}))}));var gr=function(t){var e,n=t.children,r=t.name,i=t.label,o=t.labelPlacement,a=void 0===o?xr.END:o,c=t.styles,u=t.className,s=((e={})[xr.START]=c.startLabelPlacement,e[xr.END]=c.endLabelPlacement,e[xr.TOP]=c.topLabelPlacement,e[xr.BOTTOM]=c.bottomLabelPlacement,e),l=fe()(c.Checkbox,s[a],u);return(0,yn.jsxs)("div",{className:l,children:[(0,yn.jsx)("label",{className:c.checkboxLabel,htmlFor:r,children:i}),n]})},yr=n(79734),br=["checked","onClick","styles"];var wr=(0,r.forwardRef)((function(t,e){var n=t.checked,r=t.onClick,i=t.styles,o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,br),a=(0,yr.jK)(o),c=function(){r(!n)},u=n?"checked box":"unchecked box",s=n?(0,yn.jsx)(qn.Og,{className:i.checkboxIcon}):(0,yn.jsx)(qn.Cd,{className:i.checkboxIcon});return(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)(Yn.h,{ariaLabel:u,onClick:c,children:s}),(0,yn.jsx)("input",Object.assign({},a,{ref:e,className:i.checkboxInput,checked:n,onChange:c}))]})}));wr.displayName="CheckboxInput";var xr,_r=wr,Cr=["name","label","labelPlacement","checked","onClick","className"];!function(t){t.START="start",t.END="end",t.TOP="top",t.BOTTOM="bottom"}(xr||(xr={}));var Er=(0,r.forwardRef)((function(t,e){var n=t.name,r=t.label,i=t.labelPlacement,o=t.checked,a=t.onClick,c=t.className,u=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Cr),s=(0,_n.F)("checkbox"),l={label:r,labelPlacement:i,name:n,styles:s,className:c},d={id:n,checked:o,name:n,styles:s,onClick:a};return(0,yn.jsx)(mr,Object.assign({},u,{ref:e,slotProps:{root:l,input:d},slots:{root:gr,input:_r},type:"checkbox"}))}));Er.displayName="Checkbox";var kr=Er,$r="qTeAnjpEKAkU9rjyapYZ",Sr=function(t){var e=t.className,n=void 0===e?"":e,i=t.name,o=t.value,a=t.label,c=t.trackClick,u=xn().onFieldChange,s=(0,r.useState)(!1),l=s[0],d=s[1];return(0,yn.jsx)("div",{className:fe()($r,n),children:(0,yn.jsx)(kr,{name:i,value:o,onClick:function(t){"boolean"==typeof t&&(u("contact",t),d(t),c&&c())},label:a,labelPlacement:xr.END,checked:l})})},Ar="s7t7OaYlVm7MHdVJM6w6",Or=function(t){var e=t.onSubmit,n=void 0===e?function(){}:e,r=t.children,i=t.className,o=void 0===i?"":i,a=xn().fields;return(0,yn.jsx)("form",{onSubmit:function(t){t.preventDefault(),n(a)},className:fe()(Ar,o),children:r})},Lr="muR1Da10FBYcXvQ8xedm",Mr=function(t){var e=t.text,n=t.className,r=void 0===n?"":n;return(0,yn.jsx)("legend",{className:fe()(Lr,r),children:e})},Rr={heading:"ZgHIVeaBGNJlgQaG6auO",body:"mY8k9SZXahyI33AYtxV2"},Pr=function(t){var e=t.headerText,n=t.subHeaderText,r=t.className,i=void 0===r?"":r;return(0,yn.jsxs)("div",{className:fe()(Rr.textContainer,i),children:[(0,yn.jsx)("p",{className:Rr.heading,children:e}),n&&(0,yn.jsx)("p",{className:Rr.body,children:n})]})},Ir=n(55972),Tr=function(t){var e=t.className,n=void 0===e?"":e,r=(0,dt.NW)("USA"),i=(0,dt.W4)(),o=(0,Ht.T)();return(0,yn.jsx)("span",{className:n,children:(0,yn.jsx)(Ir.Z,{children:o("view_privacy_policy_and_terms_of_use",{links:[{href:r.privacyPolicy(),target:"_blank"},{href:null!=i&&i.isGetty()?null==r?void 0:r.termOfUse():null==r?void 0:r.termsOfUse(),target:"_blank"}]})})})},Dr=n(66931),Br=function(t){var e=t.text,n=t.className,r=void 0===n?"":n;return(0,yn.jsx)(Dr.zx,{className:r,type:"submit",variant:Dr.hZ.SECONDARY,fullWidth:!0,children:e})},jr="kn_ryUUi9x0R2KMlNtBB",Nr="cisJCqYRCeXlU9cf_xRA",Fr=function(t){var e=t.className,n=void 0===e?"":e,r=t.id,i=t.label,o=t.placeholder,a=xn().onFieldChange;return(0,yn.jsxs)("div",{className:n,children:[i&&(0,yn.jsx)("label",{className:Nr,htmlFor:r,children:i}),(0,yn.jsx)("textarea",{id:r,placeholder:o,onChange:function(t){var e=t.target;a(r,e.value)},className:jr,maxLength:1e3})]})},zr=n(2091),Zr={container:"sQEistIQhuUXZKoEIMgg",modalEnter:"Pd9SOKieseJlKMgqtQeF",modalEnterActive:"wXjh7QnLcUm3BaJSBkAs",modalExit:"ioQ5dx7XC7b1p6nA9P5B",modalExitActive:"xPrFCT700qXsVvd22S8C"},Hr=function(t){var e=t.showOn,n=t.children;return(0,yn.jsx)(zr.CSSTransition,{in:e,unmountOnExit:!0,timeout:300,classNames:{enter:Zr.confirmationEnter,enterActive:Zr.confirmationEnterActive,exit:Zr.confirmationExit,exitActive:Zr.confirmationExitActive},children:(0,yn.jsx)("div",{className:Zr.container,children:n})})},Vr=function(t){return{1:it.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_VERY_POOR_1,2:it.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_POOR_2,3:it.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_FAIR_3,4:it.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_GOOD_4,5:it.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_GREAT_5}[t]||it.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_ERROR},Ur=function(t,e){return lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:Vr(t),uiElementLocation:e===d.GETTY?et.ADP_AI_MODS_FEEDBACK_MODAL:et.ADP_MODAL})},Gr="NMMuwYamvlgECspgJ8M0",Wr="AlIo0y81DBZYBM86Gz7I",Kr=["1","2","3"],Xr=function(t){var e=t.setShowNegativeForm,n=t.setShowFormFields,r=(0,Ht.T)(),o=(0,dt.W4)().nickname;return i().createElement("div",{className:Gr},i().createElement(Vn,{customHandler:function(t,r,i){var a,c=(+r+1).toString();return Ur(c,o),n(!0),Kr.includes(c)?e(!0):e(!1),Object.assign({},i,((a={})[t]=r,a))},className:Wr},i().createElement(Xn,{id:"very-poor",text:r("very_poor")}),i().createElement(Xn,{id:"poor",text:r("poor")}),i().createElement(Xn,{id:"fair",text:r("fair")}),i().createElement(Xn,{id:"good",text:r("good")}),i().createElement(Xn,{id:"great",text:r("great")})))},Yr="vExuSaQf_k9cLI1rGdRw",qr="xTKFUnXWVSXYGif6G9U9",Jr="uVrOAsfgsz8tyLa8T3M1",Qr="vuVUe56tofk5X0KWHbIx",ti=function(){var t=(0,Ht.T)();return i().createElement("div",{className:Yr},i().createElement(Mr,{text:t("select_the_reason_for_your_rating")}),i().createElement(Rn,{eventName:"reasons",trackClick:Ur},i().createElement(Tn,{className:qr,id:"elementsNotRemoved",name:"Elements were not removed",text:t("elements_were_not_removed")}),i().createElement(Tn,{className:qr,id:"elementsWereErased",name:"Elements were erased",text:t("elements_were_erased")}),i().createElement(Tn,{className:qr,id:"featureNotEasyToUse",name:"Feature is not easy to use",text:t("feature_is_not_easy_to_use")}),i().createElement(Tn,{className:qr,id:"itTookTooLong",name:"It took too long",text:t("it_took_longer_than_expected")})),i().createElement(Fr,{placeholder:t("other_please_specify"),id:"other"}),i().createElement(Sr,{label:t("i_can_be_emailed_for_more_details"),name:"contact",value:"true"}),i().createElement(Tr,{className:Jr}),i().createElement(Br,{className:Qr,text:t("submit")}))},ei="xPO_lUpdk6A2dn7l9qL1",ni="hF0biKFgURKaTGx2WFbv",ri="Va6Cqh4MvJSR2Hgapjrg",ii=function(){var t=(0,Ht.T)();return i().createElement("div",{className:ei},i().createElement("label",{htmlFor:"comments"},t("additional_comments")),i().createElement(Fr,{placeholder:"",id:"comments"}),i().createElement(Sr,{label:t("i_can_be_emailed_for_more_details"),name:"contact",value:"true"}),i().createElement(Tr,{className:ni}),i().createElement(Br,{className:ri,text:t("submit")}))},oi=function(t){return X().post("/components/asset-mod/api/feedback",{feedback:t})},ai={modal:"_UNp5szn7G1W2w8SUe7E",fixed:"tn9LHeYCPLTucqDomtSo",right:"XsCZHE8v2A7mNcR15rL8",header:"WsI0tjdEankEu93dhI0V"},ci=function(t){var e=t.assetId,n=t.visualId,o=t.placement,a=void 0===o?"fixed":o,c=(0,dt.W4)().nickname,u=(0,r.useState)(!1),s=u[0],l=u[1],f=(0,r.useState)(!1),h=f[0],p=f[1],v=zt(),m=v.showFeedbackModal,g=v.toggleFeedbackModal,y=jt(),b=y.activeModifications,w=y.setActiveModifications,x=y.enhancedObjectRemoval,_=Nt(),C=_.backgroundRemoved,E=_.backgroundBlurred,k=_.backgroundBlurredScale,$=Dt().removedObjects,S=(0,Ht.T)();return(0,r.useEffect)((function(){var t=[];C&&t.push("BackgroundRemoved"),E&&t.push("BackgroundBlurred"),$.size>0&&t.push("ObjectsRemoved"),w(t)}),[C,$,E]),m?i().createElement(Mn,{trackDisplayed:function(){!function(t){lt({adpInteraction:rt.ADP_MODAL_SHOWN,adpSelection:it.ADP_REMOVE_BACKGROUND_FEEDBACK,uiElementLocation:t===d.GETTY?et.ADP_AI_MODS_FEEDBACK_MODAL:et.ADP_MODAL})}(c)},trackDismissed:function(){!function(t){lt({adpInteraction:rt.ADP_MODAL_DISMISS,adpSelection:it.ADP_REMOVE_BACKGROUND_FEEDBACK,uiElementLocation:t===d.GETTY?et.ADP_AI_MODS_FEEDBACK_MODAL:et.ADP_MODAL})}(c)},onSubmit:function(t){l(!1),lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_MODAL_REMOVE_BACKGROUND_FEEDBACK_SUBMIT,uiElementLocation:c===d.GETTY?et.ADP_AI_MODS_FEEDBACK_MODAL:et.ADP_MODAL});var r={visualId:n,assetId:e,assetUrl:window.location.href,feedback:{canContact:t.contact||!1,comments:t.comments||t.other,rating:(+t.icon+1).toString(),reasons:Array.from(t.reasons||[]),customData:{modificationTypes:b,modificationState:{backgroundRemoved:C,backgroundBlurred:E,backgroundBlurredScale:k,objectsRemoved:$.size>0,objectIds:Array.from($,(function(t){return""+t.id}))},enhancedObjectRemoval:x,editState:{cropped:!1,rotated:!1,flipped:!1}}}};oi(r)},showFeedbackModal:m,toggleShowFeedbackModal:g,className:fe()(ai.modal,ai[a])},i().createElement(Pr,{headerText:S("object_removal_feedback_header"),className:ai.header}),i().createElement(Or,null,i().createElement(Xr,{setShowNegativeForm:p,setShowFormFields:l}),s&&(h?i().createElement(ti,null):i().createElement(ii,null)))):null},ui=(0,r.createContext)({viewingOriginal:!1,setViewingOriginal:function(){}}),si=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],c=(0,r.useMemo)((function(){return{viewingOriginal:o,setViewingOriginal:a}}),[o]);return i().createElement(ui.Provider,{value:c},e)},li=function(){return(0,r.useContext)(ui)},di=function(){return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"checkmark"},i().createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#02A388"}),i().createElement("path",{d:"M5 10.5L6.37512 9.3332L9.12488 11.6668L14.6249 7L16 8.1668L9.12488 14L5 10.5Z",fill:"white"}))},fi="pIpmubW87UC45ftjz2sI",hi="SZiBth1YXjImkgbW2dQA",pi="RbUBz_RlNXzCe6HQKp7i",vi="uHEi4U_uRIu61ceEnRGC",mi=function(t){var e=t.object,n=t.zIndex,o=(0,r.useState)(!1),a=o[0],c=o[1],u=e.coordinates,s=e.id,l=Dt(),d=l.hoveredListItem,f=l.selectedObjects,h=l.addHoveredListItem,p=l.addObjectMask,v=l.removeHoveredListItem,m=l.removeObjectMask,g=l.toggleObjectSelected,y=f&&f.has(e),b=d&&d.id===s;return i().createElement("div",{"data-testid":"bounding-box",role:"button",tabIndex:0,className:fe()("globalBoundingBox",fi,y&&"globalSelected",y&&pi,b&&vi),onClick:function(){b&&v(),c(!0),g(e),y||lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_AI_OBJECTS_AREA_SELECTED,uiElementLocation:et.IMAGE_ADP_MODAL})},onMouseEnter:function(){y||h(e),c(!1),p(e)},onMouseLeave:function(){a||(v(),m(e))},style:{width:u.w+"%",height:u.h+"%",top:u.y+"%",left:u.x+"%",zIndex:""+n}},y&&i().createElement("div",{className:hi},i().createElement(di,null)))},gi=function(){var t=Dt().objects,e=0!==t.length,n=(0,r.useMemo)((function(){return e?Math.max.apply(Math,t.map((function(t){return t.coordinates.w*t.coordinates.h}))):0}),[t]),o=function(t){var e=t.coordinates.w*t.coordinates.h;return Math.round(n/e)};return e?i().createElement("div",{"data-testid":"bounding-boxes"},t.map((function(t){return i().createElement(mi,{key:t.id,object:t,zIndex:o(t)})}))):null},yi="gJCFluOTL8Ad6a9YIbBa",bi=function(t){var e=t.imageRef,n=Dt().maskingCoordinates,r=Array.from(n);return i().createElement("div",{className:yi,"data-testid":"image-mask"},i().createElement("svg",null,i().createElement("mask",{id:"svgmask","data-testid":"svg-mask"},i().createElement("rect",{fill:"#666E6E",height:e.current.height,width:e.current.width}),r.map((function(t){return i().createElement("rect",{key:"hover-coordinate-"+t.x+"-"+t.y+"-"+t.w+"-"+t.h,"data-testid":"object-mask",fill:"#000000",width:t.w+"%",height:t.h+"%",x:t.x+"%",y:t.y+"%",rx:"8"})}))),i().createElement("rect",{mask:"url(#svgmask)",height:e.current.height,width:e.current.width})))},wi="lWP4MqOVAakIbvXS7Kng",xi="WflgVrSmgeFrtJFTF4My",_i=function(){var t=(0,Ht.T)(),e=li().viewingOriginal,n=(0,r.useState)(!1),o=n[0],a=n[1],c=(0,r.useRef)(!0);return(0,r.useEffect)((function(){if(!c.current){a(!0);var t=setTimeout((function(){a(!1)}),3e3);return function(){return clearTimeout(t)}}c.current=!1}),[e]),i().createElement("span",{className:fe()(wi,o&&xi),"data-testid":"image-type-badge"},t(e?"original":"modified"))};function Ci(){Ci=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Ei(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}var ki=function(t){var e=t.visualId,n=t.asset,i=t.backgroundRemoved,o=t.backgroundBlurred,a=t.backgroundBlurredScale,c=t.removedObjects,u=t.removedObjectMasks,s=t.showBackgroundError,l=t.showObjectError,d=t.previousImageSrcRef,f=t.requestId,h=t.modificationSessionId,p=jt(),v=p.resetToOriginal,m=p.enhancedObjectRemoval,g=u.size>0||c.size>0,y=!i&&!o&&!g,b=n.assetId,w=n.largeMainImageURL,x=(0,r.useRef)(!1),_=(0,r.useRef)(!1),C=x.current&&!i,E=_.current&&!o,k=C||E,$=(0,r.useRef)(!1),S=$.current&&!g,A=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ei(o,r,i,a,c,"next",t)}function c(t){Ei(o,r,i,a,c,"throw",t)}a(void 0)}))}}(Ci().mark((function t(){return Ci().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Rt({assetId:b,visualId:e,largeMainImageURL:w,modificationSessionId:h});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),G(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){(k||S)&&y&&A(),x.current=i,_.current=o,$.current=g}),[i,g,o]),y?w:s||l||i&&o?d.current:Xt({visualId:e,asset:n,backgroundRemoved:i,backgroundBlurred:o?a:o,removedObjects:c,removedObjectMasks:u,enhancedObjectRemoval:m,requestId:f,modificationSessionId:h})},$i=function(t){var e=document.createElement("canvas");return e.width=t.naturalWidth,e.height=t.naturalHeight,e.getContext("2d").drawImage(t,0,0),e.toDataURL()},Si=function(t){var e=t.src,n=t.previousImageSrcRef,i=t.largeMainImageURL,o=(0,r.useState)(!1),a=o[0],c=o[1],u=(0,r.useState)(!0),s=u[0],l=u[1],d=(0,r.useRef)(),f=jt().setResetToOriginal,h=Ai(),p=h.previousBackgroundRemovedRef,v=h.previousBackgroundBlurredRef,m=h.previousRemovedObjectsRef,g=h.setPreviousBackgroundRemoved,y=h.setPreviousBackgroundBlurred,b=h.setPreviousRemovedObjects,w=Ft(),x=w.setShowBackgroundError,_=w.setClearNotification,C=w.setShowNotification,E=w.setShowObjectError,k=Dt(),$=k.clearMaskingAndHoverData,S=k.removedObjects,A=k.setRemovedObjects,O=Nt(),L=O.setBackgroundRemoved,M=O.backgroundRemoved,R=O.setBackgroundBlurred,P=O.backgroundBlurred;(0,r.useEffect)((function(){var t;(null==(t=d.current)?void 0:t.src)!==e&&(_(!1),c(!0),f(!1),C(!1))}),[e]);var I=(0,r.useCallback)((function(){c(!1),s?l(!1):C(!0),d.current&&d.current.src!==i?n.current=$i(d.current):n.current=i,g(M),y(P),b(S)}),[d,i,s,M,P,S]),T=(0,r.useCallback)((function(){x(!0),L(p.current),R(v.current),C(!1)}),[]),D=(0,r.useCallback)((function(){E(!0),$(),C(!1),A(m.current)}),[]);return{loading:a,imgRef:d,isFirstLoad:s,onLoad:I,onBackgroundError:T,onObjectError:D}},Ai=function(){var t=(0,r.useRef)(),e=(0,r.useRef)(),n=(0,r.useRef)(new Set);return{previousBackgroundRemovedRef:t,previousBackgroundBlurredRef:e,previousRemovedObjectsRef:n,setPreviousBackgroundRemoved:function(e){t.current=e},setPreviousBackgroundBlurred:function(t){e.current=t},setPreviousRemovedObjects:function(t){n.current=t}}},Oi="ddHaXPqHqjfmvl3aSzAV",Li="j0bfztiydZspyTNO21tI",Mi="AOgEZlbIuR6PIu8c3oOo",Ri="V5GDZBcUR3CWqj05D65P",Pi="ujs_pY6omMPNHGJ4SVd0";var Ii=function(t,e){void 0===e&&(e=100);var n=(0,r.useRef)();return(0,r.useEffect)((function(){return function(){n.current&&clearTimeout(n.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=setTimeout((function(){t.apply(void 0,i)}),e);clearTimeout(n.current),n.current=a}},Ti=function(t,e,n){var r,i=document.createElement("canvas");i.width=e,i.height=n;var o=i.getContext("2d");return o&&(o.imageSmoothingEnabled=!1,o.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,e,n),r=o.getImageData(0,0,e,n)),{imagePixelsData:r,ctx:o}},Di=function(t,e,n,r){var i=n.naturalWidth/r.clientWidth,o=n.naturalHeight/r.clientHeight,a=Math.round(t.nativeEvent.offsetX*i),c=4*(Math.round(t.nativeEvent.offsetY*o)*n.naturalWidth+a);return e.data[c]-1},Bi="nKCh1qugiHx_kHMOy6jj",ji=[83,0,201,100],Ni=[0,255,0,100],Fi=[83,0,201,150],zi=[0,255,0,150],Zi=function(t){var e=t.mainImageRef,n=t.imageRef,o=t.selectedObjectMasks,a=t.removedObjectMasks,c=t.toggleObjectMaskSelected,u=Bt().activeModificationType,s=Gt().maskImages,l=s.masks,d=s.panoptic,f=(0,r.useRef)(null),h=(0,r.useRef)(null),p=(0,r.useRef)([]),v=(0,r.useState)(0),m=v[0],g=v[1],y=(0,r.useState)(0),b=y[0],w=y[1],x=(0,r.useState)(!1),_=x[0],C=x[1],E=(0,r.useState)(),k=E[0],$=E[1],S=(0,r.useState)(null),A=S[0],O=S[1];(0,r.useEffect)((function(){p.current=l.map((function(){return i().createRef()}))}),[p]),(0,r.useEffect)((function(){if(_){var t=f.current,e=Ti(t,t.naturalWidth,t.naturalHeight);$(e)}}),[_]);var L=Ii((function(){var t=e.current||n.current;if(t){var r=t.width*window.devicePixelRatio,i=t.height*window.devicePixelRatio,o=h.current;o.width=r,o.height=i,w(i),g(r)}}));(0,r.useEffect)((function(){var t=function(){L()};return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]);var M=function(t,e,n,r){var i=Ti(e,r.width,r.height);if(t.imagePixelsData&&i.imagePixelsData)for(var o=0,a=t.imagePixelsData.data.length;o<a;o+=4)255===i.imagePixelsData.data[o]&&(t.imagePixelsData.data[o]=n[0],t.imagePixelsData.data[o+1]=n[1],t.imagePixelsData.data[o+2]=n[2],t.imagePixelsData.data[o+3]=n[3])};(0,r.useEffect)((function(){var t,r=h.current,i=e.current||n.current,c=Ti(i,r.width,r.height),u=((null==A?void 0:A.id)||0)-1,s=null==(t=p.current[u])?void 0:t.current;o.size>0&&o.forEach((function(t){!function(t,e,n){var r,i=null==(r=p.current[+t.id-1])?void 0:r.current;if(i){var o=a.has(t);M(n,i,o?Ni:ji,e)}}(t,r,c)})),s&&function(t,e,n){var r,i=null==(r=p.current[+t.id-1])?void 0:r.current;if(i){var o=a.has(t);M(n,i,o?zi:Fi,e)}}(l[u],r,c),c.ctx.putImageData(c.imagePixelsData,0,0);var d,f,v,m=r.getContext("2d");m.clearRect(0,0,r.width,r.height),d=c.ctx.canvas.toDataURL(),f=function(t){m.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,r.width,r.height)},(v=new Image).addEventListener("load",(function(){return f(v)})),v.setAttribute("crossOrigin","anonymous"),v.src=d}),[m,b,A,u,o,a]);var R=Ii((function(){O(null)})),P=Ii((function(t){var e=f.current,n=h.current,r=Di(t,k.imagePixelsData,e,n),i=l[r];O(i)}));return i().createElement("div",{"data-testid":"mask-canvas-container",className:Bi},i().createElement("canvas",{"data-testid":"mask-canvas",ref:h,onMouseUp:function(t){var e=f.current,n=h.current,r=Di(t,k.imagePixelsData,e,n),i=l[r];i&&c(i)},onMouseOut:R,onMouseMove:P}),i().createElement("img",{ref:f,src:d,crossOrigin:"anonymous",alt:"",onLoad:function(){return C(!0)}}),l.map((function(t,e){return i().createElement("img",{ref:p.current[e],crossOrigin:"anonymous",key:t.id+"_masked_image",src:t.url,alt:t.id+" mask image"})})))},Hi=function(t){var e=t.asset,n=t.visualId,o=t.modificationApplied,a=(0,Ht.T)(),c=e.largeMainImageURL,u=e.ratio,s=(e.assetId,(0,r.useRef)()),l=Bt().activeModificationType,d=Ft(),h=d.showBackgroundError,p=d.setShowBackgroundError,v=d.showObjectError,m=d.setShowObjectError,g=d.setClearNotification,y=Nt(),b=y.backgroundRemoved,w=y.backgroundBlurred,x=y.backgroundBlurredScale,_=Dt(),C=_.maskingCoordinates,E=_.objectListHovered,k=_.selectedObjects,$=_.removedObjects,S=Jt(),A=S.removedObjectMasks,O=S.toggleObjectMaskSelected,L=S.selectedObjectMasks,M=li(),R=M.viewingOriginal,P=M.setViewingOriginal,I=jt().modificationSessionId,T=(0,r.useMemo)((function(){return Date.now().toString()}),[b,w,x,$,A,h,v]),D=ki({visualId:n,asset:e,backgroundRemoved:b,backgroundBlurred:w,backgroundBlurredScale:x,removedObjects:$,removedObjectMasks:A,showBackgroundError:h,showObjectError:v,previousImageSrcRef:s,requestId:T,modificationSessionId:I.current}),B=(0,r.useRef)(null),j=Si({src:D,previousImageSrcRef:s,largeMainImageURL:c}),N=j.loading,F=j.imgRef,z=j.onLoad,Z=j.onObjectError,H=j.onBackgroundError,V=0!==k.size,U=!R&&!N&&(V||E||C&&0!==C.size),G=!R&&!N&&l===f.RemoveObjects,W=!R&&!N&&l===f.RemoveObjectsWithMask,K=(0,r.useMemo)((function(){return h&&l===f.RemoveBackground?i().createElement(Q$,{text:a("background_removal_an_error_occurred"),trackingInfo:{bannerName:nt.ADP_MODAL_REMOVE_BACKGROUND_ERROR_BANNER,uiElementLocation:et.ADP_MODAL_IMAGE_TOP},handleDismissal:function(){return p(!1)},className:Pi}):h&&l===f.ModifyBackground?i().createElement(Q$,{text:a("background_modification_an_error_occurred"),trackingInfo:{bannerName:nt.ADP_MODAL_REMOVE_BACKGROUND_ERROR_BANNER,uiElementLocation:et.ADP_MODAL_IMAGE_TOP},handleDismissal:function(){return p(!1)},className:Pi}):v&&l===f.RemoveObjects?i().createElement(Q$,{text:a("object_removal_an_error_occurred"),trackingInfo:{bannerName:nt.ADP_MODAL_REMOVE_BACKGROUND_ERROR_BANNER,uiElementLocation:et.ADP_MODAL_IMAGE_TOP},handleDismissal:function(){return m(!1)},className:Pi}):null}),[h,l,v]);return i().createElement("div",{className:Oi,style:{aspectRatio:u},"data-testid":"image-wrapper",role:"button",tabIndex:0,onClick:function(){R&&P(!1)}},(!D||R)&&i().createElement("img",{ref:B,"data-testid":"original-image",src:c,alt:"Original",className:fe()(Ri),crossOrigin:"anonymous"}),W&&i().createElement(Zi,{mainImageRef:B,imageRef:F,selectedObjectMasks:L,removedObjectMasks:A,toggleObjectMaskSelected:O}),D&&i().createElement("img",{id:"modified-image",src:D,alt:"Modified",className:fe()(Li,N&&Mi),onLoad:z,onError:function(){l===f.RemoveObjects?Z():H(),g(!0)},ref:F,crossOrigin:"anonymous"}),N&&i().createElement(V$,null),U&&i().createElement(bi,{imageRef:F}),G&&i().createElement(gi,null),o&&i().createElement(_i,null),K)},Vi=new Map([[f.RemoveBackground,"Remove_Background"],[f.RemoveObjects,"Remove_Object"]]),Ui="NBfpZ_W2L4vtL1t1xXRA",Gi="WZ0moDxyCUWXHH2F5XrC",Wi="xm34Vk3lkxl41mJgHKEd",Ki="p6F4kM55KEwWhk7Fc1Rh",Xi=function(t){var e=t.disabled,n=t.value,o=t.Icon,a=t.label,c=t.notAvailableText,u=(0,Ht.T)(),s=Bt(),l=s.activeModificationType,d=s.setActiveModificationType,f=Ft().setClearNotification,h=Dt().clearMaskingAndHoverData,p=n===l;(0,r.useEffect)((function(){var t;e||st({bannerName:(t=n,"Remove_Background"===Vi.get(t)?nt.ADP_MODAL_TAB_REMOVE_BACKGROUND_SHOWN:nt.ADP_MODAL_TAB_REMOVE_OBJECT_SHOWN),uiElementLocation:et.IMAGE_ADP_MODAL})}),[]);return i().createElement("button",{className:fe()(Ui,p&&Gi),onClick:function(){f(!0),d(n),h();var t,e=(t=n,"Remove_Background"===Vi.get(t)?{adpInteraction:rt.ADP_MODAL_TAB_REMOVE_BACKGROUND_CLICK,adpSelection:it.ADP_MODAL_TAB_REMOVE_BACKGROUND}:{adpInteraction:rt.ADP_MODAL_TAB_REMOVE_OBJECT_CLICK,adpSelection:it.ADP_MODAL_TAB_REMOVE_OBJECT});lt({adpInteraction:e.adpInteraction,adpSelection:e.adpSelection,uiElementLocation:et.IMAGE_ADP_MODAL})},disabled:e,type:"button"},i().createElement(o,{className:Wi}),u(a),e&&i().createElement(Nk,{className:Ki},u(c)))},Yi=function(t){var e=t.disabled;return i().createElement(Xi,{disabled:e,value:f.RemoveBackground,Icon:Ze,label:"remove_background",notAvailableText:"background_removal_not_available"})},qi=function(t){var e=t.disabled;return i().createElement(Xi,{disabled:e,value:f.RemoveObjects,Icon:He,label:"remove_objects",notAvailableText:"object_removal_not_available"})},Ji=function(t){var e=t.disabled;return i().createElement(Xi,{disabled:e,value:f.ModifyBackground,Icon:Qe,label:"modify_background",notAvailableText:"background_modification_not_available"})},Qi="mnLsOFMIROCiXuUWNhve",to=function(t){var e=t.canModifyBackground,n=t.canRemoveObjects,r=t.canBlurBackground;return i().createElement("div",{className:Qi,"data-testid":"modification-selector"},r?i().createElement(Ji,{disabled:!e}):i().createElement(Yi,{disabled:!e}),i().createElement(qi,{disabled:!n}))},eo=n(3382),no=function(){return i().createElement("svg",{width:"54",height:"22",viewBox:"0 0 54 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("rect",{width:"54",height:"22",rx:"11",fill:"url(#paint0_linear_6601_271173)"}),i().createElement("path",{d:"M19.467 13.708C19.467 14.992 18.591 16 16.815 16H13.203V8.008H16.551C18.195 8.008 19.131 8.716 19.131 9.928C19.131 10.72 18.711 11.32 18.087 11.656C18.999 12.028 19.467 12.784 19.467 13.708ZM18.003 10.084C18.003 9.352 17.499 9.028 16.515 9.028H14.331V11.308H16.575C17.487 11.308 18.003 10.828 18.003 10.084ZM18.291 13.648C18.291 12.856 17.823 12.28 16.827 12.28H14.331V14.992H16.779C17.751 14.992 18.291 14.488 18.291 13.648ZM26.9206 16H21.1366V8.008H26.8006V9.04H22.2646V11.296H26.2126V12.268H22.2646V14.968H26.9206V16ZM34.374 9.04H31.65V16H30.522V9.04H27.81V8.008H34.374V9.04ZM41.757 16H40.497L39.645 13.78H36.045L35.181 16H34.005L37.257 8.008H38.493L41.757 16ZM39.273 12.796L37.869 9.1L36.429 12.796H39.273Z",fill:"white"}),i().createElement("defs",null,i().createElement("linearGradient",{id:"paint0_linear_6601_271173",x1:"-4.5",y1:"25.5",x2:"54",y2:"7",gradientUnits:"userSpaceOnUse"},i().createElement("stop",{stopColor:"#9F1E9C"}),i().createElement("stop",{offset:"0.541667",stopColor:"#F0122A"}),i().createElement("stop",{offset:"1",stopColor:"#F75733"}))))},ro="PBX3eM2VqjLbfDmZfRdw",io="cGSQOE66baF5i70nPObA",oo="Vs2AlxcdicyLw7r3AbFH",ao="Ao9iduNxOX6LKuD7NOUr",co="tjE9Vjl_qmcy1pr0LB4g",uo=function(){var t=(0,Ht.T)(),e=zt().toggleFeedbackModal,n=t("ai_beta_quality_warning",{links:[{href:"#",id:"ai-beta-feedback-link"}]}),r=i().createElement("div",{"data-testid":"beta-badge-tooltip-content",className:oo},i().createElement("span",{className:ao},i().createElement(Ir.Z,null,n))),o=i().createElement("div",{"data-testid":"beta-hoverable-tooltip",className:ro},i().createElement(eo.Tg,{className:io,placement:"bottom",trigger:i().createElement(no,null),trackViewed:function(){var t=document.getElementById("ai-beta-feedback-link");t&&t.addEventListener("click",(function(){return e()}))}},r));return i().createElement("div",{"data-testid":"beta-ai-badge",className:co},o)},so="MNXD6afHuOQUo1rBEpHI",lo="xLE1VJdb2unBokzpoTmB",fo="_d4w2BYKw21LEsr7vo1z",ho=function(){var t=Nt(),e=t.backgroundRemoved,n=t.setBackgroundRemoved,r=li(),o=r.viewingOriginal,a=r.setViewingOriginal,c=Ft().clearModificationErrors;return i().createElement("button",{className:fe()(so,e&&lo),onClick:function(){c(),o&&a(!1),n(!e);var t=e?it.ADP_IMAGE_TOGGLE_RESTORE_BACKGROUND:it.ADP_IMAGE_TOGGLE_REMOVE_BACKGROUND;lt({adpInteraction:rt.ADP_IMAGE_REMOVE_BACKGROUND_TOGGLE_CLICK,adpSelection:t,uiElementLocation:et.IMAGE_ADP_MODAL})},"data-testid":"remove-background-toggle",type:"button"},i().createElement("span",{className:fo}))},po="RaMXBMf9JV7IPn2gC2Ap",vo="kPegHnf_Fw5UwRzLMDph",mo=function(){var t=(0,Ht.T)();return i().createElement(i().Fragment,null,i().createElement("div",{className:po},i().createElement("div",null,t("make_background_transparent")),i().createElement(uo,null)),i().createElement("div",{className:vo},i().createElement(ho,null),i().createElement("span",null,t("remove_background"))))},go="gTxrtooLWO28J7IHuMDX",yo="uAjEYld_Dr_R_V4GAytE",bo="T17jxbcV2b59SBGavRz_",wo="dWJ8zuFXryPNYciK_lFw",xo="ZOi8SjKkdkcQHdO3X8mO",_o=function(t){var e,n=t.object,r=t.position,o=Dt(),a=o.addObjectMask,c=o.addHoveredListItem,u=o.removeObjectMask,s=o.removeHoveredListItem,l=o.toggleObjectSelected,d=o.hoveredListItem,f=o.selectedObjects,h=o.removedObjects,p=li(),v=p.viewingOriginal,m=p.setViewingOriginal,g=(e=n.modifications).charAt(0).toLocaleUpperCase()+e.slice(1)+(r?" "+r:""),y=f&&f.has(n),b=h&&h.has(n),w=d&&d.id===n.id;return i().createElement("li",{className:fe()(go,w&&!v&&bo,y&&xo,b&&wo,v&&yo),onClick:function(){v?m(!1):(y?c(n):s(),l(n),y||lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_AI_OBJECTS_REMOVED+"_"+f.size,uiElementLocation:et.IMAGE_ADP_MODAL}))},onMouseEnter:function(){y||c(n),a(n)},onMouseLeave:function(){u(n),s()}},y&&i().createElement(di,null),g)},Co="RkhiiK9w7G2rWLy6rufy",Eo="KE69i9KrW9DQErO3XvsN",ko=function(){var t=Dt(),e=t.objects,n=t.toggleObjectListHovered;return i().createElement("div",{className:Co},i().createElement("ol",{className:Eo,"data-testid":"object-list",onMouseEnter:n,onMouseLeave:n},function(t,e){var n=new Map;return t.map((function(r,i){var o,a,c=null!=(o=n.get(r.modifications))?o:0;n.set(r.modifications,++c);var u=c>1||r.modifications===(null==(a=t[i+1])?void 0:a.modifications);return e(r,c,u)}))}(e,(function(t,e,n){return i().createElement(_o,{object:t,position:n?e:null,key:t.id})}))))},$o="ZHOPhRt0XgIlkjuR5Isc",So="LZiKvqkzTuRNyZiYynJP",Ao="HVeKjoHCS97hhi46rfDx",Oo="sIEwJn7vga76LUxIIdox",Lo=function(){var t=(0,Ht.T)(),e=(0,S._P)("BriaObjectMagicSelect").isActive(),n=Bt(),r=n.setActiveModificationType,o=n.activeModificationType,a=function(t){r(t)};return i().createElement(i().Fragment,null,i().createElement("div",{className:$o},i().createElement("div",{className:So},t("select_objects_remove_or_restore")),i().createElement(uo,null),e&&i().createElement("div",{className:Ao},i().createElement("button",{className:o===f.RemoveObjects?Oo:"",onClick:function(){return a(f.RemoveObjects)},onKeyDown:function(){return a(f.RemoveObjects)},type:"button"},"Remove Objects"),i().createElement("button",{className:o===f.RemoveObjectsWithMask?Oo:"",onClick:function(){return a(f.RemoveObjectsWithMask)},onKeyDown:function(){return a(f.RemoveObjectsWithMask)},type:"button"},"Magic Remove"))),o===f.RemoveObjects?i().createElement(ko,null):i().createElement("div",null,"Magic Object Removal"))},Mo="S1BdRkqPmUhhXfAiaRCw",Ro="sZ7t3zDy4qmIVNo1SGvU",Po="uSyl04uPKrQARlARrNsg",Io=function(){var t=Nt(),e=t.backgroundBlurred,n=t.setBackgroundBlurred,r=li(),o=r.viewingOriginal,a=r.setViewingOriginal,c=Ft().clearModificationErrors,u=Bt().setActiveModificationSubtype,s=Ft().setClearNotification;return i().createElement("button",{className:fe()(Mo,e&&Ro),onClick:function(){c(),s(!0),o&&a(!1),u(f.ModifyBackground),n(!e);var t=e?it.ADP_IMAGE_TOGGLE_UNBLUR_BACKGROUND:it.ADP_IMAGE_TOGGLE_BLUR_BACKGROUND;lt({adpInteraction:rt.ADP_IMAGE_BLUR_BACKGROUND_TOGGLE_CLICK,adpSelection:t,uiElementLocation:et.IMAGE_ADP_AI_MODAL})},"data-testid":"blur-background-toggle",type:"button"},i().createElement("span",{className:Po}))},To=n(90512);function Do(t){return(0,or.Z)("MuiSlider",t)}(0,ar.Z)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb"]);var Bo=n(82690),jo=n(19032),No=n(99962),Fo=n(73546);var zo=function(t){const e=r.useRef(t);return(0,Fo.Z)((()=>{e.current=t})),r.useRef(((...t)=>(0,e.current)(...t))).current};var Zo={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ho(t,e){return t-e}function Vo(t,e,n){return null==t?e:Math.min(Math.max(e,t),n)}function Uo(t,e){var n;const{index:r}=null!=(n=t.reduce(((t,n,r)=>{const i=Math.abs(e-n);return null===t||i<t.distance||i===t.distance?{distance:i,index:r}:t}),null))?n:{};return r}function Go(t,e){if(void 0!==e.current&&t.changedTouches){const n=t;for(let t=0;t<n.changedTouches.length;t+=1){const r=n.changedTouches[t];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Wo(t,e,n){return 100*(t-e)/(n-e)}function Ko(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(function(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),n=e[0].split(".")[1];return(n?n.length:0)+parseInt(e[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}(e)))}function Xo({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(Ho)}function Yo({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const o=(0,Bo.Z)(t.current);var a;null!=(r=t.current)&&r.contains(o.activeElement)&&Number(null==o||null==(i=o.activeElement)?void 0:i.getAttribute("data-index"))===e||(null==(a=t.current)||a.querySelector(`[type="range"][data-index="${e}"]`).focus());n&&n(e)}function qo(t,e){return"number"==typeof t&&"number"==typeof e?t===e:"object"==typeof t&&"object"==typeof e&&function(t,e,n=((t,e)=>t===e)){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}(t,e)}const Jo={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Qo=t=>t;let ta;function ea(){return void 0===ta&&(ta="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),ta}function na(t){const{"aria-labelledby":e,defaultValue:n,disabled:i=!1,disableSwap:o=!1,isRtl:a=!1,marks:c=!1,max:u=100,min:s=0,name:l,onChange:d,onChangeCommitted:f,orientation:h="horizontal",rootRef:p,scale:v=Qo,step:m=1,tabIndex:g,value:y}=t,b=r.useRef(),[w,x]=r.useState(-1),[_,C]=r.useState(-1),[E,k]=r.useState(!1),$=r.useRef(0),[S,A]=(0,jo.Z)({controlled:y,default:null!=n?n:s,name:"Slider"}),O=d&&((t,e,n)=>{const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:e,name:l}}),d(i,e,n)}),L=Array.isArray(S);let M=L?S.slice().sort(Ho):[S];M=M.map((t=>Vo(t,s,u)));const R=!0===c&&null!==m?[...Array(Math.floor((u-s)/m)+1)].map(((t,e)=>({value:s+m*e}))):c||[],P=R.map((t=>t.value)),{isFocusVisibleRef:I,onBlur:T,onFocus:D,ref:B}=(0,No.Z)(),[j,N]=r.useState(-1),F=r.useRef(),z=(0,ur.Z)(B,F),Z=(0,ur.Z)(p,z),H=t=>e=>{var n;const r=Number(e.currentTarget.getAttribute("data-index"));D(e),!0===I.current&&N(r),C(r),null==t||null==(n=t.onFocus)||n.call(t,e)},V=t=>e=>{var n;T(e),!1===I.current&&N(-1),C(-1),null==t||null==(n=t.onBlur)||n.call(t,e)};(0,Fo.Z)((()=>{var t;i&&F.current.contains(document.activeElement)&&(null==(t=document.activeElement)||t.blur())}),[i]),i&&-1!==w&&x(-1),i&&-1!==j&&N(-1);const U=t=>e=>{var n;null==(n=t.onChange)||n.call(t,e);const r=Number(e.currentTarget.getAttribute("data-index")),i=M[r],a=P.indexOf(i);let c=e.target.valueAsNumber;if(R&&null==m){const t=P[P.length-1];c=c>t?t:c<P[0]?P[0]:c<i?P[a-1]:P[a+1]}if(c=Vo(c,s,u),L){o&&(c=Vo(c,M[r-1]||-1/0,M[r+1]||1/0));const t=c;c=Xo({values:M,newValue:c,index:r});let e=r;o||(e=c.indexOf(t)),Yo({sliderRef:F,activeIndex:e})}A(c),N(r),O&&!qo(c,S)&&O(e,c,r),f&&f(e,c)},G=r.useRef();let W=h;a&&"horizontal"===h&&(W+="-reverse");const K=({finger:t,move:e=!1})=>{const{current:n}=F,{width:r,height:i,bottom:a,left:c}=n.getBoundingClientRect();let l,d;if(l=0===W.indexOf("vertical")?(a-t.y)/i:(t.x-c)/r,-1!==W.indexOf("-reverse")&&(l=1-l),d=function(t,e,n){return(n-e)*t+e}(l,s,u),m)d=Ko(d,m,s);else{const t=Uo(P,d);d=P[t]}d=Vo(d,s,u);let f=0;if(L){f=e?G.current:Uo(M,d),o&&(d=Vo(d,M[f-1]||-1/0,M[f+1]||1/0));const t=d;d=Xo({values:M,newValue:d,index:f}),o&&e||(f=d.indexOf(t),G.current=f)}return{newValue:d,activeIndex:f}},X=zo((t=>{const e=Go(t,b);if(!e)return;if($.current+=1,"mousemove"===t.type&&0===t.buttons)return void Y(t);const{newValue:n,activeIndex:r}=K({finger:e,move:!0});Yo({sliderRef:F,activeIndex:r,setActive:x}),A(n),!E&&$.current>2&&k(!0),O&&!qo(n,S)&&O(t,n,r)})),Y=zo((t=>{const e=Go(t,b);if(k(!1),!e)return;const{newValue:n}=K({finger:e,move:!0});x(-1),"touchend"===t.type&&C(-1),f&&f(t,n),b.current=void 0,J()})),q=zo((t=>{if(i)return;ea()||t.preventDefault();const e=t.changedTouches[0];null!=e&&(b.current=e.identifier);const n=Go(t,b);if(!1!==n){const{newValue:e,activeIndex:r}=K({finger:n});Yo({sliderRef:F,activeIndex:r,setActive:x}),A(e),O&&!qo(e,S)&&O(t,e,r)}$.current=0;const r=(0,Bo.Z)(F.current);r.addEventListener("touchmove",X),r.addEventListener("touchend",Y)})),J=r.useCallback((()=>{const t=(0,Bo.Z)(F.current);t.removeEventListener("mousemove",X),t.removeEventListener("mouseup",Y),t.removeEventListener("touchmove",X),t.removeEventListener("touchend",Y)}),[Y,X]);r.useEffect((()=>{const{current:t}=F;return t.addEventListener("touchstart",q,{passive:ea()}),()=>{t.removeEventListener("touchstart",q,{passive:ea()}),J()}}),[J,q]),r.useEffect((()=>{i&&J()}),[i,J]);const Q=t=>e=>{var n;if(null==(n=t.onMouseDown)||n.call(t,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const r=Go(e,b);if(!1!==r){const{newValue:t,activeIndex:n}=K({finger:r});Yo({sliderRef:F,activeIndex:n,setActive:x}),A(t),O&&!qo(t,S)&&O(e,t,n)}$.current=0;const o=(0,Bo.Z)(F.current);o.addEventListener("mousemove",X),o.addEventListener("mouseup",Y)},tt=Wo(L?M[0]:s,s,u),et=Wo(M[M.length-1],s,u)-tt,nt=t=>e=>{var n;null==(n=t.onMouseOver)||n.call(t,e);const r=Number(e.currentTarget.getAttribute("data-index"));C(r)},rt=t=>e=>{var n;null==(n=t.onMouseLeave)||n.call(t,e),C(-1)};return{active:w,axis:W,axisProps:Jo,dragging:E,focusedThumbIndex:j,getHiddenInputProps:(n={})=>{var r;const o={onChange:U(n||{}),onFocus:H(n||{}),onBlur:V(n||{})},c=(0,nr.Z)({},n,o);return(0,nr.Z)({tabIndex:g,"aria-labelledby":e,"aria-orientation":h,"aria-valuemax":v(u),"aria-valuemin":v(s),name:l,type:"range",min:t.min,max:t.max,step:null===t.step&&t.marks?"any":null!=(r=t.step)?r:void 0,disabled:i},c,{style:(0,nr.Z)({},Zo,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(t={})=>{const e={onMouseDown:Q(t||{})},n=(0,nr.Z)({},t,e);return(0,nr.Z)({ref:Z},n)},getThumbProps:(t={})=>{const e={onMouseOver:nt(t||{}),onMouseLeave:rt(t||{})};return(0,nr.Z)({},t,e)},marks:R,open:_,range:L,rootRef:Z,trackLeap:et,trackOffset:tt,values:M,getThumbStyle:t=>({pointerEvents:-1!==w&&w!==t?"none":void 0})}}var ra=n(71276);const ia=["aria-label","aria-valuetext","aria-labelledby","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","scale","step","tabIndex","track","value","valueLabelFormat","isRtl","defaultValue","slotProps","slots"];function oa(t){return t}const aa=r.forwardRef((function(t,e){var n,i,o,a,c,u;const{"aria-label":s,"aria-valuetext":l,"aria-labelledby":d,className:f,disableSwap:h=!1,disabled:p=!1,getAriaLabel:v,getAriaValueText:m,marks:g=!1,max:y=100,min:b=0,orientation:w="horizontal",scale:x=oa,step:_=1,track:C="normal",valueLabelFormat:E=oa,isRtl:k=!1,defaultValue:$,slotProps:S={},slots:A={}}=t,O=(0,rr.Z)(t,ia),L=(0,nr.Z)({},t,{marks:g,disabled:p,disableSwap:h,isRtl:k,defaultValue:$,max:y,min:b,orientation:w,scale:x,step:_,track:C,valueLabelFormat:E}),{axisProps:M,getRootProps:R,getHiddenInputProps:P,getThumbProps:I,active:T,axis:D,range:B,focusedThumbIndex:j,dragging:N,marks:F,values:z,trackOffset:Z,trackLeap:H,getThumbStyle:V}=na((0,nr.Z)({},L,{rootRef:e})),U=(0,nr.Z)({},L,{marked:F.length>0&&F.some((t=>t.label)),dragging:N,focusedThumbIndex:j,activeThumbIndex:T}),G=(t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:o}=t,a={root:["root",e&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,hr.Z)(a,(0,pr.T)(Do))})(U),W=null!=(n=A.root)?n:"span",K=(0,fr.y)({elementType:W,getSlotProps:R,externalSlotProps:S.root,externalForwardedProps:O,ownerState:U,className:[G.root,f]}),X=null!=(i=A.rail)?i:"span",Y=(0,fr.y)({elementType:X,externalSlotProps:S.rail,ownerState:U,className:G.rail}),q=null!=(o=A.track)?o:"span",J=(0,fr.y)({elementType:q,externalSlotProps:S.track,additionalProps:{style:(0,nr.Z)({},M[D].offset(Z),M[D].leap(H))},ownerState:U,className:G.track}),Q=null!=(a=A.thumb)?a:"span",tt=(0,fr.y)({elementType:Q,getSlotProps:I,externalSlotProps:S.thumb,ownerState:U,skipResolvingSlotProps:!0}),et=A.valueLabel,nt=(0,fr.y)({elementType:et,externalSlotProps:S.valueLabel,ownerState:U}),rt=null!=(c=A.mark)?c:"span",it=(0,fr.y)({elementType:rt,externalSlotProps:S.mark,ownerState:U,className:G.mark}),ot=null!=(u=A.markLabel)?u:"span",at=(0,fr.y)({elementType:ot,externalSlotProps:S.markLabel,ownerState:U}),ct=A.input||"input",ut=(0,fr.y)({elementType:ct,getSlotProps:P,externalSlotProps:S.input,ownerState:U});return(0,yn.jsxs)(W,(0,nr.Z)({},K,{children:[(0,yn.jsx)(X,(0,nr.Z)({},Y)),(0,yn.jsx)(q,(0,nr.Z)({},J)),F.filter((t=>t.value>=b&&t.value<=y)).map(((t,e)=>{const n=Wo(t.value,b,y),i=M[D].offset(n);let o;return o=!1===C?-1!==z.indexOf(t.value):"normal"===C&&(B?t.value>=z[0]&&t.value<=z[z.length-1]:t.value<=z[0])||"inverted"===C&&(B?t.value<=z[0]||t.value>=z[z.length-1]:t.value>=z[0]),(0,yn.jsxs)(r.Fragment,{children:[(0,yn.jsx)(rt,(0,nr.Z)({"data-index":e},it,!(0,ir.X)(rt)&&{markActive:o},{style:(0,nr.Z)({},i,it.style),className:(0,To.Z)(it.className,o&&G.markActive)})),null!=t.label?(0,yn.jsx)(ot,(0,nr.Z)({"aria-hidden":!0,"data-index":e},at,!(0,ir.X)(ot)&&{markLabelActive:o},{style:(0,nr.Z)({},i,at.style),className:(0,To.Z)(G.markLabel,at.className,o&&G.markLabelActive),children:t.label})):null]},e)})),z.map(((t,e)=>{const n=Wo(t,b,y),r=M[D].offset(n),i=(0,ra.x)(S.thumb,U,{index:e,focused:j===e,active:T===e});return(0,yn.jsxs)(Q,(0,nr.Z)({"data-index":e},tt,i,{className:(0,To.Z)(G.thumb,tt.className,null==i?void 0:i.className,T===e&&G.active,j===e&&G.focusVisible),style:(0,nr.Z)({},r,V(e),tt.style,null==i?void 0:i.style),children:[(0,yn.jsx)(ct,(0,nr.Z)({"data-index":e,"aria-label":v?v(e):s,"aria-valuenow":x(t),"aria-labelledby":d,"aria-valuetext":m?m(x(t),e):l,value:z[e]},ut)),et?(0,yn.jsx)(et,(0,nr.Z)({},!(0,ir.X)(et)&&{valueLabelFormat:E,index:e,disabled:p},nt,{children:"function"==typeof E?E(x(t),e):E})):null]}),e)}))]}))}));var ca,ua=["ariaLabel","ariaLabelledBy","className","defaultValue","onChange","onChangeCommitted","minimum","maximum","marks","step","variant","value"];!function(t){t.DISCRETE="discrete",t.CONTINUOUS="continuous",t.CENTER="center"}(ca||(ca={}));var sa=(0,r.forwardRef)((function(t,e){var n,i,o,a=t.ariaLabel,c=t.ariaLabelledBy,u=t.className,s=void 0===u?"slider-container":u,l=t.defaultValue,d=void 0===l?0:l,f=t.onChange,h=t.onChangeCommitted,p=t.minimum,v=t.maximum,m=t.marks,g=t.step,y=t.variant,b=t.value,w=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,ua),x=(0,_n.F)("slider"),_=y===ca.CONTINUOUS,C=y===ca.CENTER,E=(0,r.useState)(d),k=E[0],$=E[1];return(0,yn.jsx)("div",Object.assign({},w,{className:s,ref:e,"data-testid":"sliderContainer",children:(0,yn.jsx)(aa,{"aria-label":c?void 0:a,"aria-labelledby":c,defaultValue:d,getAriaValueText:function(t){return""+t},onChangeCommitted:h,onChange:function(t,e){"number"==typeof e&&$(e),f&&f(t,e,0)},className:fe()(x.slider,x[y],(n={},n[x.positive]=C&&k>=d,n)),slotProps:{mark:{className:x.mark},markLabel:{className:x.markLabel},track:{className:fe()(x.track,x[y],(i={},i[x.trackPositive]=C&&k>=d,i))},rail:{className:fe()(x.rail,x[y],(o={},o[x.railPositive]=C&&k>=d,o))},thumb:{className:fe()(x.thumb,x[y])}},slots:_||C?void 0:{valueLabel:function(t){var e=t.children;return(0,yn.jsx)("span",{className:fe()(x.valueLabel,x[y]),children:e})}},step:g,marks:m,min:p,max:v,value:b})}))}));sa.displayName="Slider";var la=sa,da=function(){var t=(0,Ht.T)(),e=Nt(),n=e.setBackgroundBlurredScale,r=e.backgroundBlurredScale,o=li(),a=o.viewingOriginal,c=o.setViewingOriginal;return i().createElement(la,{defaultValue:3,onChangeCommitted:function(t,e){a&&c(!1),e!==r&&lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_AI_BACKGROUND_BLUR_INTENSITY+"_"+e,uiElementLocation:et.IMAGE_ADP_AI_MODAL}),n(e)},marks:[{label:t("less"),value:1},{value:2},{value:3},{value:4},{label:t("more_lower"),value:5}],maximum:5,minimum:1,step:null,value:r,variant:ca.DISCRETE})},fa="geHet9VWe72xt9bZlLvJ",ha="jHsff7gO5u5fUOpM7h2X",pa="FCqt1CnXzwOJrGYZmpM8",va=function(){var t=Nt(),e=t.backgroundRemoved,n=t.setBackgroundRemoved,r=li(),o=r.viewingOriginal,a=r.setViewingOriginal,c=Ft().clearModificationErrors,u=Bt().setActiveModificationSubtype,s=Ft().setClearNotification;return i().createElement("button",{className:fe()(fa,e&&ha),onClick:function(){c(),s(!0),o&&a(!1),u(f.RemoveBackground),n(!e);var t=e?it.ADP_IMAGE_TOGGLE_RESTORE_BACKGROUND:it.ADP_IMAGE_TOGGLE_REMOVE_BACKGROUND;lt({adpInteraction:rt.ADP_IMAGE_REMOVE_BACKGROUND_TOGGLE_CLICK,adpSelection:t,uiElementLocation:et.IMAGE_ADP_MODAL})},"data-testid":"remove-background-toggle",type:"button"},i().createElement("span",{className:pa}))},ma="Hdp7JCeov_Rl5PakTtmE",ga="Vxb25BTwP7XJGLS7YKkQ",ya="XAnGBcwWV49EO8QuuTjG",ba="VaqDElKm5NsqLPaTb9Vg",wa="eCkdPqhe9rDYAgDkAHLA",xa="nkLLnO9VbAdVaIhYkhHp",_a="d_jVgKHcJdCrep6rFn7T",Ca="OOk9nD_8DNx5qH6nH_Qh",Ea="vsRcZiGwO6Ll6rxspL4S",ka="FLlp5qfCJmWcNp68AKlf",$a=function(t){var e=t.canRemoveBackground,n=t.canBlurBackground,r=(0,Ht.T)(),o=Nt().backgroundBlurred,a={enterActive:xa,enterDone:_a,exit:Ca,exitActive:Ea},c=e?i().createElement("div",{className:ba},i().createElement(va,null),i().createElement("span",{className:wa},r("remove_background"))):null,u=n?i().createElement(i().Fragment,null,i().createElement("div",{className:ba},i().createElement(Io,null),i().createElement("span",{className:wa},r("blur_background"))),i().createElement(zr.CSSTransition,{in:o,timeout:300,classNames:a,unmountOnExit:!0},i().createElement("div",{className:ka},i().createElement("span",null,r("intensity")),i().createElement(da,null)))):null,s=e&&n?i().createElement("div",{className:ya}):null,l=e&&n?"toggle_to_blur_or_remove_bg":n?"toggle_to_blur_bg":"toggle_to_remove_bg";return i().createElement(i().Fragment,null,i().createElement("div",{className:ma},i().createElement("div",null,r(l))),i().createElement("div",{className:ga},c,s,u))},Sa=function(t){var e=t.canRemoveBackground,n=t.canBlurBackground,r=Bt().activeModificationType,o=r===f.RemoveBackground,a=r===f.ModifyBackground;return o?i().createElement(mo,null):a?i().createElement($a,{canRemoveBackground:e,canBlurBackground:n}):i().createElement(Lo,null)},Aa="eolUWVpUUH1BmAKlQDUw";function Oa(){Oa=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function La(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}var Ma,Ra,Pa,Ia=function(t){var e=t.assetId,n=t.visualId,r=jt().setResetToOriginal,o=Ft().setClearNotification,a=Nt(),c=a.setBackgroundRemoved,u=a.setBackgroundBlurred,s=Dt(),l=s.resetAllObjects,d=s.setModificationCount,f=(0,Ht.T)();return i().createElement(Dr.zx,{onClick:function(){var t=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){La(o,r,i,a,c,"next",t)}function c(t){La(o,r,i,a,c,"throw",t)}a(void 0)}))}}(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt({assetId:e,visualId:n});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),G(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();c(!1),u(!1),d({removed:0,restored:0}),l(),r(!0),o(!0),t()},variant:Dr.hZ.HOLLOW,className:Aa,"data-testid":"reset-button"},i().createElement(qe,null),f("reset"))},Ta="QLro8_54qBMqIZbsxNaS",Da=function(){var t=(0,Ht.T)(),e=li(),n=e.viewingOriginal,r=e.setViewingOriginal;return i().createElement(Dr.zx,{onClick:function(){return r(!n)},variant:Dr.hZ.HOLLOW,className:Ta,"data-testid":"toggle-original-button"},i().createElement(Xe,{flip:n}),t(n?"view_modified":"view_original"))},Ba="XqBe914xGwh68b7KvzwD",ja=function(t){var e=t.assetId,n=t.visualId;return i().createElement("div",{className:Ba,"data-testid":"session-controls"},i().createElement(Ia,{assetId:e,visualId:n}),i().createElement(Da,null))},Na=n.p+"static/bria-logo-sm-804e231525be54a0dee8.png",Fa="ANitCj0rDKJiCDOs6r7v",za="qMzZ_rUBGzGVQ4rWirEI",Za=function(){var t=(0,Ht.T)();return i().createElement("div",{className:Fa},t("powered_by"),i().createElement("img",{className:za,src:Na,alt:"Bria"}))},Ha="iPGRlGjVrWWAz6hM9nb5",Va="tUYWpI60jcJGXfbMZFs7",Ua=function(t){var e,n,r=t.asset,o=t.visualId,a=t.availableModifications,c=Ut().briaBackgroundBlurExperienceIsActive,u=Nt(),s=u.backgroundRemoved,l=u.backgroundBlurred,d=Dt().removedObjects,f=s||l||d.size>0,h=a.background.length>0,p=c&&h&&(null==(e=a.background)?void 0:e.some((function(t){return t.modifications.includes("blur")}))),v=h&&(null==(n=a.background)?void 0:n.some((function(t){return t.modifications.includes("remove")}))),m=a.objects.length>0;return i().createElement(si,null,i().createElement("div",{className:Ha,"data-testid":"modifications-editor"},i().createElement(to,{canModifyBackground:h,canBlurBackground:p,canRemoveObjects:m}),i().createElement("div",{className:Va},i().createElement(Hi,{asset:r,visualId:o,modificationApplied:f}),i().createElement(Sa,{canRemoveBackground:v,canBlurBackground:p}),f&&i().createElement(ja,{assetId:r.assetId,visualId:o}))))},Ga="zrohmTnLZ3eAUsmhqJzh",Wa="s6PaShfSS3lA5UWl1K7t",Ka="iyfvIeMBNpXWO3gCxpOK",Xa="Eyx1io6vN6eIoK0zMPNM",Ya="FTMjZyQ6tutdnorqyq0v",qa="mZRJncyWhJU_hB3A5Isf",Ja="N6QWf36RFJt9AR4NxGCA",Qa="TXyB1Zw_6aROVuIscUbY",tc="bCMmK8vDfXQFcZ5gsX0K",ec="crop_button_tooltip",nc=function(t){var e=t.Icon,n=t.text,o=t.handleClick,a=(0,Ht.T)(),c=(0,r.useState)(!1),u=c[0],s=c[1];(0,r.useEffect)((function(){var t=JSON.parse(window.localStorage.getItem(ec));null!=t&&t.dismissed&&s(!0)}),[u]);var l=i().createElement("button",{className:tc,"data-testid":"crop-image-button",onClick:function(){return o()},type:"button"},e&&i().createElement(e,null),n),d=i().createElement("div",{"data-testid":"crop-button-tooltip-content",className:Wa},i().createElement("span",{className:Ka},a("new_all_caps")),i().createElement("span",{className:Xa},a("crop_button_tooltip"))),f=i().createElement("div",{"data-testid":"crop-button-hoverable-tooltip",className:Ya},i().createElement(eo.Tg,{className:Ja,placement:"bottom",trigger:l},d)),h=i().createElement("div",{className:qa,"data-testid":"crop-button-dismissible-tooltip"},l,i().createElement(eo.lq,{className:Qa,localStorageKey:ec,name:"CropButtonTooltip",placement:"bottom",trackDismissed:function(){s(!0)}},d)),p=u?f:h;return i().createElement("div",{"data-testid":"crop-button-container",className:Ga},p)},rc=["textContent","innerHTML"];function ic(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function ac(t,e,n){return e&&oc(t.prototype,e),n&&oc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hc(t,e)}function dc(t){var e="function"==typeof Map?new Map:void 0;return dc=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return fc(t,arguments,pc(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),hc(n,t)},dc(t)}function fc(t,e,n){return fc=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&hc(i,n.prototype),i},fc.apply(null,arguments)}function hc(t,e){return hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hc(t,e)}function pc(t){return pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pc(t)}function vc(){vc=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function mc(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function gc(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){mc(o,r,i,a,c,"next",t)}function c(t){mc(o,r,i,a,c,"throw",t)}a(void 0)}))}}var yc,bc=[{value:65504,name:"jfif"},{value:65498,name:"sos"},{value:65505,subvalue:17784,name:"exif"},{value:65505,subvalue:26740,name:"xmp"},{value:65506,subvalue:19792,name:"mpf"}],wc=function(t){if(65496===t.getUint16(0)){for(var e,n=t.byteLength,r=2,i=void 0;r<n&&255===t.getUint8(r);){e=t.getUint16(r);var o=bc.find((function(n){return n.value===e&&(!n.subvalue||n.subvalue===t.getUint16(r+2+2))}));if(o){var a=o.name;i||(i={}),i[a]||(i[a]={offset:r,size:t.getUint16(r+2)})}if(65498===e)break;r+=2+t.getUint16(r+2)}return i}},xc=function(t,e,n){if(t){var r=new DataView(t),i=wc(r);if(i&&i.exif){var o=function(t,e){if(65505===t.getUint16(e)){var n=t.getUint16(e+2);if(e+=4,1165519206===t.getUint32(e)){e+=6;var r=t.getUint16(e);if(18761===r||19789===r){var i=18761===r;if(e+=2,42===t.getUint16(e,i)){e+=t.getUint32(e+2,i);var o=function(r){for(var o=[],a=e,c=Math.min(t.byteLength,e+n-16);a<c;a+=12){var u=a;t.getUint16(u,i)===r&&o.push(u)}return o};return{read:function(e){var n=o(e);if(n.length)return t.getUint16(n[0]+8,i)},write:function(e,n){var r=o(e);return!!r.length&&(r.forEach((function(e){return t.setUint16(e+8,n,i)})),!0)}}}}}}}(r,i.exif.offset);if(o)return void 0===n?o.read(e):o.write(e,n)}}},_c="__pqina_webapi__",Cc=function(t){return window[_c]?window[_c][t]:window[t]},Ec=function(){},kc="readAsArrayBuffer",$c=function(t,e,n){return void 0===e&&(e=Ec),void 0===n&&(n={}),new Promise((function(r,i){var o=n.dataFormat,a=void 0===o?kc:o,c=new(Cc("FileReader"));c.onload=function(){return r(c.result)},c.onerror=function(){return i(c.error)},c.onprogress=e,c[a](t)}))},Sc=function(){var t=gc(vc().mark((function t(e,n,r){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=[0,e.size]),t.next=3,$c(e.slice.apply(e,n),r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Ac=null,Oc=function(){return null===Ac&&(Ac="undefined"!=typeof window&&void 0!==window.document),Ac},Lc=null,Mc=function(){return new Promise((function(t){if(null===Lc){var e=Oc()?new Image:{};return e.onload=function(){Lc=1===e.naturalWidth,e=void 0,t(Lc)},void(e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=")}return t(Lc)}))},Rc=function(t){return t.getContext("2d").getImageData(0,0,t.width,t.height)},Pc=function(t,e,n){void 0===n&&(n=[]);var r=document.createElement(t),i=Object.getOwnPropertyDescriptors(r.__proto__);for(var o in e)"style"===o?r.style.cssText=e[o]:i[o]&&i[o].set||/textContent|innerHTML/.test(o)||"function"==typeof e[o]?r[o]=e[o]:r.setAttribute(o,e[o]);return n.forEach((function(t){return r.appendChild(t)})),r},Ic={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},Tc=function(t,e,n){return void 0===n&&(n=-1),-1===n&&(n=1),Ic[n](t,e)},Dc=function(t){t.width=1,t.height=1;var e=t.getContext("2d");e&&e.clearRect(0,0,1,1)},Bc=function(t){return"data"in t},jc=function(t){return Oc()?RegExp(t).test(window.navigator.userAgent):void 0},Nc=null,Fc=function(){return null===Nc&&(Nc=jc(/Android/)),Nc},zc=function(t,e){var n=Pc("canvas",{width:t.width,height:t.height});return n.getContext("2d",e).drawImage(t,0,0),n},Zc=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),t.next=3,Mc();case 3:if(r=t.sent,i=r||n<5?[e.width,e.height]:[e.height,e.width],o=Pc("canvas",{width:i[0],height:i[1]}),a=o.getContext("2d",{willReadFrequently:!0}),Bc(e)&&!r&&n>1&&(c=Pc("canvas",{width:e.width,height:e.height}),c.getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),e=c),!r&&n>1&&a.transform.apply(a,Tc(e.width,e.height,n)),!Bc(e)){t.next=15;break}if(a.putImageData(e,0,0),!Fc()){t.next=13;break}return t.abrupt("return",zc(o));case 13:t.next=16;break;case 15:a.drawImage(e,0,0);case 16:return e instanceof HTMLCanvasElement&&Dc(e),t.abrupt("return",o);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Hc=function(){var t=gc(vc().mark((function t(e,n){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=1),1!==n){t.next=3;break}return t.abrupt("return",e);case 3:return t.next=5,Mc();case 5:if(t.sent){t.next=11;break}return t.t0=Rc,t.next=9,Zc(e,n);case 9:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Vc=function(t){return"object"==typeof t},Uc=function(t){return t instanceof HTMLElement?t:Vc(t)?Gc(t):t},Gc=function(t){var e;return Array.isArray(t)?(e=[],t.forEach((function(t,n){e[n]=Uc(t)}))):(e={},Object.keys(t).forEach((function(n){var r=t[n];e[n]=Uc(r)}))),e},Wc=function(t){return"string"==typeof t},Kc=function(t){return"function"==typeof t},Xc=function(t,e){return new Promise((function(n,r){var i=function(){return n(function(t,e){var n=e.width,r=e.height,i=e.canvasMemoryLimit,o=e.contextOptions,a=n||t.naturalWidth,c=r||t.naturalHeight;a||c||(a=300,c=150);var u=a*c;if(i&&u>i){var s=Math.sqrt(i)/Math.sqrt(u);a=Math.floor(a*s),c=Math.floor(c*s)}var l=Pc("canvas");return l.width=a,l.height=c,l.getContext("2d",o).drawImage(t,0,0,a,c),l}(t,e))};t.complete&&t.width?i():(t.onload=i,t.onerror=function(){return r(new Error("Failed to load image"))})}))},Yc=function(){var t=gc(vc().mark((function t(e,n){var r,i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Pc("img",{src:URL.createObjectURL(e)}),t.next=3,Xc(r,n);case 3:return i=t.sent,URL.revokeObjectURL(r.src),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),qc=function(){return"createImageBitmap"in window},Jc=function(t){return/svg/.test(t.type)},Qc=function(){return Math.random().toString(36).substr(2,9)},tu=new Map,eu=function(t,e,n){return new Promise((function(r,i){var o=t.toString(),a=tu.get(o);if(!a){var c=function(t){return"function () {self.onmessage = function (message) {("+t.toString()+").apply(null, message.data.content.concat([function (err, response) {\n    response = response || {};\n    const transfer = 'data' in response ? [response.data.buffer] : 'width' in response ? [response] : [];\n    return self.postMessage({ id: message.data.id, content: response, error: err }, transfer);\n}]))}}"}(t),u=URL.createObjectURL(function(t){return new Blob(["(","function"==typeof t?t.toString():t,")()"],{type:"application/javascript"})}(c)),s=new Map,l=new Worker(u);a={url:u,worker:l,messages:s,terminationTimeout:void 0,terminate:function(){clearTimeout(a.terminationTimeout),a.worker.terminate(),URL.revokeObjectURL(u),tu.delete(o)}},l.onmessage=function(t){var e=t.data,n=e.id,r=e.content,i=e.error;if(clearTimeout(a.terminationTimeout),a.terminationTimeout=setTimeout((function(){s.size>0||a.terminate()}),500),s.has(n)){var o=s.get(n);s.delete(n),null!=i?o.reject(i):o.resolve(r)}},tu.set(o,a)}var d=Qc();a.messages.set(d,{resolve:r,reject:i}),a.worker.postMessage({id:d,content:e},n)}))},nu=function(){var t=gc(vc().mark((function t(e,n){var r,i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(){var t=gc(vc().mark((function t(){var r,i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yc(e,{canvasMemoryLimit:n,contextOptions:{willReadFrequently:!0}});case 2:return r=t.sent,i=Rc(r),Dc(r),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!Fc()){t.next=5;break}return t.next=4,r();case 4:return t.abrupt("return",t.sent);case 5:if(!qc()||Jc(e)||!("OffscreenCanvas"in window)){t.next=14;break}return t.prev=6,t.next=9,eu((function(t,e,n){createImageBitmap(t).then((function(t){var r=t.width,i=t.height,o=r*i;if(e&&o>e){var a=Math.sqrt(e)/Math.sqrt(o);r=Math.floor(r*a),i=Math.floor(i*a)}var c=new OffscreenCanvas(r,i),u=c.getContext("2d",{willReadFrequently:!0});u.drawImage(t,0,0,r,i);var s=u.getImageData(0,0,c.width,c.height);n(null,s)})).catch((function(t){n(t)}))}),[e,n]);case 9:i=t.sent,t.next=14;break;case 12:t.prev=12,t.t0=t.catch(6);case 14:if(i&&i.width){t.next=18;break}return t.next=17,r();case 17:return t.abrupt("return",t.sent);case 18:return t.abrupt("return",i);case 19:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e,n){return t.apply(this,arguments)}}(),ru=function(t,e,n){return void 0===e&&(e=void 0),void 0===n&&(n=void 0),new Promise((function(r,i){try{t.toBlob((function(t){if(!t)return i(new Error("Failed to create blob"));r(t)}),e,n)}catch(t){i(t)}}))},iu=function(){var t=gc(vc().mark((function t(e,n,r){var i,o;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zc(e);case 2:return i=t.sent,t.next=5,ru(i,n,r);case 5:return o=t.sent,Dc(i),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),ou=function(t,e,n){return void 0===n&&(n=[0,t.size]),e?new Blob([e,t.slice.apply(t,n)],{type:t.type}):t},au={matroska:"mkv"},cu=function(t){var e=(t.match(/\/([a-z0-9]+)/)||[])[1];if(/^x/.test(e)){var n=t.split("/x-")[1];return au[void 0===n?"":n]}return e},uu=function(t){return t.substr(0,t.lastIndexOf("."))||t},su=/avif|bmp|gif|jpg|jpeg|jpe|jif|jfif|png|svg|tiff|webp/,lu=function(t){return t&&(e=(n=t,n.split(".").pop()).toLowerCase(),su.test(e)?"image/"+(/jfif|jif|jpe|jpg/.test(e)?"jpeg":"svg"===e?"svg+xml":e):"");var e,n},du=function(t,e,n){var r=(new Date).getTime(),i=t.type.length&&!/null|text/.test(t.type),o=i?t.type:n,a=function(t,e){var n=lu(t);if(n===e)return t;var r=cu(e)||n;return uu(t)+"."+r}(e,o);try{return new(Cc("File"))([t],a,{lastModified:r,type:i?t.type:o})}catch(e){var c=i?t.slice():t.slice(0,t.size,o);return c.lastModified=r,c.name=a,c}},fu=function(t,e){return t/e},hu=function(t){return t},pu=(Math.PI,Math.PI/2),vu=pu/2,mu=function(t){var e=Math.abs(t)%Math.PI;return e>vu&&e<Math.PI-vu},gu={Top:"t",Right:"r",Bottom:"b",Left:"l",TopLeft:"tl",TopRight:"tr",BottomRight:"br",BottomLeft:"bl"},yu=gu.Top,bu=gu.Right,wu=gu.Bottom,xu=gu.Left,_u=gu.TopLeft,Cu=gu.TopRight,Eu=gu.BottomRight,ku=gu.BottomLeft,$u=(Ma={},Ma[yu]=[.5,0],Ma[bu]=[1,.5],Ma[wu]=[.5,1],Ma[xu]=[0,.5],Ma[_u]=[0,0],Ma[Cu]=[1,0],Ma[Eu]=[1,1],Ma[ku]=[0,1],Ma),Su=function(t,e){return void 0===e&&(e=12),parseFloat(t.toFixed(e))},Au=function(t,e,n){return n+(t-n)*e},Ou=function(){return Lu(0,0)},Lu=function(t,e){return{x:t,y:e}},Mu=function(t){return Lu(t.pageX,t.pageY)},Ru=function(t){return Lu(t.x,t.y)},Pu=function(t){return t.x=-t.x,t.y=-t.y,t},Iu=function(t,e,n){void 0===n&&(n=Ou());var r=Math.cos(e),i=Math.sin(e),o=t.x-n.x,a=t.y-n.y;return t.x=n.x+r*o-i*a,t.y=n.y+i*o+r*a,t},Tu=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Du=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?Ou():(t.x/=e,t.y/=e,t)},Bu=function(t,e){return t.x===e.x&&t.y===e.y},ju=function(t,e){return t.x=e(t.x),t.y=e(t.y),t},Nu=function(t,e){return t.x+=e.x,t.y+=e.y,t},Fu=function(t,e){return t.x-=e.x,t.y-=e.y,t},zu=function(t,e){return t.x/=e,t.y/=e,t},Zu=function(t,e){return t.x*=e,t.y*=e,t},Hu=function(t,e){return t.x*e.x+t.y*e.y},Vu=function(t,e){return t.x*e.y-t.y*e.x},Uu=function(t,e){void 0===e&&(e=Ou());var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},Gu=function(t,e){return void 0===e&&(e=Ou()),Math.sqrt(Uu(t,e))},Wu=function(t,e,n){return t.x=Au(t.x,e,n.x),t.y=Au(t.y,e,n.y),t},Ku=function(t){var e=0,n=0;return t.forEach((function(t){e+=t.x,n+=t.y})),Lu(e/t.length,n/t.length)},Xu=function(t,e,n,r,i){return t.forEach((function(t){t.x=e?r-(t.x-r):t.x,t.y=n?i-(t.y-i):t.y})),t},Yu=function(t,e,n,r){var i=Math.sin(e),o=Math.cos(e);return t.forEach((function(t){t.x-=n,t.y-=r;var e=t.x*o-t.y*i,a=t.x*i+t.y*o;t.x=n+e,t.y=r+a})),t},qu=function(t,e){return{width:t,height:e}},Ju=function(t){return qu(t.width,t.height)},Qu=function(t){return qu(t.width,t.height)},ts=function(t){return qu(t.width,t.height)},es=function(t){return qu(t[0],t[1])},ns=function(t){return/img/i.test(t.nodeName)?qu((e=t).naturalWidth,e.naturalHeight):Qu(t);var e},rs=function(t,e){return qu(t,e)},is=function(t,e,n){return void 0===n&&(n=hu),n(t.width)===n(e.width)&&n(t.height)===n(e.height)},os=function(t,e){return t.width*=e,t.height*=e,t},as=function(t){return Lu(.5*t.width,.5*t.height)},cs=function(t,e){var n=Math.abs(e),r=Math.cos(n),i=Math.sin(n),o=r*t.width+i*t.height,a=i*t.width+r*t.height;return t.width=o,t.height=a,t},us=function(t,e){return t.width>=e.width&&t.height>=e.height},ss=function(t,e){return t.width=e(t.width),t.height=e(t.height),t},ls=function(t,e){return{start:t,end:e}},ds=function(t){return ls(Ru(t.start),Ru(t.end))},fs=function(t,e){if(0===e)return t;var n=Lu(t.start.x-t.end.x,t.start.y-t.end.y),r=Du(n),i=Zu(r,e);return t.start.x+=i.x,t.start.y+=i.y,t.end.x-=i.x,t.end.y-=i.y,t},hs=[Lu(-1,-1),Lu(-1,1),Lu(1,1),Lu(1,-1)],ps=function(t,e,n,r){return{x:t,y:e,width:n,height:r}},vs=function(t){return ps(t.x,t.y,t.width,t.height)},ms=function(){return ps(0,0,0,0)},gs=function(t){return ps(0,0,t.width,t.height)},ys=function(t){return ps(t.x||0,t.y||0,t.width||0,t.height||0)},bs=function(t){var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.y)})),ps(e,r,n-e,i-r)},ws=function(t,e){return ps(t.x-.5*e.width,t.y-.5*e.height,e.width,e.height)},xs=function(t,e,n,r){return ps(t,e,n,r)},_s=function(t){return Lu(t.x+.5*t.width,t.y+.5*t.height)},Cs=function(t,e){return t.x+=e.x,t.y+=e.y,t},Es=function(t,e,n){return n=n||_s(t),t.x=e*(t.x-n.x)+n.x,t.y=e*(t.y-n.y)+n.y,t.width=e*t.width,t.height=e*t.height,t},ks=function(t,e,n,r){var i=(r.x-t.x)/t.width,o=(r.y-t.y)/t.height,a=Math.max(e.width,t.width),c=Math.max(e.height,t.height);return a=Math.min(n.width,a),c=Math.min(n.height,c),t.x=r.x-i*a,t.y=r.y-o*c,t.width=a,t.height=c,t},$s=function(t,e){var n=$u[e],r=n[0],i=n[1],o=r*t.width,a=i*t.height;return Lu(t.x+o,t.y+a)},Ss=function(t,e){return t.x*=e,t.y*=e,t.width*=e,t.height*=e,t},As=function(t,e,n){return void 0===n&&(n=hu),n(t.x)===n(e.x)&&n(t.y)===n(e.y)&&n(t.width)===n(e.width)&&n(t.height)===n(e.height)},Os=function(t){return fu(t.width,t.height)},Ls=function(t,e,n,r,i){return t.x=e,t.y=n,t.width=r,t.height=i,t},Ms=function(t,e){return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},Rs=function(t,e,n){return n||(n=_s(t)),js(t).map((function(t){return Iu(t,e,n)}))},Ps=function(t,e){return ps(.5*t.width-.5*e.width,.5*t.height-.5*e.height,e.width,e.height)},Is=function(t,e){return!(e.x<t.x)&&(!(e.y<t.y)&&(!(e.x>t.x+t.width)&&!(e.y>t.y+t.height)))},Ts=function(t,e,n){if(void 0===n&&(n=Ou()),0===t.width||0===t.height)return ms();var r=Os(t);e||(e=r);var i=t.width,o=t.height;return e>r?i=o*e:o=i/e,ps(n.x+.5*(t.width-i),n.y+.5*(t.height-o),i,o)},Ds=function(t,e,n){if(void 0===e&&(e=Os(t)),void 0===n&&(n=Ou()),0===t.width||0===t.height)return ms();var r=t.width,i=r/e;return i>t.height&&(r=(i=t.height)*e),ps(n.x+.5*(t.width-r),n.y+.5*(t.height-i),r,i)},Bs=function(t){return[Math.min(t.y,t.y+t.height),Math.max(t.x,t.x+t.width),Math.max(t.y,t.y+t.height),Math.min(t.x,t.x+t.width)]},js=function(t){return[Lu(t.x,t.y),Lu(t.x+t.width,t.y),Lu(t.x+t.width,t.y+t.height),Lu(t.x,t.y+t.height)]},Ns=function(t,e){if(t)return t.x=e(t.x),t.y=e(t.y),t.width=e(t.width),t.height=e(t.height),t},Fs=function(t,e,n){return void 0===n&&(n=_s(t)),js(t).map((function(t,r){var i=hs[r];return Lu(Au(t.x,1+i.x*e.x,n.x),Au(t.y,1+i.y*e.y,n.y))}))},zs=function(t){return t.x=0,t.y=0,t},Zs=function(t){var e=t[0],n=t[t.length-1];t=Bu(e,n)?t:[].concat(t,[e]);for(var r,i,o,a=e.x,c=e.y,u=0,s=0,l=0,d=0,f=t.length;s<f;s++)r=t[s],i=t[s+1>f-1?0:s+1],u+=o=(r.y-c)*(i.x-a)-(i.y-c)*(r.x-a),l+=(r.x+i.x-2*a)*o,d+=(r.y+i.y-2*c)*o;return Lu(a+l/(o=3*u),c+d/o)},Hs=function(t,e){return Vs(t.start,t.end,e.start,e.end)},Vs=function(t,e,n,r){var i=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==i){var o=((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/i,a=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/i;if(!(o<0||o>1||a<0||a>1))return Lu(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y))}},Us=function(t,e,n){for(var r=void 0===n?{}:n,i=r.ignoreIdenticalLines,o=void 0!==i&&i,a=r.breakOnIntersection,c=void 0!==a&&a,u=e.length,s=[],l=0;l<u-1;l++)if(!o||!(Bu(t.start,e[l])||Bu(t.start,e[l+1])||Bu(t.end,e[l])||Bu(t.end,e[l+1]))){var d=Vs(t.start,t.end,e[l],e[l+1]);if(d){if(c)return[d];s.push(d)}}return s.length?s:void 0},Gs=function(t){for(var e=[],n=0;n<t.length;n++){var r=n+1;r===t.length&&(r=0),e.push(ls(Ru(t[n]),Ru(t[r])))}return e},Ws=function(t,e){return void 0===e&&(e=0),Gs(t).map((function(t){return fs(t,e)}))},Ks=function(t,e,n,r,i,o,a){void 0===r&&(r=0),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===a&&(a=12);for(var c=[],u=0;u<a;u++)c.push(Lu(t.x+e*Math.cos(u*(2*Math.PI)/a),t.y+n*Math.sin(u*(2*Math.PI)/a)));return(i||o)&&Xu(c,i,o,t.x,t.y),r&&Yu(c,r,t.x,t.y),c},Xs=function(t,e){var n=gs(t),r=_s(n),i=Rs(n,e,r);return zs(bs(i))},Ys=function(t,e){return t instanceof HTMLElement&&(!e||new RegExp("^"+e+"$","i").test(t.nodeName))},qs=function(t){return t instanceof File},Js=function(){var t=gc(vc().mark((function t(e,n,r){var i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ru(e,n,r);case 2:return i=t.sent,t.abrupt("return",du(i,"canvas"));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Qs=function(t){return t.split("/").pop().split(/\?|\#/).shift()},tl=Oc()&&!!Node.prototype.replaceChildren,el=tl?function(t,e){return t.replaceChildren(e)}:function(t,e){for(;t.lastChild;)t.removeChild(t.lastChild);void 0!==e&&t.append(e)},nl=Oc()&&Pc("div",{class:"PinturaMeasure",style:"position:absolute;left:0;top:0;width:99999px;height:0;pointer-events:none;contain:strict;margin:0;padding:0;"}),rl=function(t){return el(nl,t),nl.parentNode||document.body.append(nl),clearTimeout(yc),yc=setTimeout((function(){nl.remove()}),500),t},il=null,ol=function(){return null===il&&(il=Oc()&&/^((?!chrome|android).)*(safari|iphone|ipad)/i.test(navigator.userAgent)),il},al=function(t){return new Promise((function(e,n){var r=!1;!t.parentNode&&ol()&&(r=!0,t.style.cssText="position:absolute;visibility:hidden;pointer-events:none;left:0;top:0;width:0;height:0;",rl(t));var i=function(){var n=t.naturalWidth,i=t.naturalHeight;n&&i&&(r&&t.remove(),clearInterval(o),e({width:n,height:i}))};t.onerror=function(t){clearInterval(o),n(t)};var o=setInterval(i,1);i()}))},cl=function(t){return new Promise((function(e,n){var r=function(){e({width:t.videoWidth,height:t.videoHeight})};if(t.readyState>=1)return r();t.onloadedmetadata=r,t.onerror=function(){return n(t.error)}}))},ul=function(t){return/^image/.test(t.type)},sl=function(t){return new Promise((function(e){var n=Wc(t)?t:URL.createObjectURL(t),r=function(){var t=new Image;t.src=n,e(t)};if(t instanceof Blob&&ul(t))return r();var i=document.createElement("video");i.preload="metadata",i.onloadedmetadata=function(){return e(i)},i.onerror=r,i.src=n}))},ll=function(t){return"VIDEO"===t.nodeName},dl=function(){var t=gc(vc().mark((function t(e){var n,r;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.src){t.next=6;break}return t.next=3,sl(e);case 3:n=t.sent,t.next=7;break;case 6:n=e;case 7:if(t.prev=7,!ll(n)){t.next=14;break}return t.next=11,cl(n);case 11:t.t0=t.sent,t.next=17;break;case 14:return t.next=16,al(n);case 16:t.t0=t.sent;case 17:r=t.t0;case 18:return t.prev=18,qs(e)&&URL.revokeObjectURL(n.src),t.finish(18);case 21:return t.abrupt("return",r);case 22:case"end":return t.stop()}}),t,null,[[7,,18,21]])})));return function(e){return t.apply(this,arguments)}}(),fl=function(t){return new Promise((function(e,n){if(t.complete)return e(t);t.onload=function(){return e(t)},t.onerror=function(){return n(new Error("Failed to load image"))}}))},hl=function(){var t=gc(vc().mark((function t(e){var n,r,i,o;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dl(e);case 2:return n=t.sent,t.next=5,fl(e);case 5:return r=t.sent,i=Pc("canvas",n),i.getContext("2d",{willReadFrequently:!0}).drawImage(r,0,0),t.next=11,ru(i);case 11:return o=t.sent,t.abrupt("return",du(o,Qs(r.src)));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pl=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=!0),new(Cc("ProgressEvent"))("progress",{loaded:100*t,total:100,lengthComputable:e})},vl=function(){var t=gc(vc().mark((function t(e,n,r){var i,o,a,c;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n="data-uri"),void 0===r&&(r=Ec),r(pl(0)),t.next=5,fetch(e);case 5:return i=t.sent,r(pl(.33)),t.next=9,i.blob();case 9:return o=t.sent,ul(o)||(a="image/"+(e.includes(",/9j/")?"jpeg":"png")),r(pl(.66)),c=du(o,n,a),r(pl(1)),t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),ml=function(t,e,n){return void 0===n&&(n=function(t){return t}),t.getAllResponseHeaders().indexOf(e)>=0?n(t.getResponseHeader(e)):void 0},gl=function(t){if(!t)return null;var e=t.split(/filename=|filename\*=.+''/).splice(1).map((function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(t){return t.length}));return e.length?decodeURI(e[e.length-1]):null},yl="URL_REQUEST",bl=function(t){function e(e,n,r){var i;return(i=t.call(this,e)||this).name="EditorError",i.code=n,i.metadata=r,i}return lc(e,t),e}(dc(Error)),wl=function(t,e){var n=e||{},r=n.headers,i=void 0===r?{}:r,o=n.credentials;Object.entries(i).forEach((function(e){var n=e[0],r=e[1];return t.setRequestHeader(n,r)})),o&&(t.withCredentials="omit"!==o)},xl=function(t,e,n){return/^data:/.test(t)?vl(t,void 0,e):function(t,e,n){return new Promise((function(r,i){var o=function(){return i(new bl("Error fetching image",yl,a))},a=new XMLHttpRequest;a.onprogress=e,a.onerror=o,a.onload=function(){if(!a.response||a.status>=300||a.status<200)return o();var e=ml(a,"Content-Type"),n=ml(a,"Content-Disposition",gl)||Qs(t);r(du(a.response,n,e||lu(n)))};var c=n.willRequest;Promise.resolve(c&&c(t,{resourceType:"image"})).then((function(e){if(!1===e)return i("Image load rejected");a.open("GET",t),wl(a,e),a.responseType="blob",a.send()})).catch(console.error)}))}(t,e,n)},_l=function(t){return t instanceof Blob&&!(t instanceof File)},Cl=function(t){return"close"in t},El=function(){var t=gc(vc().mark((function t(e,n,r){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!qs(e)&&!_l(e)){t.next=4;break}return t.abrupt("return",e);case 4:if(!Wc(e)){t.next=10;break}return t.next=7,xl(e,n,r);case 7:case 13:case 19:case 29:return t.abrupt("return",t.sent);case 10:if(!Ys(e,"canvas")){t.next=16;break}return t.next=13,Js(e);case 16:if(!Ys(e,"img")){t.next=22;break}return t.next=19,hl(e);case 22:if(!Bc(e)&&!Cl(e)){t.next=32;break}return t.t0=Js,t.next=26,Zc(e);case 26:return t.t1=t.sent,t.next=29,(0,t.t0)(t.t1);case 32:throw new bl("Invalid image source","invalid-image-source");case 33:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),kl=null,$l=function(){return null===kl&&(kl=Oc()&&/^mac/i.test(navigator.platform)),kl},Sl=null,Al=function(){return null===Sl&&(Sl=Oc()&&(jc(/iPhone|iPad|iPod/)||$l()&&navigator.maxTouchPoints>=1)),Sl},Ol=function(){var t=gc(vc().mark((function t(e,n){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),t.next=3,Mc();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=Al();case 6:if(!t.t0){t.next=8;break}return t.abrupt("return",e);case 8:if(!(n<5)){t.next=10;break}return t.abrupt("return",e);case 10:return t.abrupt("return",rs(e.height,e.width));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ll=function(t){return/jpeg/.test(t.type)},Ml=function(t){return"object"!=typeof(e=t)||e.constructor!=Object?t:JSON.stringify(t);var e},Rl=function(t,e,n){return new Promise((function(r,i){var o=n.token,a=void 0===o?{}:o,c=n.beforeSend,u=void 0===c?Ec:c,s=n.onprogress,l=void 0===s?Ec:s;a.cancel=function(){return d.abort()};var d=new XMLHttpRequest;d.upload.onprogress=l,d.onload=function(){return d.status>=200&&d.status<300?r(d):i(d)},d.onerror=function(){return i(d)},d.ontimeout=function(){return i(d)},d.open("POST",encodeURI(t)),u(d),d.send(e instanceof FormData?e:e.reduce((function(t,e){return t.append.apply(t,e.map(Ml)),t}),new FormData))}))},Pl=function(t,e,n){return void 0===e&&(e=0),0===e||(t.translate(n.x,n.y),t.rotate(e),t.translate(-n.x,-n.y)),t},Il=function(t,e,n){return t.translate(e,n),t},Tl=function(t,e,n){return t.scale(e,n),t},Dl=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).flipX,o=r.flipY,a=r.rotation,c=r.crop,u=Qu(e),s=i||o,l=!!a,d=c&&(c.x||c.y||c.width||c.height),f=d&&As(c,gs(u)),h=d&&!f,s||l||h){t.next=10;break}return t.abrupt("return",e);case 10:if((v=Pc("canvas",{width:e.width,height:e.height})).getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),s&&(m=Pc("canvas",{width:v.width,height:v.height}).getContext("2d",{willReadFrequently:!0}),Tl(m,i?-1:1,o?-1:1),m.drawImage(v,i?-v.width:0,o?-v.height:0),m.restore(),Dc(v),v=m.canvas),!l){t.next=24;break}g=ss(ts(bs(Rs(ys(v),a))),Math.floor),y=Pc("canvas",{width:c.width,height:c.height}).getContext("2d",{willReadFrequently:!0}),Il(y,-c.x,-c.y),Pl(y,a,as(g)),y.drawImage(v,.5*(g.width-v.width),.5*(g.height-v.height)),y.restore(),Dc(v),v=y.canvas,t.next=29;break;case 24:if(!h){t.next=29;break}return b=v.getContext("2d",{willReadFrequently:!0}),p=b.getImageData(c.x,c.y,c.width,c.height),Dc(v),t.abrupt("return",p);case 29:return w=v.getContext("2d",{willReadFrequently:!0}),p=w.getImageData(0,0,v.width,v.height),Dc(v),t.abrupt("return",p);case 33:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Bl=function(t,e){for(var n=t.imageData,r=t.width,i=t.height,o=n.width,a=n.height,c=Math.round(r),u=Math.round(i),s=n.data,l=new Uint8ClampedArray(c*u*4),d=o/c,f=a/u,h=Math.ceil(.5*d),p=Math.ceil(.5*f),v=0;v<u;v++)for(var m=0;m<c;m++){for(var g=4*(m+v*c),y=0,b=0,w=0,x=0,_=0,C=0,E=0,k=(v+.5)*f,$=Math.floor(v*f);$<(v+1)*f;$++)for(var S=Math.abs(k-($+.5))/p,A=(m+.5)*d,O=S*S,L=Math.floor(m*d);L<(m+1)*d;L++){var M=Math.abs(A-(L+.5))/h,R=Math.sqrt(O+M*M);if(!(R<-1||R>1)&&!((y=2*R*R*R-3*R*R+1)<=0)){var P=s[(M=4*(L+$*o))+3];E+=y*P,w+=y,P<255&&(y=y*P/250),x+=y*s[M],_+=y*s[M+1],C+=y*s[M+2],b+=y}}l[g]=x/b,l[g+1]=_/b,l[g+2]=C/b,l[g+3]=E/w}e(null,{data:l,width:c,height:u})},jl=function(t){if(t instanceof ImageData)return t;var e;try{e=new ImageData(t.width,t.height)}catch(n){e=Pc("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},Nl=function(){var t=gc(vc().mark((function t(e,n,r){var i,o,a,c,u,s,l,d,f,h;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),o=(i=n).width,a=i.height,c=i.fit,u=i.upscale,o||a){t.next=4;break}return t.abrupt("return",e);case 4:if(s=o,l=a,o?a||(l=o):s=a,"force"===c){t.next=16;break}if(d=s/e.width,f=l/e.height,h=1,"cover"===c?h=Math.max(d,f):"contain"===c&&(h=Math.min(d,f)),!(h>1&&!1===u)){t.next=14;break}return t.abrupt("return",e);case 14:s=Math.round(e.width*h),l=Math.round(e.height*h);case 16:if(s=Math.max(s,1),l=Math.max(l,1),e.width!==s||e.height!==l){t.next=20;break}return t.abrupt("return",e);case 20:if(!r){t.next=22;break}return t.abrupt("return",r(e,s,l));case 22:return t.next=24,eu(Bl,[{imageData:e,width:s,height:l}],[e.data.buffer]);case 24:return e=t.sent,t.abrupt("return",jl(e));case 26:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Fl=function(t,e){var n=t.imageData,r=t.matrix;if(!r)return e(null,n);for(var i=new Uint8ClampedArray(n.width*n.height*4),o=n.data,a=o.length,c=r[0],u=r[1],s=r[2],l=r[3],d=r[4],f=r[5],h=r[6],p=r[7],v=r[8],m=r[9],g=r[10],y=r[11],b=r[12],w=r[13],x=r[14],_=r[15],C=r[16],E=r[17],k=r[18],$=r[19],S=0,A=0,O=0,L=0,M=0,R=0,P=0,I=0,T=0,D=0,B=0,j=0;S<a;S+=4)R=(A=o[S]/255)*c+(O=o[S+1]/255)*u+(L=o[S+2]/255)*s+(M=o[S+3]/255)*l+d,P=A*f+O*h+L*p+M*v+m,I=A*g+O*y+L*b+M*w+x,T=A*_+O*C+L*E+M*k+$,D=Math.max(0,R*T)+(1-T),B=Math.max(0,P*T)+(1-T),j=Math.max(0,I*T)+(1-T),i[S]=255*Math.max(0,Math.min(1,D)),i[S+1]=255*Math.max(0,Math.min(1,B)),i[S+2]=255*Math.max(0,Math.min(1,j)),i[S+3]=255*M;e(null,{data:i,width:n.width,height:n.height})},zl=function(t,e){var n=t.imageData,r=t.matrix;if(!r)return e(null,n);var i=r.reduce((function(t,e){return t+e}));i=i<=0?1:i;var o=n.width,a=n.height,c=n.data,u=0,s=0,l=0,d=Math.round(Math.sqrt(r.length)),f=Math.floor(d/2),h=0,p=0,v=0,m=0,g=0,y=0,b=0,w=0,x=0,_=0,C=new Uint8ClampedArray(o*a*4);for(l=0;l<a;l++)for(s=0;s<o;s++){for(h=0,p=0,v=0,m=0,y=0;y<d;y++)for(g=0;g<d;g++)(b=l+y-f)<0&&(b=a-1),b>=a&&(b=0),(w=s+g-f)<0&&(w=o-1),w>=o&&(w=0),x=4*(b*o+w),_=r[y*d+g],h+=c[x]*_,p+=c[x+1]*_,v+=c[x+2]*_,m+=c[x+3]*_;C[u]=h/i,C[u+1]=p/i,C[u+2]=v/i,C[u+3]=m/i,u+=4}e(null,{data:C,width:o,height:a})},Zl=function(t,e){var n=t.imageData,r=t.strength;if(!r)return e(null,n);var i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b=new Uint8ClampedArray(n.width*n.height*4),w=n.width,x=n.height,_=n.data,C=function(t,e){return i=t-$,o=e-S,Math.sqrt(i*i+o*o)},E=0,k=0,$=.5*w,S=.5*x,A=C(0,0);for(r>0?(a=0,c=0,u=0):(r=Math.abs(r),a=1,c=1,u=1),k=0;k<x;k++)for(E=0;E<w;E++)v=4*(E+k*w),m=_,g=b,y=C(E,k)*r/A,s=m[v]/255,l=m[v+1]/255,d=m[v+2]/255,f=m[v+3]/255,p=(h=1-y)*f+y,g[v]=(h*f*s+y*a)/p*255,g[v+1]=(h*f*l+y*c)/p*255,g[v+2]=(h*f*d+y*u)/p*255,g[v+3]=255*p;e(null,{data:b,width:n.width,height:n.height})},Hl=function(t,e){var n=t.imageData,r=t.level,i=t.monochrome,o=void 0!==i&&i;if(!r)return e(null,n);for(var a,c,u,s=new Uint8ClampedArray(n.width*n.height*4),l=n.data,d=l.length,f=0,h=function(){return 255*(2*Math.random()-1)*r},p=o?function(){var t=h();return[t,t,t]}:function(){return[h(),h(),h()]};f<d;f+=4){var v=p();a=v[0],c=v[1],u=v[2],s[f]=l[f]+a,s[f+1]=l[f+1]+c,s[f+2]=l[f+2]+u,s[f+3]=l[f+3]}e(null,{data:s,width:n.width,height:n.height})},Vl=function(t,e){var n=t.imageData,r=t.level;if(!r)return e(null,n);for(var i,o,a,c=new Uint8ClampedArray(n.width*n.height*4),u=n.data,s=u.length,l=0;l<s;l+=4)i=u[l]/255,o=u[l+1]/255,a=u[l+2]/255,c[l]=255*Math.pow(i,r),c[l+1]=255*Math.pow(o,r),c[l+2]=255*Math.pow(a,r),c[l+3]=u[l+3];e(null,{data:c,width:n.width,height:n.height})},Ul=function(t){for(var e,n=t.length,r=n>=20?6:n>=16?5:3,i=0;i<n;i++){if(1===(e=t[i])&&i%r!=0)return!1;if(0!==e&&1!==e)return!1}return!0},Gl=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c,u,s,l;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).colorMatrix,o=r.convolutionMatrix,a=r.gamma,c=r.noise,u=r.vignette,s=[],o&&s.push([zl,{matrix:o.clarity}]),a>0&&s.push([Vl,{level:1/a}]),i&&!Ul(i)&&s.push([Fl,{matrix:i}]),(c>0||c<0)&&s.push([Hl,{level:c}]),(u>0||u<0)&&s.push([Zl,{strength:u}]),s.length){t.next=10;break}return t.abrupt("return",e);case 10:return l="function (options, done) {\n        const filterInstructions = options.filterInstructions;\n        const imageData = options.imageData;\n        ("+function t(e,n){return"(err, imageData) => {\n            ("+e[n][0].toString()+")(Object.assign({ imageData: imageData }, filterInstructions["+n+"]), \n                "+(e[n+1]?t(e,n+1):"done")+")\n        }"}(s,0)+")(null, imageData)\n    }",t.next=14,eu(l,[{imageData:e,filterInstructions:s.map((function(t){return t[1]}))}],[e.data.buffer]);case 14:return e=t.sent,t.abrupt("return",jl(e));case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Wl=function(t){return"number"==typeof t},Kl=function(t,e){return t.hasOwnProperty(e)},Xl=function(t){return Array.isArray(t)},Yl=function(t){return t instanceof Blob},ql=function(t){return"rgba("+Math.round(255*t[0])+", "+Math.round(255*t[1])+", "+Math.round(255*t[2])+", "+(Wl(t[3])?t[3]:1)+")"},Jl=function(t){return Object.values(t).join("_")},Ql=function(t){return void 0===t&&(t=0),new Promise((function(e){setTimeout(e,t)}))},td=function(t){return!new Uint32Array(t.getImageData(0,0,t.canvas.width,t.canvas.height).data.buffer).some((function(t){return 0!==t}))},ed=function(){var t=gc(vc().mark((function t(e,n){var r,i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),r=Pc("canvas",{width:80,height:80}),i=r.getContext("2d"),t.next=5,Ql(n);case 5:if(i.drawImage(e,0,0,80,80),!(td(i)&&n<=256)){t.next=10;break}return t.next=9,ed(e,n+16);case 9:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),nd=new Map,rd=function(t,e){var n=(void 0===e?{}:e).safariCacheKey,r=void 0===n?"*":n;return new Promise((function(e,n){var i=new Image;i.onerror=function(){return n(new Error("Failed to load SVG"))},i.onload=function(){if(!ol()||!t.includes("@font-face")||nd.has(r))return e(i);ed(i).then((function(){nd.set(r,!0),e(i)}))},i.src="data:image/svg+xml,"+t}))},id=function(t){return new Promise((function(e,n){var r=new FileReader;r.onerror=function(){return n(r.error)},r.onload=function(){return e(r.result)},r.readAsDataURL(t)}))},od=function(){var t=[];return{sub:function(e,n){return t.push({event:e,callback:n}),function(){return t=t.filter((function(t){return t.event!==e||t.callback!==n}))}},pub:function(e,n){t.filter((function(t){return t.event===e})).forEach((function(t){return t.callback(n)}))}}},ad=null,cd=function(){return null===ad&&(ad=jc(/Firefox/)),ad},ud=32,sd=function(t,e){var n=t.color,r=void 0===n?[0,0,0]:n,i=t.fontSize,o=void 0===i?16:i,a=t.fontFamily,c=void 0===a?"sans-serif":a,u=t.fontVariant,s=void 0===u?"normal":u,l=t.fontWeight,d=void 0===l?"normal":l,f=t.fontStyle,h=void 0===f?"normal":f,p=t.textAlign,v=void 0===p?"left":p,m=t.lineHeight;return void 0===e&&(e=1),"font-size:"+o*e+"px;font-style:"+h+";font-weight:"+d+";font-family:"+c+";font-variant:"+s+";line-height:"+(void 0===m?20:m)*e+"px;text-align:"+v+";color:"+ql(r)+";"},ld=function(t,e,n){void 0===n&&(n=1);var r=e.width,i=e.height,o=!r,a=!1===e.disableNewline?function(t){return void 0===t&&(t=""),t.split("\n").length}(t):void 0,c=o?"auto":r*n+"px",u=i?i*n+"px":"auto",s=o?"normal":"break-word",l=o&&!a?"nowrap":"pre-line",d=function(t){var e=void 0===t?{}:t,n=e.fontSize,r=void 0===n?16:n,i=e.lineHeight,o=void 0===i?20:i;return.5*Math.max(0,r-o)}(e)*n;return"max-width:none;min-width:auto;width:"+c+";height:"+u+";margin-top:0;margin-bottom:0;padding-top:"+d+"px;word-break:"+s+";word-wrap:normal;white-space:"+l+";"},dd=new Map,fd=function t(e){for(var n=[],r=0,i=Array.from(e.childNodes);r<i.length;r++){var o=i[r];o.nodeType===Node.TEXT_NODE?n.push(vd(o)):n.push.apply(n,t(o))}return n},hd="pointer-events:none;visibility:hidden;position:absolute;left:0;top:0;",pd=function(t,e){void 0===t&&(t="");var n=e.width,r=void 0===n?0:n,i=e.height,o=void 0===i?"auto":i,a=e.fontSize,c=e.fontFamily,u=e.lineHeight,s=e.fontWeight,l=e.fontStyle,d=e.fontVariant,f=Jl({text:t,fontFamily:c,fontWeight:s,fontStyle:l,fontVariant:d,fontSize:a,lineHeight:u,width:r,height:o}),h=dd.get(f);if(h)return h;var p=1;a>1e3&&cd()&&(p=a/1e3,a=1e3,u*=p);var v=rl(Pc("pre",{contenteditable:"true",spellcheck:"false",style:""+hd+sd({fontFamily:c,fontWeight:s,fontStyle:l,fontVariant:d,fontSize:a,lineHeight:u})+";"+ld(t,e)+'"',innerHTML:t})),m=v.getBoundingClientRect();return h={signature:fd(v).flat().map((function(t){return t.text})).join("_;_"),textSize:ss(Qu(m),(function(t){return Math.ceil(t*p)}))},dd.set(f,h),v.remove(),h},vd=function(t){var e=t.nodeValue;if(!e)return[];var n=e.length,r=document.createRange();r.selectNodeContents(t);for(var i=[],o=0;o<n;o++){r.setStart(t,0),r.setEnd(t,o+1);var a=r.getClientRects().length-1,c=e.charAt(o);i[a]?i[a]+=c:i.push(c)}var u=r.getClientRects();return i.map((function(t,e){return{rect:u[e],text:t}}))},md=new Map,gd=function(t,e){void 0===t&&(t="");var n=e.width,r=void 0===n?0:n,i=e.height,o=void 0===i?0:i;if(r&&o)return rs(r,o);var a=e.fontSize,c=void 0===a?16:a,u=e.fontFamily,s=e.lineHeight,l=void 0===s?20:s,d=e.fontWeight,f=e.fontStyle,h=e.fontVariant,p=Jl({text:t,fontFamily:u,fontWeight:d,fontStyle:f,fontVariant:h,fontSize:c,lineHeight:l,width:r}),v=md.get(p);if(v)return v;var m=1;c>1e3&&cd()&&(m=c/1e3,c=1e3,l/=m);var g=rl(Pc("pre",{contenteditable:"true",spellcheck:"false",style:""+hd+sd(Object.assign({},e,{fontSize:c,lineHeight:l}))+";"+ld(t,e)+'"',innerHTML:t})).getBoundingClientRect();return(v=Qu(g)).height+=Math.max(0,c-l),v=ss(v,(function(t){return t*m})),r&&(v.width=r),md.set(p,v),v},yd=function(t){return t.pathname.split("/").slice(0,-1).join("/")},bd=new Map,wd=function(t,e){return new Promise((function(n,r){var i=bd.get(t);void 0===i&&(i=function(t,e){var n,r,i=od(),o=i.sub,a=i.pub;return Promise.resolve(e&&e(t,{resourceType:"stylesheet"})).then((function(e){if(!1===e)return a("error",r="requestPrevented");var i=e||{},o=i.headers,c=i.credentials;fetch(t,{headers:o,credentials:c}).then((function(t){return t.text()})).then((function(t){a("load",n=t)})).catch((function(t){a("error",r=t)}))})),{sub:function(t,e){return"load"===t&&n?e(n):"error"===t&&r?e(r):void o(t,e)}}}(t,e),bd.set(t,i)),i.sub("load",n),i.sub("error",r)}))},xd=function(){var t=gc(vc().mark((function t(e,n){var r,i,o;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wd(e,n);case 3:r=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",[]);case 9:return i=Pc("style",{innerHTML:r,id:Qc()}),document.head.append(i),o=Array.from(document.styleSheets).find((function(t){return t.ownerNode.id===i.id})),i.remove(),t.abrupt("return",Array.from(o.cssRules));case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),_d=new Map,Cd=function(t){return t.filter((function(t){return t instanceof CSSFontFaceRule}))},Ed=function(t){return t.filter((function(t){return t instanceof CSSImportRule}))},kd=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c,u,s,l;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!_d.has(e.href)){t.next=2;break}return t.abrupt("return",_d.get(e.href));case 2:t.prev=2,r=Array.from(e.cssRules),i=uc(Ed(r));case 5:if((o=i()).done){t.next=19;break}if(a=o.value,c=a.href,!_d.has(c)){t.next=12;break}return u=_d.get(c),r=[].concat(r,u),t.abrupt("continue",17);case 12:return t.next=14,xd(c,n);case 14:s=t.sent,_d.set(c,s),r=[].concat(r,s);case 17:t.next=5;break;case 19:t.next=28;break;case 21:return t.prev=21,t.t0=t.catch(2),l=e.href,t.next=26,xd(l,n);case 26:r=t.sent,_d.set(l,r);case 28:return t.abrupt("return",Cd(r));case 29:case"end":return t.stop()}}),t,null,[[2,21]])})));return function(e,n){return t.apply(this,arguments)}}(),$d=function(t,e){return t.style.getPropertyValue(e)},Sd=function(t,e){return!!t.style&&$d(t,"font-family").replace(/^"|"$/g,"")==e},Ad=function(t,e){for(var n,r=[],i=uc(t);!(n=i()).done;){var o=n.value;Sd(o,e)&&r.push(o)}return r},Od=function(){var t=gc(vc().mark((function t(e){var n,r,i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(document.styleSheets).map((function(t){return kd(t,e)})),t.next=3,Promise.all(n);case 3:return r=t.sent,i=[],r.forEach((function(t){return i.push.apply(i,t)})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ld=function(){var t=gc(vc().mark((function t(e,n){var r,i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Od(n);case 2:if(r=t.sent,(i=Ad(r,e)).length){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",i.map((function(t){var e=t.parentStyleSheet.href&&new URL(t.parentStyleSheet.href),n=e?e.origin+yd(e)+"/":"",r=t.style.getPropertyValue("src").match(/url\("?(.*?)"?\)/)[1],i=Array.from(t.style).filter((function(t){return"src"!=t})).reduce((function(e,n){return e+=n+":"+$d(t,n)+";"}),"");return[/^http/.test(r)?r:n+r,i]})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Md=new Map,Rd=new Map,Pd=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c,u,s,l,d,f,h;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Md.get(e)){t.next=2;break}return t.abrupt("return");case 2:if(r=Rd.get(e)){t.next=26;break}return t.next=6,Ld(e,n);case 6:if((i=t.sent).length){t.next=10;break}return Md.set(e,!0),t.abrupt("return");case 10:o=[],a=uc(i);case 12:if((c=a()).done){t.next=24;break}return u=c.value,s=u[0],l=u[1],t.next=16,fetch(s).then((function(t){return t.blob()}));case 16:return d=t.sent,p=d.type,f=!p||/woff2/.test(p)?"woff2":/woff/.test(p)?"woff":/ttf|truetype/.test(p)?"truetype":/otf|opentype/.test(p)?"opentype":/svg/.test(p)?"svg":"woff2",t.next=20,id(d);case 20:h=t.sent,o.push("@font-face { src:url("+h+") format('"+f+"');"+l+";font-display:block; }");case 22:t.next=12;break;case 24:r=o.join(""),Rd.set(e,r);case 26:return t.abrupt("return",r);case 27:case"end":return t.stop()}var p}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Id=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w,x,_,C,E,k,$;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),e.length){t.next=3;break}return t.abrupt("return");case 3:return r=n.imageWidth,i=void 0===r?300:r,o=n.imageHeight,a=void 0===o?150:o,c=n.paddingLeft,u=void 0===c?ud:c,s=n.paddingRight,l=void 0===s?ud:s,d=n.fontFamily,f=n.fontSize,h=n.pixelRatio,p=void 0===h?1:h,v=n.willRequest,m=1,g="",f>1e3&&cd()&&(g="transform-origin:0 0;transform:scale("+(m=f/1e3)+")"),y=p/m,b=(i+u+l)*p,w=a*p,x=sd(Object.assign({},n,{fontSize:f}),y),_=ld(e,n,y),t.next=14,Pd(d,v);case 14:return C=t.sent,E=e.replace(/%/g,"%25").replace(/#/g,"%23").replace(/&nbsp;/g,""),k=E.replace(/<br>|\n/g,"<br/>"),$='<svg xmlns="http://www.w3.org/2000/svg" width="'+b+'" height="'+w+'" viewBox="0 0 '+b+" "+w+'"><foreignObject x="0" y="0" width="'+b+'" height="'+w+'"><div xmlns="http://www.w3.org/1999/xhtml">'+(C?"<style>"+C+"</style>":"")+'<pre contenteditable="true" spellcheck="false" style="position:absolute;padding-right:'+l*y+"px;padding-left:"+u*y+"px;"+x+";"+_+";"+g+'">'+k+"</pre></div></foreignObject></svg>",t.abrupt("return",rd($,{safariCacheKey:d}));case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Td=function(t){var e=Object.assign({},t),n=Gc(e);return n},Dd=function(t){return Lu(t.x1,t.y1)},Bd=function(t){return Lu(t.x2,t.y2)},jd=function(t){return Kl(t,"text")},Nd=function(t){return jd(t)&&!(Wd(t)||Kl(t,"width"))},Fd=function(t){return jd(t)&&(Wd(t)||Kl(t,"width"))},zd=function(t){return!jd(t)&&Kd(t)},Zd=function(t){return Kl(t,"rx")},Hd=function(t){return Kl(t,"x1")},Vd=function(t){return Kl(t,"points")},Ud=function(t){return!Kl(t,"opacity")||t.opacity>0},Gd=function(t){return Kl(t,"width")&&Kl(t,"height")},Wd=function(t){return(Kl(t,"x")||Kl(t,"left"))&&Kl(t,"right")||(Kl(t,"y")||Kl(t,"top"))&&Kl(t,"bottom")},Kd=function(t){return Gd(t)||Wd(t)},Xd=function(t){return delete t.left,delete t.right,delete t.top,delete t.bottom,t},Yd=function(t){return delete t.rotation,t},qd=function(t){return t.strokeWidth=t.strokeWidth||1,t.strokeColor=t.strokeColor||[0,0,0],t},Jd=function(t){return t.backgroundColor=t.backgroundColor?t.backgroundColor:t.strokeWidth||t.backgroundImage?void 0:[0,0,0],t},Qd=function(t){var e=t.text;e=(e=e.replace(/&(#[0-9]+|[a-z]+);/gi,(function(t,e){return"___"+e+"___"}))).replace(/&/,"&amp;"),t.text=e.replace(/___(#[0-9]+|[a-z]+)___/gi,(function(t,e){return"&"+e+";"}))},tf=function(t){return t.fontSize=t.fontSize||"4%",t.fontFamily=t.fontFamily||"sans-serif",t.fontWeight=t.fontWeight||"normal",t.fontStyle=t.fontStyle||"normal",t.fontVariant=t.fontVariant||"normal",t.lineHeight=t.lineHeight||"120%",t.color=t.color||[0,0,0],t.format="html"===t.format?"html":"text","html"===t.format?Qd(t):function(t){Qd(t);var e=t.text;e=(e=e.replace(/</g,"&gt;")).replace(/>/g,"&lt;"),t.text=e}(t),Nd(t)?ef(t):nf(t)},ef=function(t){return!1!==t.disableNewline&&(delete t.textAlign,t.text=t.text.replace(/\n/g," ")),Xd(t)},nf=function(t){return t.textAlign=t.textAlign||"left",t},rf=function(t){return function(t){Wc(t.id)||(t.id=Qc()),Kl(t,"rotation")||(t.rotation=0),Kl(t,"opacity")||(t.opacity=1),Kl(t,"disableErase")||(t.disableErase=!0)}(t),jd(t)?tf(t):zd(t)?function(t){t.cornerRadius=t.cornerRadius||0,t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],Jd(t)}(t):Vd(t)?function(t){qd(t),Yd(t),Kl(t,"pathClose")||(t.disableResize=!0,Kl(t,"disableMove")||(t.disableMove=!0)),Xd(t)}(t):Hd(t)?function(t){qd(t),t.lineStart=t.lineStart||void 0,t.lineEnd=t.lineEnd||void 0,Yd(t),Xd(t)}(t):Zd(t)&&function(t){t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],Jd(t)}(t),t},of=new RegExp(/^x|left|right|^width|rx|fontSize|cornerRadius|strokeWidth/,"i"),af=new RegExp(/^y|top|bottom|^height|ry/,"i"),cf=function(t,e,n){var r=n.width,i=n.height;if(Array.isArray(e))return e.map((function(t){return Vc(t)&&uf(t,{width:r,height:i}),t}));if("string"!=typeof e)return e;if(!e.endsWith("%"))return e;var o=parseFloat(e)/100;return of.test(t)?Su(r*o,6):af.test(t)?Su(i*o,6):e},uf=function(t,e){Object.entries(t).map((function(n){var r=n[0],i=n[1];t[r]=cf(r,i,e)}));var n=t.lineHeight;Wc(n)&&(t.lineHeight=Math.round(t.fontSize*(parseFloat(n)/100)))},sf=function(t,e){return uf(t,e),ff(t,e),t},lf=function(t,e){var n=t.filter((function(t){return t.x<0||t.y<0||t.x1<0||t.y1<0})).reduce((function(t,e){var n=function(t){var e=ms(),n=t.strokeWidth||0;if(zd(t))e.x=t.x-.5*n,e.y=t.y-.5*n,e.width=t.width+n,e.height=t.height+n;else if(Hd(t)){var r=t.x1,i=t.y1,o=t.x2,a=t.y2,c=Math.abs(Math.min(r,o)),u=Math.abs(Math.max(r,o)),s=Math.abs(Math.min(i,a)),l=Math.abs(Math.min(i,a));e.x=c+.5*n,e.y=u+.5*n,e.width=u-c+n,e.height=l-s+n}else Zd(t)&&(e.x=t.x-t.rx+.5*n,e.y=t.y-t.ry+.5*n,e.width=2*t.rx+n,e.height=2*t.ry+n);return e&&Kl(t,"rotation")&&Rs(e,t.rotation),Bs(e)}(e),r=n[0],i=n[1],o=n[2],a=n[3];return t.top=Math.min(r,t.top),t.left=Math.min(a,t.left),t.bottom=Math.max(o,t.bottom),t.right=Math.max(i,t.right),t}),{top:0,right:0,bottom:0,left:0});return n.right>0&&(n.right-=e.width),n.bottom>0&&(n.bottom-=e.height),n},df=function(t,e,n){var r=Td(t);sf(r,e);var i=n(r);return Array.isArray(i)?i:[i]},ff=function(t,e){if(Kl(t,"left")&&(t.x=t.left),Kl(t,"right")&&!Wc(t.right)){var n=e.width-t.right;Kl(t,"left")?(t.x=t.left,t.width=Math.max(0,n-t.left)):Kl(t,"width")&&(t.x=n-t.width)}if(Kl(t,"top")&&(t.y=t.top),Kl(t,"bottom")&&!Wc(t.bottom)){var r=e.height-t.bottom;Kl(t,"top")?(t.y=t.top,t.height=Math.max(0,r-t.top)):Kl(t,"height")&&(t.y=r-t.height)}return t},hf=function(t,e){return Vd(t)&&t.points.filter((function(t){return Wl(t.x)})).forEach((function(t){t.x*=e,t.y*=e})),Hd(t)&&Wl(t.x1)&&(t.x1*=e,t.y1*=e,t.x2*=e,t.y2*=e),Wl(t.x)&&Wl(t.y)&&(t.x*=e,t.y*=e),Wl(t.width)&&Wl(t.height)&&(t.width*=e,t.height*=e),Wl(t.rx)&&Wl(t.ry)&&(t.rx*=e,t.ry*=e),function(t){return Wl(t.strokeWidth)&&t.strokeWidth>0}(t)&&(t.strokeWidth*=e),jd(t)&&(t._scale=e,Wl(t.fontSize)&&(t.fontSize*=e),Wl(t.lineHeight)&&(t.lineHeight*=e),Wl(t.width)&&!Wl(t.height)&&(t.width*=e)),Kl(t,"cornerRadius")&&Wl(t.cornerRadius)&&(t.cornerRadius*=e),t},pf=function(t){if(zd(t))return Lu(t.x+.5*t.width,t.y+.5*t.height);if(Zd(t))return Lu(t.x,t.y);if(t.text){if(Fd(t)){var e=t.height||gd(t.text,t).height;return Lu(t.x+.5*t.width,t.y+.5*e)}var n=gd(t.text,t);return Lu(t.x+.5*n.width,t.y+.5*n.height)}return Vd(t)?Ku(t.points):Hd(t)?Ku([Dd(t),Bd(t)]):void 0},vf=function(t){return/canvas/i.test(t.nodeName)},mf=function(t,e){return void 0===e&&(e=void 0),new Promise((function(n,r){var i=t,o=!1,a=function(){o||(o=!0,Kc(e)&&Promise.resolve().then((function(){return e(rs(i.naturalWidth,i.naturalHeight))})))};if(i.src||(i=new Image,Wc(t)&&new URL(t,location.href).origin!==location.origin&&(i.crossOrigin="anonymous"),i.src=Wc(t)?t:URL.createObjectURL(t)),i.complete)return a(),n(i);Kc(e)&&al(i).then(a).catch(r),i.onload=function(){a(),n(i)},i.onerror=function(){return r(new Error("Failed to load image"))}}))},gf=new Map([]),yf=function(t,e){return void 0===e&&(e={}),new Promise((function(n,r){var i=e,o=i.onMetadata,a=void 0===o?Ec:o,c=i.onLoad,u=void 0===c?n:c,s=i.onError,l=void 0===s?r:s,d=i.onComplete,f=void 0===d?Ec:d,h=gf.get(t);if(h||(h={loading:!1,complete:!1,error:!1,image:void 0,size:void 0,bus:od()},gf.set(t,h)),h.bus.sub("meta",a),h.bus.sub("load",u),h.bus.sub("error",l),h.bus.sub("complete",f),vf(t)){var p=t,v=p.cloneNode();h.complete=!0,h.image=v,h.size=ns(p)}if(h.complete)return h.bus.pub("meta",{size:h.size}),h.error?h.bus.pub("error",h.error):h.bus.pub("load",h.image),h.bus.pub("complete"),void(h.bus=od());h.loading||(h.loading=!0,mf(t,(function(t){h.size=t,h.bus.pub("meta",{size:t})})).then((function(t){h.image=t,h.bus.pub("load",t)})).catch((function(t){h.error=t,h.bus.pub("error",t)})).finally((function(){h.complete=!0,h.loading=!1,h.bus.pub("complete"),h.bus=od()})))}))},bf=function(t,e,n,r){return t.drawImage(e,n.x,n.x,n.width,n.height,r.x,r.y,r.width,r.height)},wf=function(){var t=gc(vc().mark((function t(e,n,r,i,o){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=bf),e.save(),e.clip(),t.next=5,o(e,n,r,i);case 5:e.restore();case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),xf=function(t,e,n,r,i){var o=vs(t);if(r){var a=Ns(bs(r),Su);return a.x*=n.width,a.width*=n.width,a.y*=n.height,a.height*=n.height,{srcRect:a,destRect:o}}var c=xs(0,0,n.width,n.height);if("contain"===e){var u=Ds(t,Os(c));o.width=u.width,o.height=u.height,i?(o.x+=i.x,o.y+=i.y):(o.x+=u.x,o.y+=u.y)}else if("cover"===e){var s=Ts(o,c.width/c.height);o.width=s.width,o.height=s.height,i?(o.x+=i.x,o.y+=i.y):(o.x+=s.x,o.y+=s.y)}else e?(o.width=e.width,o.height=e.height,i&&(o.x+=i.x,o.y+=i.y)):i&&(o.width=n.width,o.height=n.height,o.x+=i.x,o.y+=i.y);return{srcRect:c,destRect:o}},_f=function(t,e){return e.cornerRadius>0?function(t,e,n,r,i,o){r<2*o&&(o=r/2),i<2*o&&(o=i/2),t.beginPath(),t.moveTo(e+o,n),t.arcTo(e+r,n,e+r,n+i,o),t.arcTo(e+r,n+i,e,n+i,o),t.arcTo(e,n+i,e,n,o),t.arcTo(e,n,e+r,n,o),t.closePath()}(t,e.x,e.y,e.width,e.height,e.cornerRadius):t.rect(e.x,e.y,e.width,e.height),t},Cf=function(t,e){return e.backgroundColor&&t.fill(),t},Ef=function(t,e){return e.strokeWidth&&t.stroke(),t},kf=function(){var t=gc(vc().mark((function t(e,n,r){var i,o,a,c,u;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r={}),i=r.drawImage,e.lineWidth=n.strokeWidth?n.strokeWidth:1,e.strokeStyle=n.strokeColor?ql(n.strokeColor):"none",e.fillStyle=n.backgroundColor?ql(n.backgroundColor):"none",e.globalAlpha=n.opacity,!n.backgroundImage){t.next=21;break}if(!vf(n.backgroundImage)){t.next=11;break}o=n.backgroundImage,t.next=14;break;case 11:return t.next=13,yf(n.backgroundImage);case 13:o=t.sent;case 14:return _f(e,n),Cf(e,n),a=xf(n,n.backgroundSize,ns(o),n.backgroundCorners,n.backgroundPosition),c=a.srcRect,u=a.destRect,t.next=19,wf(e,o,c,u,i);case 19:return Ef(e,n),t.abrupt("return",[]);case 21:return _f(e,n),Cf(e,n),Ef(e,n),t.abrupt("return",[]);case 25:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),$f=function(){var t=gc(vc().mark((function t(e,n,r){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),t.abrupt("return",new Promise(function(){var t=gc(vc().mark((function t(i,o){var a,c,u,s,l,d;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.drawImage,e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?ql(n.strokeColor):"none",e.fillStyle=n.backgroundColor?ql(n.backgroundColor):"none",e.globalAlpha=n.opacity,e.ellipse(n.x,n.y,n.rx,n.ry,0,0,2*Math.PI),n.backgroundColor&&e.fill(),!n.backgroundImage){t.next=25;break}return t.prev=8,t.next=11,yf(n.backgroundImage);case 11:c=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),o(t.t0);case 17:return u=xs(n.x-n.rx,n.y-n.ry,2*n.rx,2*n.ry),s=xf(u,n.backgroundSize,ns(c),n.backgroundCorners,n.backgroundPosition),l=s.srcRect,d=s.destRect,t.next=21,wf(e,c,l,d,a);case 21:n.strokeWidth&&e.stroke(),i([]),t.next=27;break;case 25:n.strokeWidth&&e.stroke(),i([]);case 27:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(e,n){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Sf=function(){var t=gc(vc().mark((function t(e,n,r){var i,o,a,c;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.width&&n.height?Qu(n):gd(n.text,n),o={x:n.x,y:n.y,width:i.width,height:i.height},kf(e,Object.assign({},n,o,{options:r})),n.text.length){t.next=5;break}return t.abrupt("return",[]);case 5:return a=r.willRequest,t.next=8,Id(n.text,Object.assign({},n,o,{imageWidth:o.width,imageHeight:o.height,willRequest:a}));case 8:return c=t.sent,e.drawImage(c,n.x-ud,n.y,c.width,c.height),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Af=function(){var t=gc(vc().mark((function t(e,n){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=gc(vc().mark((function t(r){var i,o;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?ql(n.strokeColor):"none",e.globalAlpha=n.opacity,i=Dd(n),o=Bd(n),e.moveTo(i.x,i.y),e.lineTo(o.x,o.y),n.strokeWidth&&e.stroke(),r([]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Of=function(){var t=gc(vc().mark((function t(e,n){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?ql(n.strokeColor):"none",e.fillStyle=n.backgroundColor?ql(n.backgroundColor):"none",e.globalAlpha=n.opacity;var i=n.points;n.pathClose&&e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var o=i.length,a=1;a<o;a++)e.lineTo(i[a].x,i[a].y);n.pathClose&&e.closePath(),n.strokeWidth&&e.stroke(),n.backgroundColor&&e.fill(),t([])})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Lf=function(t,e,n,r){return e||n?(t.translate(r.x,r.y),t.scale(e?-1:1,n?-1:1),t.translate(-r.x,-r.y),t):t},Mf=function(){var t=gc(vc().mark((function t(e,n,r){var i,o,a,c;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=pf(n),Pl(e,n.rotation,i),Lf(e,n.flipX,n.flipY,i),zd(n)?o=kf:Zd(n)?o=$f:Hd(n)?o=Af:Vd(n)?o=Of:jd(n)&&(o=Sf),!o){t.next=14;break}return t.next=7,o(e,n,r);case 7:if((a=t.sent).length){t.next=10;break}return t.abrupt("return",[]);case 10:return t.next=12,Rf(e,a,r);case 12:return c=t.sent,t.abrupt("return",[n].concat(c));case 14:return t.abrupt("return",[]);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Rf=function(){var t=gc(vc().mark((function t(e,n,r){var i,o,a,c;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],o=uc(n);case 2:if((a=o()).done){t.next=15;break}return c=a.value,e.save(),e.beginPath(),t.t0=[],t.t1=i,t.next=10,Mf(e,c,r);case 10:t.t2=t.sent,i=t.t0.concat.call(t.t0,t.t1,t.t2),e.restore();case 13:t.next=2;break;case 15:return t.abrupt("return",i);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Pf=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).shapes,o=void 0===i?[]:i,a=r.contextBounds,c=void 0===a?e:a,u=r.transform,s=void 0===u?Ec:u,l=r.drawImage,d=r.willRequest,f=r.canvasMemoryLimit,h=r.computeShape,p=void 0===h?hu:h,v=r.preprocessShape,m=void 0===v?hu:v,o.length){t.next=4;break}return t.abrupt("return",e);case 4:return(g=Pc("canvas")).width=c.width,g.height=c.height,(y=g.getContext("2d",{willReadFrequently:!0})).putImageData(e,c.x||0,c.y||0),b=o.map(Td).map(p).map(m).flat(),s(y),t.next=13,Rf(y,b,{drawImage:l,canvasMemoryLimit:f,willRequest:d});case 13:return w=y.getImageData(0,0,g.width,g.height),Dc(g),t.abrupt("return",w);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),If=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a,c,u,s,l,d,f,h;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).backgroundColor,o=r.backgroundImage,a=!(!i||i&&0===i[3]),o||a){t.next=5;break}return t.abrupt("return",e);case 5:if((c=Pc("canvas")).width=e.width,c.height=e.height,(u=c.getContext("2d",{willReadFrequently:!0})).putImageData(e,0,0),u.globalCompositeOperation="destination-over",a&&(u.fillStyle=ql(i),u.fillRect(0,0,c.width,c.height)),!o){t.next=22;break}if(!vf(o)){t.next=17;break}s=o,t.next=20;break;case 17:return t.next=19,yf(o);case 19:s=t.sent;case 20:l=xf({x:0,y:0,width:e.width,height:e.height},"cover",{width:s.width,height:s.height}),d=l.srcRect,f=l.destRect,u.drawImage(s,d.x,d.y,d.width,d.height,f.x,f.y,f.width,f.height);case 22:return h=u.getImageData(0,0,c.width,c.height),Dc(c),t.abrupt("return",h);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Tf=function(t){return t.length?t.reduce((function(t,e){return n=[].concat(t),r=e,(i=new Array(20))[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],i[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],i[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],i[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],i[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],i[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],i[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],i[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],i[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],i[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],i[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],i[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],i[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],i[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],i[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],i[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],i[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],i[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],i[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],i[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],i;var n,r,i}),t.shift()):[]},Df=function(t,e){var n,r,i=t.width*t.height,o=e.reduce((function(t,e){return e.width>t.width&&e.height>t.height&&(t.width=e.width,t.height=e.height),t}),{width:0,height:0}),a=o.width*o.height,c=Math.max(.5,.5+(1-a/i)/2);return n=c,void 0===(r=5)&&(r=2),Math.round(n*r)/r};function Bf(){}var jf=function(t){return t};function Nf(t,e){for(var n in e)t[n]=e[n];return t}function Ff(t){return t()}function zf(){return Object.create(null)}function Zf(t){t.forEach(Ff)}function Hf(t){return"function"==typeof t}function Vf(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function Uf(t){if(null==t)return Bf;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t.subscribe.apply(t,n);return i.unsubscribe?function(){return i.unsubscribe()}:i}function Gf(t){var e;return Uf(t,(function(t){return e=t}))(),e}function Wf(t,e,n){t.$$.on_destroy.push(Uf(e,n))}function Kf(t,e,n,r){if(t){var i=Xf(t,e,n,r);return t[0](i)}}function Xf(t,e,n,r){return t[1]&&r?Nf(n.ctx.slice(),t[1](r(e))):n.ctx}function Yf(t,e,n,r){if(t[2]&&r){var i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){for(var o=[],a=Math.max(e.dirty.length,i.length),c=0;c<a;c+=1)o[c]=e.dirty[c]|i[c];return o}return e.dirty|i}return e.dirty}function qf(t,e,n,r,i,o){if(i){var a=Xf(e,n,r,o);t.p(a,i)}}function Jf(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function Qf(t){var e={};for(var n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function th(t,e){var n={};for(var r in e=new Set(e),t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function eh(t,e,n){return t.set(n),e}function nh(t){return t&&Hf(t.destroy)?t.destroy:Bf}var rh="undefined"!=typeof window,ih=rh?function(){return window.performance.now()}:function(){return Date.now()},oh=rh?function(t){return requestAnimationFrame(t)}:Bf,ah=new Set;function ch(t){ah.forEach((function(e){e.c(t)||(ah.delete(e),e.f())})),0!==ah.size&&oh(ch)}function uh(t){var e;return 0===ah.size&&oh(ch),{promise:new Promise((function(n){ah.add(e={c:t,f:n})})),abort:function(){ah.delete(e)}}}function sh(t,e){t.appendChild(e)}function lh(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function dh(t){var e=ph("style");return function(t,e){sh(t.head||t,e),e.sheet}(lh(t),e),e.sheet}function fh(t,e,n){t.insertBefore(e,n||null)}function hh(t){t.parentNode.removeChild(t)}function ph(t){return document.createElement(t)}function vh(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function mh(t){return document.createTextNode(t)}function gh(){return mh(" ")}function yh(){return mh("")}function bh(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function wh(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function xh(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _h(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:xh(t,r,e[r])}function Ch(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Eh(t,e,n){var r=void 0===n?{}:n,i=r.bubbles,o=void 0!==i&&i,a=r.cancelable,c=void 0!==a&&a,u=document.createEvent("CustomEvent");return u.initCustomEvent(t,o,c,e),u}var kh=function(){function t(t){void 0===t&&(t=!1),this.is_svg=!1,this.is_svg=t,this.e=this.n=null}var e=t.prototype;return e.c=function(t){this.h(t)},e.m=function(t,e,n){void 0===n&&(n=null),this.e||(this.is_svg?this.e=vh(e.nodeName):this.e=ph(e.nodeName),this.t=e,this.c(t)),this.i(n)},e.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},e.i=function(t){for(var e=0;e<this.n.length;e+=1)fh(this.t,this.n[e],t)},e.p=function(t){this.d(),this.h(t),this.i(this.a)},e.d=function(){this.n.forEach(hh)},t}();function $h(t,e){return new t(e)}var Sh,Ah=new Map,Oh=0;function Lh(t,e,n,r,i,o,a,c){void 0===c&&(c=0);for(var u=16.666/r,s="{\n",l=0;l<=1;l+=u){var d=e+(n-e)*o(l);s+=100*l+"%{"+a(d,1-d)+"}\n"}var f=s+"100% {"+a(n,1-n)+"}\n}",h="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(f)+"_"+c,p=lh(t),v=Ah.get(p)||function(t,e){var n={stylesheet:dh(e),rules:{}};return Ah.set(t,n),n}(p,t),m=v.stylesheet,g=v.rules;g[h]||(g[h]=!0,m.insertRule("@keyframes "+h+" "+f,m.cssRules.length));var y=t.style.animation||"";return t.style.animation=(y?y+", ":"")+h+" "+r+"ms linear "+i+"ms 1 both",Oh+=1,h}function Mh(t,e){var n=(t.style.animation||"").split(", "),r=n.filter(e?function(t){return t.indexOf(e)<0}:function(t){return-1===t.indexOf("__svelte")}),i=n.length-r.length;i&&(t.style.animation=r.join(", "),(Oh-=i)||oh((function(){Oh||(Ah.forEach((function(t){var e=t.stylesheet.ownerNode;e&&hh(e)})),Ah.clear())})))}function Rh(t){Sh=t}function Ph(){if(!Sh)throw new Error("Function called outside component initialization");return Sh}function Ih(t){Ph().$$.on_mount.push(t)}function Th(t){Ph().$$.after_update.push(t)}function Dh(t){Ph().$$.on_destroy.push(t)}function Bh(){var t=Ph();return function(e,n,r){var i=(void 0===r?{}:r).cancelable,o=void 0!==i&&i,a=t.$$.callbacks[e];if(a){var c=Eh(e,n,{cancelable:o});return a.slice().forEach((function(e){e.call(t,c)})),!c.defaultPrevented}return!0}}function jh(t,e){return Ph().$$.context.set(t,e),e}function Nh(t){return Ph().$$.context.get(t)}function Fh(t,e){var n=this,r=t.$$.callbacks[e.type];r&&r.slice().forEach((function(t){return t.call(n,e)}))}var zh=[],Zh=[],Hh=[],Vh=[],Uh=Promise.resolve(),Gh=!1;function Wh(){Gh||(Gh=!0,Uh.then(tp))}function Kh(){return Wh(),Uh}function Xh(t){Hh.push(t)}function Yh(t){Vh.push(t)}var qh,Jh=new Set,Qh=0;function tp(){var t=Sh;do{for(;Qh<zh.length;){var e=zh[Qh];Qh++,Rh(e),ep(e.$$)}for(Rh(null),zh.length=0,Qh=0;Zh.length;)Zh.pop()();for(var n=0;n<Hh.length;n+=1){var r=Hh[n];Jh.has(r)||(Jh.add(r),r())}Hh.length=0}while(zh.length);for(;Vh.length;)Vh.pop()();Gh=!1,Jh.clear(),Rh(t)}function ep(t){if(null!==t.fragment){t.update(),Zf(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Xh)}}function np(t,e,n){t.dispatchEvent(Eh((e?"intro":"outro")+n))}var rp,ip=new Set;function op(){rp={r:0,c:[],p:rp}}function ap(){rp.r||Zf(rp.c),rp=rp.p}function cp(t,e){t&&t.i&&(ip.delete(t),t.i(e))}function up(t,e,n,r){if(t&&t.o){if(ip.has(t))return;ip.add(t),rp.c.push((function(){ip.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}var sp={duration:0};function lp(t,e,n,r){var i=e(t,n),o=r?0:1,a=null,c=null,u=null;function s(){u&&Mh(t,u)}function l(t,e){var n=t.b-o;return e*=Math.abs(n),{a:o,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function d(e){var n=i||sp,r=n.delay,d=void 0===r?0:r,f=n.duration,h=void 0===f?300:f,p=n.easing,v=void 0===p?jf:p,m=n.tick,g=void 0===m?Bf:m,y=n.css,b={start:ih()+d,b:e};e||(b.group=rp,rp.r+=1),a||c?c=b:(y&&(s(),u=Lh(t,o,e,h,d,v,y)),e&&g(0,1),a=l(b,h),Xh((function(){return np(t,e,"start")})),uh((function(e){if(c&&e>c.start&&(a=l(c,h),c=null,np(t,a.b,"start"),y&&(s(),u=Lh(t,o,a.b,a.duration,0,v,i.css))),a)if(e>=a.end)g(o=a.b,1-o),np(t,a.b,"end"),c||(a.b?s():--a.group.r||Zf(a.group.c)),a=null;else if(e>=a.start){var n=e-a.start;o=a.a+a.d*v(n/a.duration),g(o,1-o)}return!(!a&&!c)})))}return{run:function(t){Hf(i)?(qh||(qh=Promise.resolve()).then((function(){qh=null})),qh).then((function(){i=i(),d(t)})):d(t)},end:function(){s(),a=c=null}}}var dp="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function fp(t,e){t.d(1),e.delete(t.key)}function hp(t,e){up(t,1,1,(function(){e.delete(t.key)}))}function pp(t,e,n,r,i,o,a,c,u,s,l,d){for(var f=t.length,h=o.length,p=f,v={};p--;)v[t[p].key]=p;var m=[],g=new Map,y=new Map;for(p=h;p--;){var b=d(i,o,p),w=n(b),x=a.get(w);x?r&&x.p(b,e):(x=s(w,b)).c(),g.set(w,m[p]=x),w in v&&y.set(w,Math.abs(p-v[w]))}var _=new Set,C=new Set;function E(t){cp(t,1),t.m(c,l),a.set(t.key,t),l=t.first,h--}for(;f&&h;){var k=m[h-1],$=t[f-1],S=k.key,A=$.key;k===$?(l=k.first,f--,h--):g.has(A)?!a.has(S)||_.has(S)?E(k):C.has(A)?f--:y.get(S)>y.get(A)?(C.add(S),E(k)):(_.add(A),f--):(u($,a),f--)}for(;f--;){var O=t[f];g.has(O.key)||u(O,a)}for(;h;)E(m[h-1]);return m}function vp(t,e){for(var n={},r={},i={$$scope:1},o=t.length;o--;){var a=t[o],c=e[o];if(c){for(var u in a)u in c||(r[u]=1);for(var s in c)i[s]||(n[s]=c[s],i[s]=1);t[o]=c}else for(var l in a)i[l]=1}for(var d in r)d in n||(n[d]=void 0);return n}function mp(t){return"object"==typeof t&&null!==t?t:{}}function gp(t,e,n){var r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function yp(t){t&&t.c()}function bp(t,e,n,r){var i=t.$$,o=i.fragment,a=i.after_update;o&&o.m(e,n),r||Xh((function(){var e,n=t.$$.on_mount.map(Ff).filter(Hf);t.$$.on_destroy?(e=t.$$.on_destroy).push.apply(e,n):Zf(n);t.$$.on_mount=[]})),a.forEach(Xh)}function wp(t,e){var n=t.$$;null!==n.fragment&&(Zf(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xp(t,e,n,r,i,o,a,c){void 0===c&&(c=[-1]);var u=Sh;Rh(t);var s=t.$$={fragment:null,ctx:[],props:o,update:Bf,not_equal:i,bound:zf(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:zf(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};a&&a(s.root);var l,d=!1;if(s.ctx=n?n(t,e.props||{},(function(e,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return s.ctx&&i(s.ctx[e],s.ctx[e]=r)&&(!s.skip_bound&&s.bound[e]&&s.bound[e](r),d&&function(t,e){-1===t.$$.dirty[0]&&(zh.push(t),Wh(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],s.update(),d=!0,Zf(s.before_update),s.fragment=!!r&&r(s.ctx),e.target){if(e.hydrate){var f=(l=e.target,Array.from(l.childNodes));s.fragment&&s.fragment.l(f),f.forEach(hh)}else s.fragment&&s.fragment.c();e.intro&&cp(t.$$.fragment),bp(t,e.target,e.anchor,e.customElement),tp()}Rh(u)}var _p=function(){function t(){}var e=t.prototype;return e.$destroy=function(){wp(this,1),this.$destroy=Bf},e.$on=function(t,e){if(!Hf(e))return Bf;var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},e.$set=function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)},t}(),Cp=[];function Ep(t,e){return{subscribe:kp(t,e).subscribe}}function kp(t,e){var n;void 0===e&&(e=Bf);var r=new Set;function i(e){if(Vf(t,e)&&(t=e,n)){for(var i,o=!Cp.length,a=uc(r);!(i=a()).done;){var c=i.value;c[1](),Cp.push(c,t)}if(o){for(var u=0;u<Cp.length;u+=2)Cp[u][0](Cp[u+1]);Cp.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,a){void 0===a&&(a=Bf);var c=[o,a];return r.add(c),1===r.size&&(n=e(i)||Bf),o(t),function(){r.delete(c),0===r.size&&(n(),n=null)}}}}function $p(t,e,n){var r=!Array.isArray(t),i=r?[t]:t,o=e.length<2;return Ep(n,(function(t){var n=!1,a=[],c=0,u=Bf,s=function(){if(!c){u();var n=e(r?a[0]:a,t);o?t(n):u=Hf(n)?n:Bf}},l=i.map((function(t,e){return Uf(t,(function(t){a[e]=t,c&=~(1<<e),n&&s()}),(function(){c|=1<<e}))}));return n=!0,s(),function(){Zf(l),u()}}))}var Sp=function(t){return t.reduce((function(t,e){return Object.assign(t,e)}),{})},Ap=function(t){return{updateValue:t}},Op=function(t){return{defaultValue:t}},Lp=function(t){return{store:t}},Mp=function(t){return{store:function(e,n){return $p.apply(void 0,t(n))}}},Rp=function(t){return{store:function(e,n){var r,i=t(n),o=i[0],a=i[1],c=i[2],u=void 0===c?function(){return!1}:c,s=!0;return $p(o,(function(t,e){a(t,(function(t){!s&&u(r,t)||(r=t,s=!1,e(t))}))}))}}},Pp=function(t){return{store:function(e,n){var r=t(n),i=r[0],o=r[1],a=void 0===o?{}:o,c=r[2],u=void 0===c?void 0:c,s=[],l={},d=function(t){return i(t,l)},f=function(t){(s.length||t.length)&&(s=t,h())},h=function(){var t=s.map(d);u&&t.sort(u),s=[].concat(t),m(t)};Object.entries(a).map((function(t){var e=t[0];return t[1].subscribe((function(t){l[e]=t,t&&h()}))}));var p=kp(e||[]),v=p.subscribe,m=p.set;return{set:f,update:function(t){return f(t(s))},subscribe:v}}}},Ip=function(t){var e={},n={};return t.forEach((function(t){var r=t[0],i=t.slice(1),o=Sp(i),a=e[r]=function(t,e,n){var r,i=n.store,o=void 0===i?function(t){return kp(t)}:i,a=n.defaultValue,c=void 0===a?Ec:a,u=n.updateValue,s=void 0===u?void 0:u,l=o(c(),e,t),d=l.subscribe,f=l.update,h=void 0===f?Ec:f,p=function(t){var e=!0;r&&r(),r=d((function(n){if(e)return e=!1;t(n),r(),r=void 0}))},v=s?s(t):hu;return l.set=function(t){return h((function(e){return v(t,e,p)}))},l.defaultValue=c,l}(n,e,o),c={get:function(){return Gf(a)},set:a.set};Object.defineProperty(n,r,c)})),{stores:e,accessors:n}},Tp=[["src",Lp((function(){var t,e=kp(),n=e.subscribe,r=e.set,i=function(e){t!==e&&r(t=e)};return{set:i,subscribe:n,update:function(e){return i(e(t))}}}))],["imageReader"],["imageWriter"],["imageScrambler"],["imageRedactionRendering",Op((function(){return"pixelated"}))],["images",Op((function(){return[]}))],["shapePreprocessor"],["willRequestResource"],["willRequest"]],Dp=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Bp=function(t,e){Object.keys(e).forEach((function(n){var r=Kc(e[n])?{value:e[n],writable:!1}:e[n];Object.defineProperty(t,n,r)}))},jp=function(t,e){var n,r,i,o,a,c=e.length;for(n=0;n<c;n++)if(r=e[n],i=e[n+1>c-1?0:n+1],o=r.x-t.x,a=r.y-t.y,(o-(i.x-t.x))*a-(a-(i.y-t.y))*o<-1e-5)return!1;return!0},Np=1e4,Fp=function(t,e){var n=Gs(e),r=Ou();js(t).forEach((function(t){Nu(t,r),jp(t,e)||n.forEach((function(e){var n=Math.atan2(e.start.y-e.end.y,e.start.x-e.end.x),i=Math.sin(Math.PI-n)*Np,o=Math.cos(Math.PI-n)*Np,a=Lu(t.x+i,t.y+o),c=fs(ds(e),Np),u=Hs(ls(t,a),c);u&&Nu(r,Fu(Ru(u),t))}))}));var i=vs(t);return Nu(i,r),!!js(i).every((function(t){return jp(t,e)}))&&(Ms(t,i),!0)},zp=function(t,e){var n=js(t),r=Ws(e,5),i=_s(t),o=[];n.forEach((function(t){var e=function(t,e){if(0===e)return t;var n=Lu(t.start.x-t.end.x,t.start.y-t.end.y),r=Du(n),i=Zu(r,e);return t.end.x+=i.x,t.end.y+=i.y,t}(ls(Ru(i),Ru(t)),1e6),n=!1;r.map(ds).forEach((function(t){var r=Hs(e,t);r&&!n&&(o.push(r),n=!0)}))}));var a=Gu(o[0],o[2])<Gu(o[1],o[3])?[o[0],o[2]]:[o[1],o[3]],c=bs(a);return c.width<t.width&&(Ms(t,c),!0)},Zp=function(t,e,n){void 0===n&&(n={x:0,y:0});var r=gs(t),i=_s(r),o=Fs(r,n,i).map((function(t){return Iu(t,e,i)})),a=bs(o);return o.map((function(t){return Fu(t,a)}))},Hp=function(t,e,n){var r,i;if(void 0===e&&(e=0),void 0===n&&(n=Os(t)),0!==e){var o,a=Math.atan2(1,n),c=Math.sign(e)*e,u=c%Math.PI,s=c%pu;o=u>vu&&u<pu+vu?s>vu?c:pu-s:s>vu?pu-s:c;var l=Math.min(Math.abs(t.height/Math.sin(a+o)),Math.abs(t.width/Math.cos(a-o)));i=(r=Math.cos(a)*l)/n}else(i=(r=t.width)/n)>t.height&&(r=(i=t.height)*n);return rs(r,i)},Vp=function(t,e,n,r,i,o,a,c){var u=Ju(a),s=Ju(c),l=Su(Math.max(e.width/s.width,e.height/s.height)),d=Su(Math.min(e.width/u.width,e.height/u.height)),f=vs(e);if(d<1||l>1){var h=_s(t),p=_s(e),v=d<1?d:l,m=(p.x+h.x)/2,g=(p.y+h.y)/2,y=f.width/v,b=f.height/v;Ls(f,m-.5*y,g-.5*b,y,b)}return o?(function(t,e,n,r,i){if(void 0===n&&(n=0),void 0===r&&(r=Ou()),Wl(n)&&0!==n||r.x||r.y){var o=Os(t),a=Zp(e,n,r),c=Hp(e,n,o);if(!(t.width<c.width&&t.height<c.height)){var u=.5*t.width-.5*c.width,s=.5*t.height-.5*c.height;t.width>c.width&&(t.width=c.width,t.x+=u),t.height>c.height&&(t.height=c.height,t.y+=s)}Fp(t,a),zp(t,a)&&Fp(t,a)}else{var l=Os(t);t.width=Math.min(t.width,e.width),t.height=Math.min(t.height,e.height),t.x=Math.max(t.x,0),t.x+t.width>e.width&&(t.x-=t.x+t.width-e.width),t.y=Math.max(t.y,0),t.y+t.height>e.height&&(t.y-=t.y+t.height-e.height);var d=_s(t),f=Ds(t,l);f.width=Math.max(i.width,f.width),f.height=Math.max(i.height,f.height),f.x=d.x-.5*f.width,f.y=d.y-.5*f.height,Ms(t,f)}}(f,n,r,i,u),{crop:f}):{crop:f}},Up=function(t,e,n){var r=gs(t),i=_s(r),o=Rs(r,n,i),a=_s(zs(bs(o))),c=_s(e),u=Iu(c,-n,a),s=Fu(u,a),l=ju(Nu(i,s),Su);return xs(l.x-.5*e.width,l.y-.5*e.height,e.width,e.height)},Gp=function(t,e,n){return Math.max(e,Math.min(t,n))},Wp=["cropLimitToImage","cropMinSize","cropMaxSize","cropAspectRatio","flipX","flipY","rotation","crop","colorMatrix","convolutionMatrix","gamma","vignette","redaction","annotation","decoration","frame","backgroundColor","backgroundImage","targetSize","metadata","trim","volume"],Kp=function t(e){return Xl(e)?e.map(t):_l(e)||qs(e)?e:Vc(e)?Object.assign({},e):e},Xp=function(t){return t.map((function(t){return Object.entries(t).reduce((function(t,e){var n=e[0],r=e[1];return n.startsWith("_")||(t[n]=r),t}),{})}))},Yp=function(t,e){return t===e},qp=function(t,e,n){if(void 0===n&&(n=Yp),t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0},Jp=function(t,e,n){var r=ju(_s(t),(function(t){return Su(t,8)})),i=gs(e),o=_s(i),a=Rs(i,n,o),c=ju(as(bs(a)),(function(t){return Su(t,8)})),u=Math.abs(c.x-r.x),s=Math.abs(c.y-r.y);return u<1&&s<1},Qp=function(t,e,n,r,i){if(!i)return[-1/0,1/0];var o,a=Math.max(n.width/r.width,n.height/r.height),c=rs(r.width*a,r.height*a),u=(o=c,Math.sqrt(o.width*o.width+o.height*o.height));if(u<Math.min(t.width,t.height))return[-1/0,1/0];var s=e?t.height:t.width,l=e?t.width:t.height,d=Math.acos(c.height/u),f=d-Math.acos(l/u),h=Math.asin(s/u)-d;if(Number.isNaN(f)&&Number.isNaN(h))return[-1/0,1/0];var p=Number.isNaN(f)?h:Number.isNaN(h)?f:Math.min(f,h);return[-p,p]},tv=function(t,e){var n=e.context,r=e.props;return t._isFormatted||((t=rf(t))._isFormatted=!0,Object.assign(t,r)),t._isDraft||!Wd(t)||t._context&&As(n,t._context)||(ff(t,n),t._context=Object.assign({},n)),t},ev=[["file"],["size"],["loadState"],["processState"],["aspectRatio",Mp((function(t){return[t.size,function(t){return t?Os(t):void 0}]}))],["perspectiveX",Op((function(){return 0}))],["perspectiveY",Op((function(){return 0}))],["perspective",Mp((function(t){return[[t.perspectiveX,t.perspectiveY],function(t){return{x:t[0],y:t[1]}}]}))],["rotation",Op((function(){return 0})),Ap((function(t){return function(e,n,r){if(e===n)return e;var i=t.loadState,o=t.size,a=t.rotationRange,c=t.cropMinSize,u=t.cropMaxSize,s=t.crop,l=t.perspective,d=t.cropLimitToImage,f=t.cropOrigin;if(!s||!i||!i.beforeComplete)return e;var h,p,v=d&&(p=Hp(o,n,Os(h=s)),is(ss(p,Math.round),ss(Ju(h),Math.round))),m=d&&Jp(s,o,n),g=function(t,e,n,r,i,o,a,c,u,s){var l=Ju(u),d=Ju(s);a&&(d.width=Math.min(s.width,i.width),d.height=Math.min(s.height,i.height));var f=!1,h=Math.sign(e)*Math.round(Math.abs(e)/pu)*pu,p=Gp(e,h+n[0],h+n[1]);return function e(n,u){var s=Up(i,r,n),h=gs(i),p=_s(h),v=Fs(h,o,p),m=Fu(Ru(p),Zs(v)),g=Iu(_s(s),u,p),y=Fu(Ru(p),g);v.forEach((function(t){return Iu(t,u,p)}));var b=bs(v),w=Zs(v),x=Nu(Fu(Fu(w,y),b),m),_=xs(x.x-.5*s.width,x.y-.5*s.height,s.width,s.height);if(c&&Es(_,c.width/_.width),a){var C=Zp(i,u,o);zp(_,C)}var E=Su(Math.min(_.width/l.width,_.height/l.height),8),k=Su(Math.max(_.width/d.width,_.height/d.height),8);return(E<1||k>1)&&Su(Math.abs(u-n))===Su(Math.PI/2)&&!f?(f=!0,e(t,t+Math.sign(u-n)*Math.PI)):{rotation:u,crop:Ns(_,(function(t){return Su(t,8)}))}}(t,p)}(n,e,a,s,o,l,d,f,c,u);if(v&&m){var y=Hp(o,e,Os(g.crop));g.crop.x+=.5*g.crop.width,g.crop.y+=.5*g.crop.height,g.crop.x-=.5*y.width,g.crop.y-=.5*y.height,g.crop.width=y.width,g.crop.height=y.height}return r((function(){t.crop=Ns(g.crop,(function(t){return Su(t,8)}))})),g.rotation}}))],["flipX",Op((function(){return!1}))],["flipY",Op((function(){return!1}))],["flip",Mp((function(t){return[[t.flipX,t.flipY],function(t){return{x:t[0],y:t[1]}}]}))],["isRotatedSideways",Rp((function(t){return[[t.rotation],function(t,e){var n=t[0];return e(mu(n))},function(t,e){return t!==e}]}))],["crop",Ap((function(t){return function(e,n){void 0===n&&(n=e);var r=t.loadState,i=t.size,o=t.cropMinSize,a=t.cropMaxSize,c=t.cropLimitToImage,u=t.cropAspectRatio,s=t.rotation,l=t.perspective;if(!e&&!n||!r||!r.beforeComplete)return e;e||(e=gs(Hp(i,s,u||Os(i))));var d=Vp(n,e,i,s,l,c,o,a),f=Ns(d.crop,(function(t){return Su(t,8)}));return As(n,f)?n:f}}))],["cropAspectRatio",Ap((function(t){return function(e,n){var r=t.loadState,i=t.crop,o=t.size,a=t.rotation,c=t.cropLimitToImage,u=function(t){if(t){if(/:/.test(t)){var e=t.split(":");return e[0]/e[1]}return parseFloat(t)}}(e);if(u){if(!i||!r||!r.beforeComplete)return u;var s=n?Math.abs(e-n):1;if(Jp(i,o,a)&&c&&s>=.1){var l=function(t,e){var n=t.width,r=t.height;return mu(e)&&(t.width=r,t.height=n),t}(Ju(o),a);t.crop=Ns(Ds(gs(l),e),Su)}else{var d={width:i.height*u,height:i.height},f=.5*(i.width-d.width),h=.5*(i.height-d.height);t.crop=Ns(xs(i.x+f,i.y+h,d.width,d.height),Su)}return u}}}))],["cropOrigin"],["cropMinSize",Op((function(){return{width:1,height:1}}))],["cropMaxSize",Op((function(){return{width:32768,height:32768}}))],["cropLimitToImage",Op((function(){return!0})),Ap((function(t){return function(e,n,r){return t.crop?(!n&&e&&r((function(){return t.crop=vs(t.crop)})),e):e}}))],["cropSize",Rp((function(t){return[[t.crop],function(t,e){var n=t[0];n&&e(rs(n.width,n.height))},function(t,e){return is(t,e)}]}))],["cropRectAspectRatio",Mp((function(t){return[[t.cropSize],function(t,e){var n=t[0];n&&e(Su(Os(n),5))}]}))],["cropRange",Rp((function(t){return[[t.size,t.rotation,t.cropRectAspectRatio,t.cropMinSize,t.cropMaxSize,t.cropLimitToImage],function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5];if(n){var u=function(t,e,n,r,i,o){var a=Ju(r),c=Ju(i);return o?[a,ss(Hp(t,e,n),Math.round)]:[a,c]}(n,r,i,o,a,c);e(u)}},function(t,e){return qp(t,e)}]}))],["rotationRange",Rp((function(t){return[[t.size,t.isRotatedSideways,t.cropMinSize,t.cropSize,t.cropLimitToImage],function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4];n&&o&&e(Qp(n,r,i,o,a))},function(t,e){return qp(t,e)}]}))],["backgroundColor",Ap((function(){return function(t){return function(t,e){return void 0===t&&(t=[0,0,0,0]),void 0===e&&(e=1),4===t.length?t:[].concat(t,[e])}(t)}}))],["backgroundImage"],["targetSize"],["colorMatrix"],["convolutionMatrix"],["gamma"],["noise"],["vignette"],["duration"],["trim"],["volume"],["redaction",Pp((function(t){var e=t.size;return[tv,{context:e}]}))],["annotation",Pp((function(t){var e=t.size;return[tv,{context:e}]}))],["decoration",Pp((function(t){var e=t.crop;return[tv,{context:e}]}))],["frame",Ap((function(){return function(t){if(t){var e={frameStyle:void 0,x:0,y:0,width:"100%",height:"100%",disableStyle:["backgroundColor","strokeColor","strokeWidth"]};return Wc(t)?e.frameStyle=t:Object.assign(e,t),e}}}))],["metadata"],["state",Lp((function(t,e,n){var r=Wp.map((function(t){return e[t]})),i=!1,o=kp({}),a=$p([].concat(r,[o]),(function(t,e){if(!i){var n=Wp.reduce((function(e,n,r){return e[n]=Kp(t[r]),e}),{});n.crop&&Ns(n.crop,Math.round),n.redaction=n.redaction&&Xp(n.redaction),n.annotation=n.annotation&&Xp(n.annotation),n.decoration=n.decoration&&Xp(n.decoration),e(n)}})).subscribe,c=function(t){t&&(i=!0,n.cropOrigin=void 0,Wp.filter((function(e){return Kl(t,e)})).forEach((function(e){var r=t[e];n[e]=null===r?void 0:Kp(r)})),i=!1,o.set({}))};return{set:c,update:function(t){return c(t(null))},subscribe:a}}))]],nv=function(){var t=gc(vc().mark((function t(e,n,r,i){var o,a,c,u,s,l,d,f,h,p;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r={}),o=i.ontaskstart,a=i.ontaskprogress,c=i.ontaskend,u=i.token,s=!1,l={cancel:Ec},u.cancel=function(){s=!0,l.cancel()},d=vc().mark((function t(){var n,i,u,d,f;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=p.value,i=n[0],u=n[1],!s){t.next=3;break}return t.abrupt("return",{v:void 0});case 3:return d=u[0],f=u[1],o(i,f),t.prev=5,t.next=8,d(e,Object.assign({},r,{taskCancelToken:l}),(function(t){return a(i,f,t)}));case 8:e=t.sent,t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(5),s=!0,t.t0;case 15:c(i,f);case 16:case"end":return t.stop()}}),t,null,[[5,11]])})),h=uc(n.entries());case 7:if((p=h()).done){t.next=14;break}return t.delegateYield(d(),"t0",9);case 9:if(!(f=t.t0)){t.next=12;break}return t.abrupt("return",f.v);case 12:t.next=7;break;case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),rv=["loadstart","loadabort","loaderror","loadprogress","load","processstart","processabort","processerror","processprogress","process"],iv=["flip","cropOrigin","isRotatedSideways","perspective","perspectiveX","perspectiveY","cropRange"],ov=ev.map((function(t){return t[0]})).filter((function(t){return!iv.includes(t)})),av=function(t){return"image"+Dp(t)},cv=function(t){return Wc(t)||Yl(t)||Ys(t)},uv=function(t){return Kl(t,"crop")},sv=function(){var t=Ip(Tp),e=t.stores,n=t.accessors,r=od(),i=r.sub,o=r.pub,a=function(){return n.images?n.images[0]:{}},c={},u={};ov.forEach((function(t){Object.defineProperty(n,av(t),{get:function(){var e=a();if(e)return e.accessors[t]},set:function(e){c[av(t)]=e,u[av(t)]=e;var n=a();n&&(n.accessors[t]=e)}})}));var s,l,d=function(){return n.images&&n.images[0]},f=e.src.subscribe((function(t){if(!t)return n.images=[];n.imageReader&&(n.images.length&&(c={}),p(t))})),h=e.imageReader.subscribe((function(t){t&&(n.images.length||n.src&&p(n.src))})),p=function(t){Promise.resolve().then((function(){return v(t,c)})).catch((function(){}))},v=function(t,e){return void 0===e&&(e={}),new Promise((function(r,i){var a=d(),l=!(!1===e.cropLimitToImage||!1===e.imageCropLimitToImage||!1===u.imageCropLmitedToImage),f=e.cropMinSize||e.imageCropMinSize||u.imageCropMinSize,h=l?f:a&&a.accessors.cropMinSize;a&&m(),a=function(t){var e=(void 0===t?{}:t).minSize,n=void 0===e?{width:1,height:1}:e,r=Ip(ev),i=r.stores,o=r.accessors,a=od(),c=a.pub,u=a.sub,s=function(t,e){var n=function(){return o[t]||{}},r=function(e){o[t]=Object.assign({},n(),e,{timeStamp:Date.now()})},i=function(){return n().error},a=function(t){i()||(r({error:t}),c(e+"error",Object.assign({},n())))};return{start:function(){c(e+"start")},onabort:function(){r({abort:!0}),c(e+"abort",Object.assign({},n()))},ontaskstart:function(t,o){i()||(r({index:t,task:o,taskProgress:void 0,taskLengthComputable:void 0}),c(e+"taskstart",Object.assign({},n())))},ontaskprogress:function(t,o,a){i()||(r({index:t,task:o,taskProgress:a.loaded/a.total,taskLengthComputable:a.lengthComputable}),c(e+"taskprogress",Object.assign({},n())),c(e+"progress",Object.assign({},n())))},ontaskend:function(t,o){i()||(r({index:t,task:o}),c(e+"taskend",Object.assign({},n())))},ontaskerror:function(t){a(t)},error:function(t){a(t)},beforeComplete:function(t){i()||(r({beforeComplete:!0}),c("before"+e,t))},complete:function(t){i()||(r({complete:!0}),c(e,t))}}};return Bp(o,{read:function(t,e,r){var i=e.reader;if(void 0===r&&(r={}),i){Object.assign(o,{file:void 0,size:void 0,loadState:void 0});var a={cancel:Ec},c=!1,u=s("loadState","load"),l=Object.assign({token:a},u),d={src:t,size:void 0,dest:void 0,duration:void 0};return Promise.resolve().then(gc(vc().mark((function t(){var e,s,f,h,p;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u.start(),!c){t.next=4;break}return t.abrupt("return",u.onabort());case 4:return t.next=6,nv(d,i,r,l);case 6:if(e=t.sent,!c){t.next=9;break}return t.abrupt("return",u.onabort());case 9:if(f=(s=e||{}).size,h=s.duration,p=s.dest,f&&f.width&&f.height){t.next=12;break}throw new bl("Image size missing","IMAGE_SIZE_MISSING",e);case 12:if(!(f.width<n.width||f.height<n.height)){t.next=14;break}throw new bl("Image too small","IMAGE_TOO_SMALL",Object.assign({},e,{minWidth:n.width,minHeight:n.height}));case 14:Object.assign(o,{file:p,size:f,duration:h}),u.beforeComplete(e),u.complete(e),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),u.error(t.t0);case 22:return t.prev=22,a=void 0,t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[0,19,22,25]])})))),function(){c=!0,a&&a.cancel(),u.onabort()}}},write:function(t,e){if(o.loadState.complete){o.processState=void 0;var n=s("processState","process"),r={src:o.file,imageState:o.state,dest:void 0};if(Kc(t)&&(t=t(o.file,o.state)),!t)return n.start(),void n.complete(r);var i={cancel:Ec},a=!1,c=e,u=Object.assign({token:i},n);return Promise.resolve().then(gc(vc().mark((function e(){var o;return vc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.start(),!a){e.next=4;break}return e.abrupt("return",n.onabort());case 4:return e.next=6,nv(r,t,c,u);case 6:if(o=e.sent,!a){e.next=9;break}return e.abrupt("return",n.onabort());case 9:n.complete(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n.error(e.t0);case 15:return e.prev=15,i=void 0,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))),function(){a=!0,i&&i.cancel()}}},on:u}),{accessors:o,stores:i}}({minSize:h}),rv.map((function(t){return a.accessors.on(t,(e=t,function(t){return o(e,t)}));var e}));var p=function(){c={},v.forEach((function(t){return t()}))},v=[];v.push(a.accessors.on("loaderror",(function(t){p(),i(t)}))),v.push(a.accessors.on("loadabort",(function(){p(),i({name:"AbortError"})}))),v.push(a.accessors.on("load",(function(t){s=void 0,p(),r(t)}))),v.push(a.accessors.on("beforeload",(function(){return function(t,e){if(uv(e))n.imageState=e;else{if(!e.imageCrop){var r=t.accessors.size,i=e.imageRotation||0,o=cs(Ju(r),i),a=gs(o);a.width=Su(Math.abs(a.width),6),a.height=Su(Math.abs(a.height),6);var c,u=e.imageCropAspectRatio||(e.imageCropLimitToImage?Os(r):Os(a));e.imageCropLimitToImage?c=Ds(a,u):((c=Ts(a,u)).x=(r.width-c.width)/2,c.y=(r.height-c.height)/2),e.imageCrop=c}var s=["imageCropLimitToImage","imageCrop","imageCropAspectRatio","imageRotation"];s.filter((function(t){return Kl(e,t)})).forEach((function(t){n[t]=e[t],delete e[t]}));var l=Object.keys(e).filter((function(t){return!s.includes(t)})).reduce((function(t,n){return t[n]=e[n],t}),{});Object.assign(n,l)}}(a,e)}))),n.images=[a],e.imageReader&&(n.imageReader=e.imageReader),e.imageWriter&&(n.imageWriter=e.imageWriter),s=a.accessors.read(t,{reader:n.imageReader},{willRequest:n.willRequest})}))},m=function(){var t=d();t&&(s&&s(),t.accessors.loadState=void 0,n.images=[])};return Object.defineProperty(n,"stores",{get:function(){return e}}),Bp(n,{on:i,loadImage:v,abortLoadImage:function(){s&&s(),n.images=[]},editImage:function(t,e){return new Promise((function(r,i){v(t,e).then((function(){var t=n.images[0],e=function(){o(),a()},o=t.accessors.on("processerror",(function(t){e(),i(t)})),a=t.accessors.on("process",(function(t){e(),r(t)}))})).catch(i)}))},removeImage:m,processImage:function(t,e){return new Promise((function(r,i){try{var o=[],a=function(){l=void 0,o.forEach((function(t){return t()}))};gc(vc().mark((function c(){var u;return vc().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!cv(t)){c.next=11;break}return c.prev=1,c.next=4,v(t,e);case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(1),i(c.t0);case 9:c.next=12;break;case 11:t&&(uv(t)?n.imageState=t:Object.assign(n,t));case 12:if(u=d()){c.next=15;break}return c.abrupt("return",i("no image"));case 15:o.push(u.accessors.on("processerror",(function(t){a(),i(t)}))),o.push(u.accessors.on("processabort",(function(){a(),i({name:"AbortError"})}))),o.push(u.accessors.on("process",(function(t){a(),r(t)}))),l=u.accessors.write(n.imageWriter,{redactionRenderStyle:n.imageRedactionRendering,shapePreprocessor:n.shapePreprocessor||hu,imageScrambler:n.imageScrambler,willRequest:n.willRequest,willRequestResource:n.willRequestResource});case 19:case"end":return c.stop()}}),c,null,[[1,6]])})))()}catch(t){i(t)}}))},abortProcessImage:function(){var t=d();t&&(l&&l(),t.accessors.processState=void 0)},destroy:function(){f&&f(),h&&h()}}),n},lv=function(t,e){var n=sv().processImage;return n(t,e)},dv=function(){if(!ol())return 1/0;var t=/15_/.test(navigator.userAgent);return Al()?t?14745600:16777216:t?16777216:1/0},fv=function(t,e){return Object.keys(t).filter((function(t){return!e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),{})},hv=function(t){return new Promise((function(e){if(t.duration===1/0)return t.ontimeupdate=function(){t.ontimeupdate=void 0,e(t)},void(t.currentTime=Number.MAX_SAFE_INTEGER);e(t)}))},pv=function(t){return new Promise((function(e,n){var r=function(){hv(t).then((function(){e(t.duration)}))};if(t.readyState>=1)return r();t.onloadedmetadata=r,t.onerror=function(){return n(t.error)}}))},vv=function(t){var e=void 0===t?{}:t,n=e.imageDataResizer,r=e.canvasMemoryLimit;return function(){var t=gc(vc().mark((function t(e,i,o,a){var c,u;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.width=Math.max(o.width,1),o.height=Math.max(o.height,1),a.width=Math.max(a.width,1),a.height=Math.max(a.height,1),t.next=6,lv(i,{imageReader:Nv(),imageWriter:zv({format:"canvas",targetSize:Object.assign({},a,{upscale:!0}),imageDataResizer:n,canvasMemoryLimit:r}),imageCrop:o});case 6:c=t.sent,u=c.dest,e.drawImage(u,a.x,a.y,a.width,a.height),Dc(u);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},mv=function(t,e,n){return void 0===e&&(e=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}),function(){var r=gc(vc().mark((function r(i,o,a){var c,u;return vc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(pl(0,!1)),c=!1,r.next=4,t.apply(void 0,e(i,o,(function(t){c=!0,a(t)})));case 4:return u=r.sent,n&&n(i,u),c||a(pl(1,!1)),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})));return function(t,e,n){return r.apply(this,arguments)}}()},gv=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"dest":n,i=e.destProp,o=void 0===i?"dest":i;return[mv(function(){var t=gc(vc().mark((function t(e){var n,r,i;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/octet-stream/.test(e.type)){t.next=9;break}return n="image",t.next=5,sl(e);case 5:return r=t.sent,/video/i.test(r.nodeName)&&(n="video"),i={type:n+"/unknown"},t.abrupt("return",qs(e)?new File([e],e.name,Object.assign({},i,{lastModified:e.lastModified})):new Blob([e],i));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return[t[r]]}),(function(t,e){return t[o]=e})),"any-to-file"]},yv=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"size":i;return[mv(dl,(function(t){return[t[r]]}),(function(t,e){return t[o]=e})),"read-image-size"]},bv=function(){var t=gc(vc().mark((function t(e){var n;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sl(e);case 2:if(n=t.sent,!ll(n)){t.next=7;break}return t.next=6,pv(n);case 6:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),wv=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"duration":i;return[mv(bv,(function(t){return[t[r]]}),(function(t,e){return t[o]=e})),"read-media-duration"]},xv=function(t){var e=void 0===t?{}:t,n=e.srcSize,r=void 0===n?"size":n,i=e.srcOrientation,o=void 0===i?"orientation":i,a=e.destSize,c=void 0===a?"size":a;return[mv(Ol,(function(t){return[t[r],t[o]]}),(function(t,e){return t[c]=e})),"image-size-match-orientation"]},_v=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"head":i;return[mv((function(t,e){return Ll(t)?Sc(t,e):void 0}),(function(t){return[t[r],[0,262144],onprogress]}),(function(t,e){return t[o]=e})),"read-image-head"]},Cv=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"head":n,i=e.destProp,o=void 0===i?"orientation":i;return[mv(xc,(function(t){return[t[r],274]}),(function(t,e){return void 0===e&&(e=1),t[o]=e})),"read-exif-orientation-tag"]},Ev=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"imageData":i,a=e.canvasMemoryLimit,c=void 0===a?void 0:a;return[mv(nu,(function(t){return[t[r],c]}),(function(t,e){return t[o]=e})),"blob-to-image-data"]},kv=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i;return[mv(If,(function(t){return[t[r],{backgroundColor:t[o].backgroundColor,backgroundImage:t[o].backgroundImage}]}),(function(t,e){return t.imageData=e})),"image-data-fill"]},$v=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destScalar,c=void 0===a?"scalar":a;return[mv(Dl,(function(t){var e=t[c],n=t[o].crop;return n&&1!==e&&(n=Es(vs(n),e,Ou())),[t[r],{crop:n,rotation:t[o].rotation,flipX:t[o].flipX,flipY:t[o].flipY}]}),(function(t,e){return t.imageData=e})),"image-data-crop"]},Sv=function(t){var e=t.targetSize,n=void 0===e?{width:void 0,height:void 0,fit:void 0,upscale:void 0}:e,r=t.imageDataResizer,i=void 0===r?void 0:r,o=t.srcProp,a=void 0===o?"imageData":o,c=t.srcImageState,u=void 0===c?"imageState":c,s=t.destImageScaledSize,l=void 0===s?"imageScaledSize":s;return[mv(Nl,(function(t){var e,r=Math.min(n.width||Number.MAX_SAFE_INTEGER,t[u].targetSize&&t[u].targetSize.width||Number.MAX_SAFE_INTEGER),o=Math.min(n.height||Number.MAX_SAFE_INTEGER,t[u].targetSize&&t[u].targetSize.height||Number.MAX_SAFE_INTEGER);return[t[a],{width:r,height:o,fit:n.fit||"contain",upscale:(e=t[u],!!(e.targetSize&&e.targetSize.width||e.targetSize&&e.targetSize.height)||(n.upscale||!1))},i]}),(function(t,e){is(t.imageData,e)||(t[l]=Qu(e)),t.imageData=e})),"image-data-resize"]},Av=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,c=void 0===a?"imageData":a;return[mv(Gl,(function(t){var e=t[o].colorMatrix,n=e&&Object.keys(e).map((function(t){return e[t]})).filter(Boolean);return[t[r],{colorMatrix:n&&Tf(n),convolutionMatrix:t[o].convolutionMatrix,gamma:t[o].gamma,noise:t[o].noise,vignette:t[o].vignette}]}),(function(t,e){return t[c]=e})),"image-data-filter"]},Ov=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,c=void 0===a?"imageData":a,u=e.destScalar,s=void 0===u?"scalar":u;return[mv(function(){var t=gc(vc().mark((function t(e,n,r,i,o,a){var c,u,s,l,d,f,h;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",e);case 2:return t.prev=2,u={dataSizeScalar:Df(e,i)},r&&r[3]>0&&(u.backgroundColor=[].concat(r)),t.next=7,n(e,u);case 7:c=t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:return(s=Pc("canvas")).width=e.width,s.height=e.height,(l=s.getContext("2d",{willReadFrequently:!0})).putImageData(e,0,0),"auto"===a&&(d=Math.sqrt(e.width*e.height),l.filter="blur("+Math.round(d/100)+"px)"),f=new Path2D,i.forEach((function(t){var e=xs(t.x,t.y,t.width,t.height);Ss(e,o);var n=Rs(vs(e),t.rotation),r=new Path2D;n.forEach((function(t,e){if(0===e)return r.moveTo(t.x,t.y);r.lineTo(t.x,t.y)})),f.addPath(r)})),l.clip(f,"nonzero"),l.imageSmoothingEnabled=!1,l.drawImage(c,0,0,s.width,s.height),Dc(c),h=l.getImageData(0,0,s.width,s.height),Dc(s),t.abrupt("return",h);case 27:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n,r,i,o,a){return t.apply(this,arguments)}}(),(function(t,e){var n=e.imageScrambler,i=e.redactionRenderStyle;return[t[r],n,t[o].backgroundColor,t[o].redaction,t[s],i]}),(function(t,e){return t[c]=e})),"image-data-redact"]},Lv=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcSize,o=void 0===i?"size":i,a=e.srcImageState,c=void 0===a?"imageState":a,u=e.destImageData,s=void 0===u?"imageData":u,l=e.destImageScaledSize,d=void 0===l?"imageScaledSize":l,f=e.destScalar,h=void 0===f?"scalar":f,p=e.imageDataResizer,v=void 0===p?void 0:p,m=e.canvasMemoryLimit,g=void 0===m?void 0:m;return[mv(Pf,(function(t,e){var n=e.shapePreprocessor,i=e.willRequestResource,a=e.willRequest,u=t[c].annotation;if(!u.length)return[t[r]];var s=t[h],l=t[c].crop,f=t[o],p=s,m=t[d];m&&(p=Math.min(m.width/l.width,m.height/l.height));var y={width:f.width/s,height:f.height/s};return[t[r],{shapes:u,computeShape:function(t){return t=sf(t,y),t=fv(t,["left","right","top","bottom"]),t=hf(t,p)},transform:function(e){var n=t[o],r=t[c],i=r.rotation,a=void 0===i?0:i,u=r.flipX,s=r.flipY,l=r.cropLimitToImage,f=t[h],p=t[c].crop,v=void 0===p?gs(n):p,m=t[d],g=m?Math.min(m.width/v.width,m.height/v.height):1,y={width:n.width/f*g,height:n.height/f*g},b=Xs(y,a),w=b.width,x=b.height,_=.5*y.width-.5*w,C=.5*y.height-.5*x,E=as(y);e.translate(-_,-C),e.translate(-v.x*g,-v.y*g),e.translate(E.x,E.y),e.rotate(a),e.translate(-E.x,-E.y),e.scale(u?-1:1,s?-1:1),e.translate(u?-y.width:0,s?-y.height:0),l&&(e.rect(0,0,y.width,y.height),e.clip())},drawImage:vv({imageDataResizer:v,canvasMemoryLimit:g}),preprocessShape:function(e){return n(e,Object.assign({isPreview:!1},t[c]))},canvasMemoryLimit:g,willRequest:a||i}]}),(function(t,e){return t[s]=e})),"image-data-annotate"]},Mv=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,c=void 0===a?"imageData":a,u=e.destImageScaledSize,s=void 0===u?"imageScaledSize":u,l=e.imageDataResizer,d=void 0===l?void 0:l,f=e.canvasMemoryLimit,h=void 0===f?void 0:f,p=e.destScalar,v=void 0===p?"scalar":p;return[mv(Pf,(function(t,e){var n=e.shapePreprocessor,i=e.willRequestResource,a=e.willRequest,c=t[o].decoration;if(!c.length)return[t[r]];var u=t[v],l=t[o].crop,f=t[s];if(f){var p=Math.min(f.width/l.width,f.height/l.height);u=p}return[t[r],{shapes:c,drawImage:vv({imageDataResizer:d,canvasMemoryLimit:h}),computeShape:function(t){return t=sf(t,l),t=fv(t,["left","right","top","bottom"]),t=hf(t,u)},preprocessShape:function(e){return n(e,Object.assign({isPreview:!1},t[o]))},canvasMemoryLimit:h,willRequest:a||i}]}),(function(t,e){return t[c]=e})),"image-data-decorate"]},Rv=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,c=void 0===a?"imageData":a,u=e.destImageScaledSize,s=void 0===u?"imageScaledSize":u,l=e.imageDataResizer,d=void 0===l?void 0:l,f=e.canvasMemoryLimit,h=void 0===f?void 0:f,p=e.destScalar,v=void 0===p?"scalar":p;return[mv(Pf,(function(t,e){var n=e.shapePreprocessor,i=e.willRequestResource,a=e.willRequest,c=t[o].frame;if(!c)return[t[r]];var u=t[v],l=t[o].crop;l&&1!==u&&(l=Es(vs(l),u,Ou()));var f=Object.assign({},l),p=lf(df(c,f,n),f);f.x=Math.abs(p.left),f.y=Math.abs(p.top),f.width+=Math.abs(p.left)+Math.abs(p.right),f.height+=Math.abs(p.top)+Math.abs(p.bottom);var m=t[s],g=m?Math.min(m.width/l.width,m.height/l.height):1;return Ss(f,g),f.x=Math.floor(f.x),f.y=Math.floor(f.y),f.width=Math.floor(f.width),f.height=Math.floor(f.height),[t[r],{shapes:[c],contextBounds:f,computeShape:function(e){return sf(e,t[r])},transform:function(t){t.translate(f.x,f.y)},drawImage:vv({imageDataResizer:d,canvasMemoryLimit:h}),preprocessShape:function(e){return n(e,Object.assign({isPreview:!1},t[o]))},canvasMemoryLimit:h,willRequest:a||i}]}),(function(t,e){return t[c]=e})),"image-data-frame"]},Pv=function(t){var e=void 0===t?{}:t,n=e.mimeType,r=void 0===n?void 0:n,i=e.quality,o=void 0===i?void 0:i,a=e.srcImageData,c=void 0===a?"imageData":a,u=e.srcFile,s=void 0===u?"src":u,l=e.destBlob,d=void 0===l?"blob":l;return[mv(iu,(function(t){return[t[c],r||lu(t[s].name)||t[s].type,o]}),(function(t,e){return t[d]=e})),"image-data-to-blob"]},Iv=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcOrientation,o=void 0===i?"orientation":i,a=e.destCanvas,c=void 0===a?"dest":a;return[mv(Zc,(function(t){return[t[r],t[o]]}),(function(t,e){return t[c]=e})),"image-data-to-canvas"]},Tv=function(){var t=gc(vc().mark((function t(e,n){var r,i,o,a;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ll(e)&&n){t.next=2;break}return t.abrupt("return",e);case 2:if(r=new DataView(n),(i=wc(r))&&i.exif){t.next=6;break}return t.abrupt("return",e);case 6:return o=["exif","mpf","xmp"].reduce((function(t,e){return i[e]?Math.max(t,i[e].offset+i[e].size):t}),0),a=n.slice(0,o+2),t.abrupt("return",ou(e,a,[20]));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Dv=function(t){var e=void 0===t?{}:t,n=e.renameFile,r=void 0===n?void 0:n,i=e.srcBlob,o=void 0===i?"blob":i,a=e.srcFile,c=void 0===a?"src":a,u=e.destFile,s=void 0===u?"dest":u,l=e.defaultFilename,d=void 0===l?void 0:l;return[mv(du,(function(t){return[t[o],r?r(t[c]):t[c].name||d+"."+cu(t[o].type)]}),(function(t,e){return t[s]=e})),"blob-to-file"]},Bv=function(t){var e=t.url,n=void 0===e?"./":e,r=t.dataset,i=void 0===r?function(t){return[["dest",t.dest,t.dest.name],["imageState",t.imageState]]}:r,o=t.destStore,a=void 0===o?"store":o,c=t.credentials,u=t.headers,s=void 0===u?{}:u;return[mv(function(){var t=gc(vc().mark((function t(e,r){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rl(n,e,{onprogress:r,beforeSend:function(t){return wl(t,{headers:s,credentials:c})}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t,e,n){return[i(t),n]}),(function(t,e){return t[a]=e})),"store"]},jv=function(t){return[mv((function(e){return t&&t.length?(Object.keys(e).forEach((function(n){t.includes(n)||delete e[n]})),e):e})),"prop-filter"]},Nv=function(t){void 0===t&&(t={});var e,n,r,i,o,a,c,u,s=t,l=s.orientImage,d=void 0===l||l,f=s.outputProps,h=void 0===f?["src","dest","size","duration"]:f,p=s.preprocessImageFile,v=s.request,m=void 0===v?{}:v;return[(e={willRequest:function(){return m}},n=void 0===e?{}:e,r=n.willRequest,i=void 0===r?void 0:r,o=n.srcProp,a=void 0===o?"src":o,c=n.destProp,u=void 0===c?"dest":c,[mv(El,(function(t,e,n){return[t[a],n,Object.assign({},e,{willRequest:i})]}),(function(t,e){return t[u]=e})),"any-to-file"]),gv(),p&&[mv(p,(function(t,e,n){return[t.dest,e,n]}),(function(t,e){return t.dest=e})),"preprocess-image-file"],yv({srcProp:"dest"}),wv({srcProp:"dest"}),d&&_v({srcProp:"dest"}),d&&Cv(),d&&xv(),jv(h)].filter(Boolean)},Fv=function(t){return t&&(Wc(t)?Bv({url:t}):Kc(t)?[t,"store"]:Bv(t))},zv=function(t){return void 0===t&&(t={}),function(e,n,r){if(void 0===r&&(r={}),ul(e)){var i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w,x,_,C,E,k,$,S,A=Object.assign({},t,r),O=A.canvasMemoryLimit,L=void 0===O?dv():O,M=A.orientImage,R=void 0===M||M,P=A.copyImageHead,I=void 0===P||P,T=A.mimeType,D=void 0===T?void 0:T,B=A.quality,j=void 0===B?void 0:B,N=A.renameFile,F=void 0===N?void 0:N,z=A.targetSize,Z=void 0===z?void 0:z,H=A.imageDataResizer,V=void 0===H?void 0:H,U=A.store,G=void 0===U?void 0:U,W=A.format,K=void 0===W?"file":W,X=A.outputProps,Y=void 0===X?["src","dest","imageState","store"]:X,q=A.preprocessImageSource,J=void 0===q?void 0:q,Q=A.preprocessImageState,tt=void 0===Q?void 0:Q,et=A.postprocessImageData,nt=void 0===et?void 0:et,rt=A.postprocessImageBlob,it=void 0===rt?void 0:rt;return[J&&[mv(J,(function(t,e,n){return[t.src,e,n,t.imageState]}),(function(t,e){return t.src=e})),"preprocess-image-source"],(R||I)&&_v(),R&&Cv(),yv(),tt&&[mv(tt,(function(t,e,n,r){return[t.imageState,e,n,{size:t.size,orientation:t.orientation}]}),(function(t,e){return t.imageState=e})),"preprocess-image-state"],Ev({canvasMemoryLimit:L}),R&&xv(),R&&(C=void 0===_?{}:_,E=C.srcImageData,k=void 0===E?"imageData":E,$=C.srcOrientation,S=void 0===$?"orientation":$,[mv(Hc,(function(t){return[t[k],t[S]]}),(function(t,e){return t.imageData=e})),"image-data-match-orientation"]),(d=void 0===l?{}:l,f=d.srcImageSize,h=void 0===f?"size":f,p=d.srcCanvasSize,v=void 0===p?"imageData":p,m=d.srcImageState,g=void 0===m?"imageState":m,y=d.destImageSize,b=void 0===y?"size":y,w=d.destScalar,x=void 0===w?"scalar":w,[mv((function(t,e){return[Math.min(e.width/t.width,e.height/t.height),Qu(e)]}),(function(t){return[t[h],t[v],t[g]]}),(function(t,e){var n=e[0],r=e[1];t[x]=n,t[b]=r})),"calculate-canvas-scalar"]),Ov(),$v(),Sv({imageDataResizer:V,targetSize:Z}),Av(),kv(),Lv({imageDataResizer:V,canvasMemoryLimit:L}),Mv({imageDataResizer:V,canvasMemoryLimit:L}),Rv({imageDataResizer:V,canvasMemoryLimit:L}),nt&&[mv(nt,(function(t,e,n){return[t.imageData,e,n]}),(function(t,e){return t.imageData=e})),"postprocess-image-data"],"file"===K?Pv({mimeType:D,quality:j}):"canvas"===K?Iv():[function(t){return t.dest=t.imageData,t}],"file"===K&&R&&(u=(void 0===c?{}:c).srcProp,s=void 0===u?"head":u,[mv(xc,(function(t){return[t[s],274,1]})),"clear-exif-orientation-tag"]),"file"===K&&I&&(void 0===i&&(i="blob"),void 0===o&&(o="head"),void 0===a&&(a="blob"),[mv(Tv,(function(t){return[t[i],t[o]]}),(function(t,e){return t[a]=e})),"blob-write-image-head"]),it&&[mv(it,(function(t,e,n){return[{blob:t.blob,imageData:t.imageData,src:t.src},e,n]}),(function(t,e){return t.blob=e})),"postprocess-image-file"],"file"===K&&Dv({defaultFilename:"image",renameFile:F}),"file"===K?Fv(G):Kc(G)&&[G,"store"],jv(Y)].filter(Boolean)}}},Zv=function(t,e,n,r,i,o,a,c,u,s,l){if(t&&e&&n&&r&&c){c*=o;var d=zs(vs(e)),f=_s(d),h=_s(t),p=gs(n),v=_s(p),m=Up(n,r,u),g=_s(m),y=Fu(Ru(v),g),b=Fu(Ru(h),f);y.x+=b.x,y.y+=b.y;var w=Pu(Ru(y));w.x+=b.x,w.y+=b.y;var x=_s(Cs(Cs(vs(i),a),t)),_=Fu(x,h);return Nu(y,_),{origin:w,translation:y,rotation:{x:l?Math.PI:0,y:s?Math.PI:0,z:u},scale:c}}},Hv=null,Vv=function(){if(null===Hv)if("WebGL2RenderingContext"in window){var t;try{t=Pc("canvas"),Hv=!!t.getContext("webgl2")}catch(t){Hv=!1}t&&Dc(t),t=void 0}else Hv=!1;return Hv},Uv=function(t){return 0==(t&t-1)},Gv=function(t,e,n,r){return void 0===e&&(e={}),void 0===n&&(n=""),void 0===r&&(r=""),Object.keys(e).filter((function(t){return!Vc(e[t])})).reduce((function(t,i){return t.replace(new RegExp(n+i+r),e[i])}),t)},Wv={head:"#version 300 es\n\nin vec4 aPosition;uniform mat4 uMatrix;",text:"\nin vec2 aTexCoord;out vec2 vTexCoord;",matrix:"\ngl_Position=uMatrix*vec4(aPosition.x,aPosition.y,0,1);"},Kv={head:"#version 300 es\nprecision highp float;\n\nout vec4 fragColor;",mask:"\nuniform float uMaskFeather[8];uniform float uMaskBounds[4];uniform float uMaskOpacity;float mask(float x,float y,float bounds[4],float opacity){return 1.0-(1.0-(smoothstep(bounds[3],bounds[3]+1.0,x)*(1.0-smoothstep(bounds[1]-1.0,bounds[1],x))*(1.0-step(bounds[0],y))*step(bounds[2],y)))*(1.0-opacity);}",init:"\nfloat a=1.0;vec4 fillColor=uColor;vec4 textureColor=texture(uTexture,vTexCoord);textureColor*=(1.0-step(uRepeat.y,vTexCoord.y))*step(0.0,vTexCoord.y)*(1.0-step(uRepeat.x,vTexCoord.x))*step(0.0,vTexCoord.x);",colorize:"\nif(uTextureColor.a!=0.0&&textureColor.a>0.0){vec3 colorFlattened=textureColor.rgb/textureColor.a;if(colorFlattened.r>=.9999&&colorFlattened.g==0.0&&colorFlattened.b>=.9999){textureColor.rgb=uTextureColor.rgb*textureColor.a;}textureColor*=uTextureColor.a;}",maskapply:"\nfloat m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);",maskfeatherapply:"\nfloat leftFeatherOpacity=step(uMaskFeather[1],gl_FragCoord.x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],gl_FragCoord.x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],gl_FragCoord.x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],gl_FragCoord.x));a*=leftFeatherOpacity*rightFeatherOpacity;",edgeaa:"\nvec2 scaledPoint=vec2(vRectCoord.x*uSize.x,vRectCoord.y*uSize.y);a*=smoothstep(0.0,1.0,uSize.x-scaledPoint.x);a*=smoothstep(0.0,1.0,uSize.y-scaledPoint.y);a*=smoothstep(0.0,1.0,scaledPoint.x);a*=smoothstep(0.0,1.0,scaledPoint.y);",cornerradius:"\nvec2 s=(uSize-2.0)*.5;vec2 r=(vRectCoord*uSize)-1.0;vec2 p=r-s;float cornerRadius=uCornerRadius[0];bool left=r.x<s.x;bool top=r.y<s.y;if(!left&&top){cornerRadius=uCornerRadius[1];}if(!left&&!top){cornerRadius=uCornerRadius[3];}if(left&&!top){cornerRadius=uCornerRadius[2];}a*=1.0-clamp(length(max(abs(p)-(s-cornerRadius),0.0))-cornerRadius,0.0,1.0);",fragcolor:"\nif(m<=0.0)discard;fillColor.a*=a;fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);textureColor*=uTextureOpacity;textureColor.a*=a;textureColor.rgb*=m*a;textureColor.rgb+=(1.0-m)*(uCanvasColor.rgb*textureColor.a);fragColor=textureColor+(fillColor*(1.0-textureColor.a));"},Xv=function(t,e,n){var r=t.createShader(n),i=function(t,e,n){return e=Gv(e,n===t.VERTEX_SHADER?Wv:Kv,"##").trim(),Vv()?e:(e=(e=e.replace(/#version.+/gm,"").trim()).replace(/^\/\/\#/gm,"#"),n===t.VERTEX_SHADER&&(e=e.replace(/in /gm,"attribute ").replace(/out /g,"varying ")),n===t.FRAGMENT_SHADER&&(e=e.replace(/in /gm,"varying ").replace(/out.*?;/gm,"").replace(/texture\(/g,"texture2D(").replace(/fragColor/g,"gl_FragColor")),""+e)}(t,e,n);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS),r},Yv=function(t,e,n,r,i){var o=Xv(t,e,t.VERTEX_SHADER),a=Xv(t,n,t.FRAGMENT_SHADER),c=t.createProgram();t.attachShader(c,o),t.attachShader(c,a),t.linkProgram(c);var u={};return r.forEach((function(e){u[e]=t.getAttribLocation(c,e)})),i.forEach((function(e){u[e]=t.getUniformLocation(c,e)})),{program:c,locations:u,destroy:function(){t.detachShader(c,o),t.detachShader(c,a),t.deleteShader(o),t.deleteShader(a),t.deleteProgram(c)}}},qv=function(t){return"VIDEO"!==t.nodeName&&(!!Vv()||Uv(t.width)&&Uv(t.height))},Jv=function(t,e,n,r){return t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),function(t,e,n){t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,qv(e)?t.LINEAR_MIPMAP_LINEAR:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n.filterParam),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n.wrapParam),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,n.wrapParam),qv(e)&&t.generateMipmap(t.TEXTURE_2D)}(t,n,r),t.bindTexture(t.TEXTURE_2D,null),e},Qv=function(t,e){return void 0===e&&(e=1),t?[t[0],t[1],t[2],Wl(t[3])?e*t[3]:e]:[0,0,0,0]},tm=function(){var t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},em=function(t,e,n,r,i,o,a){var c=1/(e-n),u=1/(r-i),s=1/(o-a);t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+n)*c,t[13]=(i+r)*u,t[14]=(a+o)*s,t[15]=1},nm=function(t,e,n,r){t[12]=t[0]*e+t[4]*n+t[8]*r+t[12],t[13]=t[1]*e+t[5]*n+t[9]*r+t[13],t[14]=t[2]*e+t[6]*n+t[10]*r+t[14],t[15]=t[3]*e+t[7]*n+t[11]*r+t[15]},rm=function(t,e){t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,t[4]*=e,t[5]*=e,t[6]*=e,t[7]*=e,t[8]*=e,t[9]*=e,t[10]*=e,t[11]*=e},im=function(t,e){var n=Math.sin(e),r=Math.cos(e),i=t[4],o=t[5],a=t[6],c=t[7],u=t[8],s=t[9],l=t[10],d=t[11];t[4]=i*r+u*n,t[5]=o*r+s*n,t[6]=a*r+l*n,t[7]=c*r+d*n,t[8]=u*r-i*n,t[9]=s*r-o*n,t[10]=l*r-a*n,t[11]=d*r-c*n},om=function(t,e){var n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],c=t[3],u=t[8],s=t[9],l=t[10],d=t[11];t[0]=i*r-u*n,t[1]=o*r-s*n,t[2]=a*r-l*n,t[3]=c*r-d*n,t[8]=i*n+u*r,t[9]=o*n+s*r,t[10]=a*n+l*r,t[11]=c*n+d*r},am=function(t,e){var n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],c=t[3],u=t[4],s=t[5],l=t[6],d=t[7];t[0]=i*r+u*n,t[1]=o*r+s*n,t[2]=a*r+l*n,t[3]=c*r+d*n,t[4]=u*r-i*n,t[5]=s*r-o*n,t[6]=l*r-a*n,t[7]=d*r-c*n},cm=function(t){return t*Math.PI/180},um=function(t,e){return Vv()?t.getContext("webgl2",e):t.getContext("webgl",e)||t.getContext("experimental-webgl",e)},sm=function(t,e){var n=t.length;return e>=n?t[e%n]:e<0?t[e%n+n]:t[e]},lm=function(t,e,n,r){var i=Lu(n.x-e.x,n.y-e.y),o=Lu(r.x-n.x,r.y-n.y),a=Lu(e.x-r.x,e.y-r.y),c=Lu(t.x-e.x,t.y-e.y),u=Lu(t.x-n.x,t.y-n.y),s=Lu(t.x-r.x,t.y-r.y),l=Vu(i,c),d=Vu(o,u),f=Vu(a,s);return l<=0&&d<=0&&f<=0},dm=function(t){if(t.length<3)return[];if(function(t){for(var e=t.length,n=0;n<e;n++){var r=ls(t[n],sm(t,n+1));if(Us(r,t,{ignoreIdenticalLines:!0,breakOnIntersection:!0}))return!0}return!1}(t))return[];(function(t){var e,n,r,i=0,o=t.length;for(e=0;e<o;e++)n=t[e],i+=((r=t[(e+1)%o]).x-n.x)*((r.y+n.y)/2);return i})(t)<0&&t.reverse();for(var e,n,r,i,o,a,c,u,s,l,d,f,h=t.length,p=[].concat(Array(h).keys()),v=[],m=128;p.length>3;){if(m<=0)return[];for(m--,e=0;e<p.length;e++)if(r=p[e],i=sm(p,e-1),o=sm(p,e+1),a=t[r],c=t[i],u=t[o],s=Lu(c.x-a.x,c.y-a.y),l=Lu(u.x-a.x,u.y-a.y),!(Vu(s,l)<0)){for(d=!0,n=0;n<h;n++)if(n!==r&&n!==i&&n!==o&&(f=t[n],lm(f,c,a,u))){d=!1;break}if(d){v.push([c,a,u]),p.splice(e,1);break}}}return v.push([t[p[0]],t[p[1]],t[p[2]]]),v},fm=function(t,e,n,r,i){var o=Du(Lu(r.x-n.x,r.y-n.y)),a=Du(Lu(i.x-r.x,i.y-r.y)),c=Du(Lu(o.x+a.x,o.y+a.y)),u=Lu(-c.y,c.x),s=Lu(-o.y,o.x),l=Math.min(1/Hu(u,s),5);t[e]=r.x,t[e+1]=r.y,t[e+2]=u.x*l,t[e+3]=u.y*l,t[e+4]=-1,t[e+5]=r.x,t[e+6]=r.y,t[e+7]=u.x*l,t[e+8]=u.y*l,t[e+9]=1},hm=function(t){var e=new Float32Array(8);return e[0]=t[3].x,e[1]=t[3].y,e[2]=t[0].x,e[3]=t[0].y,e[4]=t[2].x,e[5]=t[2].y,e[6]=t[1].x,e[7]=t[1].y,e},pm=function(t,e,n,r){void 0===e&&(e=0);var i=js(t),o=t.x+.5*t.width,a=t.y+.5*t.height;return(n||r)&&Xu(i,n,r,o,a),0!==e&&Yu(i,e,o,a),i},vm=function(t,e,n,r,i){for(var o=Math.min(20,Math.max(4,Math.round(r/2))),a=0,c=0,u=0,s=0;s<o;s++)a=i*pu+s/o*pu,c=r*Math.cos(a),u=r*Math.sin(a),t.push(Lu(e+c,n+u))},mm=null,gm=function(){if(null!==mm)return mm;var t=Pc("canvas"),e=um(t);return mm=e?e.getParameter(e.MAX_TEXTURE_SIZE):void 0,Dc(t),t=void 0,mm},ym=function(){return Oc()&&!!window.chrome},bm=new Float32Array([0,1,0,0,1,1,1,0]),wm=new Float32Array([1,0,0,0,1,1,0,1]),xm=Oc()&&cd(),_m=[0,0,0,0,1,0,0,0,0],Cm=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Em=[0,0,0,0],km=[0,0,0,0],$m=function(t,e,n,r,i){if(!n||!r)return bm;var o=r.x/n.width,a=r.y/n.height,c=t/n.width/i,u=e/n.height/i;return c-=o,u-=a,new Float32Array([-o,u,-o,-a,c,u,c,-a])},Sm=function(t,e){void 0===e&&(e={});var n,r,i,o,a,c,u,s,l,d,f,h,p=e.alpha,v=void 0!==p&&p,m={width:0,height:0},g={width:0,height:0},y=gm()||1024,b=tm(),w=tm(),x=0,_=0,C=0,E=1,k=new Map([]),$=function(){O.stencilOp(O.KEEP,O.KEEP,O.KEEP),O.stencilFunc(O.ALWAYS,1,255),O.stencilMask(255)},S=cm(30),A=Math.tan(S/2),O=um(t,{alpha:v,antialias:!1,premultipliedAlpha:!0,stencil:!0});if(O){O.getExtension("OES_standard_derivatives"),O.disable(O.DEPTH_TEST),O.enable(O.STENCIL_TEST),O.enable(O.BLEND),O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!(!v&&cd())),$();var L=O.createTexture();O.bindTexture(O.TEXTURE_2D,L),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,1,1,0,O.RGBA,O.UNSIGNED_BYTE,new Uint8Array(Em)),k.set(0,L);var M=O.createTexture();k.set(2,M);var R=O.createFramebuffer(),P=O.createTexture();k.set(1,P);var I=O.createFramebuffer(),T=Yv(O,"\n##head\n##text\nvoid main(){vTexCoord=aTexCoord;gl_Position=uMatrix*aPosition;}","\n##head\nin vec2 vTexCoord;uniform sampler2D uTexture;uniform sampler2D uTextureOverlay;uniform sampler2D uTextureBlend;uniform vec2 uTextureSize;uniform float uOpacity;uniform int uAntialias;uniform vec4 uOverlayColor;uniform mat4 uColorMatrix;uniform vec4 uColorOffset;uniform float uClarityKernel[9];uniform float uClarityKernelWeight;uniform float uColorGamma;uniform float uColorVignette;uniform float uMaskClip;uniform float uMaskOpacity;uniform float uMaskBounds[4];uniform float uMaskCornerRadius[4];uniform float uMaskFeather[8];vec4 applyGamma(vec4 c,float g){c.r=pow(c.r,g);c.g=pow(c.g,g);c.b=pow(c.b,g);return c;}vec4 applyColorMatrix(vec4 c,mat4 m,vec4 o){return(c*m)+(o*c.a);}vec4 applyConvolutionMatrix(vec4 c,float k0,float k1,float k2,float k3,float k4,float k5,float k6,float k7,float k8,float w){vec2 pixel=vec2(1)/uTextureSize;vec4 colorSum=texture(uTexture,vTexCoord-pixel)*k0+texture(uTexture,vTexCoord+pixel*vec2(0.0,-1.0))*k1+texture(uTexture,vTexCoord+pixel*vec2(1.0,-1.0))*k2+texture(uTexture,vTexCoord+pixel*vec2(-1.0,0.0))*k3+texture(uTexture,vTexCoord)*k4+texture(uTexture,vTexCoord+pixel*vec2(1.0,0.0))*k5+texture(uTexture,vTexCoord+pixel*vec2(-1.0,1.0))*k6+texture(uTexture,vTexCoord+pixel*vec2(0.0,1.0))*k7+texture(uTexture,vTexCoord+pixel)*k8;vec4 color=vec4(clamp((colorSum/w),0.0,1.0).rgb,c.a);return color;}vec4 applyVignette(vec4 c,vec2 pos,vec2 center,float v){float d=distance(pos,center)/length(center);float f=1.0-(d*abs(v));if(v>0.0){c.rgb*=f;}else if(v<0.0){c.rgb+=(1.0-f)*(1.0-c.rgb);}return c;}vec4 blendPremultipliedAlpha(vec4 back,vec4 front){return front+(back*(1.0-front.a));}void main(){float x=gl_FragCoord.x;float y=gl_FragCoord.y;float a=1.0;float maskTop=uMaskBounds[0];float maskRight=uMaskBounds[1];float maskBottom=uMaskBounds[2];float maskLeft=uMaskBounds[3];float leftFeatherOpacity=step(uMaskFeather[1],x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],x));a*=leftFeatherOpacity*rightFeatherOpacity;float overlayColorAlpha=(smoothstep(maskLeft,maskLeft+1.0,x)*(1.0-smoothstep(maskRight-1.0,maskRight,x))*(1.0-step(maskTop,y))*step(maskBottom,y));if(uOverlayColor.a==0.0){a*=overlayColorAlpha;}vec2 offset=vec2(maskLeft,maskBottom);vec2 size=vec2(maskRight-maskLeft,maskTop-maskBottom)*.5;vec2 center=offset.xy+size.xy;int pixelX=int(step(center.x,x));int pixelY=int(step(y,center.y));float cornerRadius=0.0;if(pixelX==0&&pixelY==0)cornerRadius=uMaskCornerRadius[0];if(pixelX==1&&pixelY==0)cornerRadius=uMaskCornerRadius[1];if(pixelX==0&&pixelY==1)cornerRadius=uMaskCornerRadius[2];if(pixelX==1&&pixelY==1)cornerRadius=uMaskCornerRadius[3];float cornerOffset=sign(cornerRadius)*length(max(abs(gl_FragCoord.xy-size-offset)-size+cornerRadius,0.0))-cornerRadius;float cornerOpacity=1.0-smoothstep(0.0,1.0,cornerOffset);a*=cornerOpacity;if(uAntialias==1){vec2 scaledPoint=vec2(vTexCoord.x*uTextureSize.x,vTexCoord.y*uTextureSize.y);a*=smoothstep(0.0,1.0,uTextureSize.x-scaledPoint.x);a*=smoothstep(0.0,1.0,uTextureSize.y-scaledPoint.y);a*=smoothstep(0.0,1.0,scaledPoint.x);a*=smoothstep(0.0,1.0,scaledPoint.y);}vec4 color=texture(uTexture,vTexCoord);if(uClarityKernelWeight!=-1.0){color=applyConvolutionMatrix(color,uClarityKernel[0],uClarityKernel[1],uClarityKernel[2],uClarityKernel[3],uClarityKernel[4],uClarityKernel[5],uClarityKernel[6],uClarityKernel[7],uClarityKernel[8],uClarityKernelWeight);}color=blendPremultipliedAlpha(color,texture(uTextureBlend,vTexCoord));color=applyGamma(color,uColorGamma);color=applyColorMatrix(color,uColorMatrix,uColorOffset);color*=a;if(uColorVignette!=0.0){vec2 pos=gl_FragCoord.xy-offset;color=applyVignette(color,pos,center-offset,uColorVignette);}color=blendPremultipliedAlpha(color,texture(uTextureOverlay,vTexCoord));if(overlayColorAlpha<=0.0){color*=1.0-uOverlayColor.a;}color*=uOpacity;fragColor=color;}",["aPosition","aTexCoord"],["uMatrix","uTexture","uTextureBlend","uTextureOverlay","uTextureSize","uColorGamma","uColorVignette","uColorOffset","uColorMatrix","uClarityKernel","uClarityKernelWeight","uOpacity","uMaskOpacity","uMaskBounds","uMaskCornerRadius","uMaskFeather","uOverlayColor","uAntialias"]),D=O.createBuffer(),B=O.createBuffer();O.bindBuffer(O.ARRAY_BUFFER,B),O.bufferData(O.ARRAY_BUFFER,bm,O.STATIC_DRAW);var j=O.createBuffer();O.bindBuffer(O.ARRAY_BUFFER,j),O.bufferData(O.ARRAY_BUFFER,wm,O.STATIC_DRAW);var N=Yv(O,"#version 300 es\n\nin vec4 aPosition;in vec2 aNormal;in float aMiter;out vec2 vNormal;out float vMiter;out float vWidth;uniform float uWidth;uniform float uSharpness;uniform mat4 uMatrix;void main(){vMiter=aMiter;vNormal=aNormal;vWidth=(uWidth*.5)+uSharpness;gl_Position=uMatrix*vec4(aPosition.x+(aNormal.x*vWidth*aMiter),aPosition.y+(aNormal.y*vWidth*aMiter),0,1);}","\n##head\n##mask\nin vec2 vNormal;in float vMiter;in float vWidth;uniform float uWidth;uniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;float m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);if(m<=0.0)discard;fillColor.a*=clamp(smoothstep(vWidth-.5,vWidth-1.0,abs(vMiter)*vWidth),0.0,1.0);fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition","aNormal","aMiter"],["uColor","uCanvasColor","uMatrix","uWidth","uSharpness","uMaskBounds","uMaskOpacity"]),F=O.createBuffer();ym()&&(O.bindBuffer(O.ARRAY_BUFFER,F),O.bufferData(O.ARRAY_BUFFER,1,O.DYNAMIC_DRAW));var z=function(t,e,n,r){void 0===r&&(r=!1);var a=N.program,c=N.locations;O.useProgram(a),O.enableVertexAttribArray(c.aPosition),O.enableVertexAttribArray(c.aNormal),O.enableVertexAttribArray(c.aMiter);var u=function(t,e){var n,r,i,o=0,a=t.length,c=new Float32Array(10*(e?a+1:a)),u=t[0],s=t[a-1];for(o=0;o<a;o++)n=t[o-1],r=t[o],i=t[o+1],n||(n=e?s:Lu(r.x+(r.x-i.x),r.y+(r.y-i.y))),i||(i=e?u:Lu(r.x+(r.x-n.x),r.y+(r.y-n.y))),fm(c,10*o,n,r,i);return e&&fm(c,10*a,s,u,t[1]),c}(t,r),s=5*Float32Array.BYTES_PER_ELEMENT,f=2*Float32Array.BYTES_PER_ELEMENT,h=4*Float32Array.BYTES_PER_ELEMENT;O.uniform1f(c.uWidth,e),O.uniform1f(c.uSharpness,i),O.uniform4fv(c.uColor,n),O.uniformMatrix4fv(c.uMatrix,!1,o),O.uniform4f(c.uCanvasColor,x,_,C,E),O.uniform1fv(c.uMaskBounds,d),O.uniform1f(c.uMaskOpacity,l),O.bindBuffer(O.ARRAY_BUFFER,F),O.bufferData(O.ARRAY_BUFFER,u,O.STATIC_DRAW),O.vertexAttribPointer(c.aPosition,2,O.FLOAT,!1,s,0),O.vertexAttribPointer(c.aNormal,2,O.FLOAT,!1,s,f),O.vertexAttribPointer(c.aMiter,1,O.FLOAT,!1,s,h),O.drawArrays(O.TRIANGLE_STRIP,0,u.length/5),O.disableVertexAttribArray(c.aPosition),O.disableVertexAttribArray(c.aNormal),O.disableVertexAttribArray(c.aMiter)},Z=Yv(O,"\n##head\nvoid main(){\n##matrix\n}","\n##head\n##mask\nuniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;\n##maskapply\nfillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition"],["uColor","uCanvasColor","uMatrix","uMaskBounds","uMaskOpacity"]),H=O.createBuffer(),V=Yv(O,"\n##head\n##text\nin vec2 aRectCoord;out vec2 vRectCoord;void main(){vTexCoord=aTexCoord;vRectCoord=aRectCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vRectCoord;uniform sampler2D uTexture;uniform vec4 uTextureColor;uniform float uTextureOpacity;uniform vec2 uRepeat;uniform vec4 uColor;uniform float uCornerRadius[4];uniform vec2 uSize;uniform vec2 uPosition;uniform vec4 uCanvasColor;uniform int uInverted;void main(){\n##init\n##colorize\n##edgeaa\n##cornerradius\n##maskfeatherapply\nif(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord","aRectCoord"],["uTexture","uColor","uMatrix","uCanvasColor","uTextureColor","uTextureOpacity","uRepeat","uPosition","uSize","uMaskBounds","uMaskOpacity","uMaskFeather","uCornerRadius","uInverted"]),U=O.createBuffer(),G=O.createBuffer(),W=O.createBuffer(),K=Yv(O,"\n##head\n##text\nout vec2 vTexCoordDouble;void main(){vTexCoordDouble=vec2(aTexCoord.x*2.0-1.0,aTexCoord.y*2.0-1.0);vTexCoord=aTexCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vTexCoordDouble;uniform sampler2D uTexture;uniform float uTextureOpacity;uniform vec2 uRepeat;uniform vec2 uRadius;uniform vec4 uColor;uniform int uInverted;uniform vec4 uCanvasColor;void main(){\n##init\nfloat ar=uRadius.x/uRadius.y;vec2 rAA=vec2(uRadius.x-1.0,uRadius.y-(1.0/ar));vec2 scaledPointSq=vec2((vTexCoordDouble.x*uRadius.x)*(vTexCoordDouble.x*uRadius.x),(vTexCoordDouble.y*uRadius.y)*(vTexCoordDouble.y*uRadius.y));float p=(scaledPointSq.x/(uRadius.x*uRadius.x))+(scaledPointSq.y/(uRadius.y*uRadius.y));float pAA=(scaledPointSq.x/(rAA.x*rAA.x))+(scaledPointSq.y/(rAA.y*rAA.y));a=smoothstep(1.0,p/pAA,p);if(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord"],["uTexture","uTextureOpacity","uRepeat","uColor","uCanvasColor","uMatrix","uRadius","uInverted","uMaskBounds","uMaskOpacity"]),X=O.createBuffer(),Y=O.createBuffer(),q=new Map,J={2:{width:0,height:0},1:{width:0,height:0}},Q=function(t,e,n,i){void 0===i&&(i=1);var a=Math.min(Math.min(4096,y)/n.width,Math.min(4096,y)/n.height,i),c=Math.floor(a*n.width),u=Math.floor(a*n.height);is(n,J[t])?O.bindFramebuffer(O.FRAMEBUFFER,e):(O.bindTexture(O.TEXTURE_2D,k.get(t)),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,c,u,0,O.RGBA,O.UNSIGNED_BYTE,null),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.LINEAR),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.bindFramebuffer(O.FRAMEBUFFER,e),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,k.get(t),0),J[t]=n);var s,l,d=n.width*r,f=n.height*r;em(w,0,d,f,0,-1,1),nm(w,0,f,0),l=1,(s=w)[0]*=l,s[1]*=l,s[2]*=l,s[3]*=l,function(t,e){t[4]*=e,t[5]*=e,t[6]*=e,t[7]*=e}(w,-1),o=w,O.viewport(0,0,c,u),O.colorMask(!0,!0,!0,!0),O.clearColor(0,0,0,0),O.clear(O.COLOR_BUFFER_BIT),h=[1,0,1,0,1,Math.max(m.width,n.width),1,Math.max(m.width,n.width)]},tt=function(t,e){var n=(e||{}).forceRelease,r=void 0!==n&&n,i=q.get(t).src;i instanceof HTMLCanvasElement&&(r||i.dataset.retain||Dc(i)),q.delete(t),O.deleteTexture(t)},et=function(t){return q.get(t).isRotatedVideo};return{drawPath:function(t,e,n,i,a,c,u,s,f){if(void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=!1),!(t.length<2)){var h=t.map((function(t){return{x:t.x*r,y:t.y*r}})),p=a*r;if(p>0&&z(h,p,Qv(c,f),u),!(h.length<3)&&s&&0!==s[3]&&u){var v=dm(h),m=new Float32Array(6*v.length);v.forEach((function(t,e){var n=t[0],r=t[1],i=t[2],o=6*e;m[o+0]=n.x,m[o+1]=n.y,m[o+2]=r.x,m[o+3]=r.y,m[o+4]=i.x,m[o+5]=i.y})),function(t,e){var n=Z.program,r=Z.locations;O.useProgram(n),O.enableVertexAttribArray(r.aPosition),O.uniform4fv(r.uColor,e),O.uniformMatrix4fv(r.uMatrix,!1,o),O.uniform1fv(r.uMaskBounds,d),O.uniform1f(r.uMaskOpacity,l),O.uniform4f(r.uCanvasColor,x,_,C,E),O.bindBuffer(O.ARRAY_BUFFER,H),O.bufferData(O.ARRAY_BUFFER,t,O.STATIC_DRAW),O.vertexAttribPointer(r.aPosition,2,O.FLOAT,!1,0,0),O.drawArrays(O.TRIANGLES,0,t.length/2),O.disableVertexAttribArray(r.aPosition)}(m,Qv(s,f))}}},drawRect:function(t,e,n,i,a,c,u,s,f,p,v,m,g,y,b,w,k){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===s&&(s=void 0),void 0===f&&(f=void 0),void 0===p&&(p=!1),void 0===v&&(v=void 0),void 0===b&&(b=void 0);var $=Ss(vs(t),r),S=a.map((function(e){return function(t,e){return Math.floor(Gp(t,0,Math.min(.5*(e.width-1),.5*(e.height-1))))}(e||0,t)})).map((function(t){return t*r}));if(c||u){var A=vs($);A.x-=.5,A.y-=.5,A.width+=1,A.height+=1;var M,R=pm(A,e,n,i),P=hm(R);w&&0===(M=Qv(w))[3]&&(M[3]=.001);var I=s&&p?[A.width/s.width,A.height/s.height]:[1,1];!function(t,e,n,i,a,c,u,s,f,p,v,m){void 0===c&&(c=L),void 0===s&&(s=1),void 0===f&&(f=Em),void 0===p&&(p=bm),void 0===v&&(v=h);var g=V.program,y=V.locations;O.useProgram(g),O.enableVertexAttribArray(y.aPosition),O.enableVertexAttribArray(y.aTexCoord),O.enableVertexAttribArray(y.aRectCoord),O.uniform4fv(y.uColor,a),O.uniform2fv(y.uSize,[e,n]),O.uniform2fv(y.uPosition,[t[2],t[3]]),O.uniform2fv(y.uRepeat,u),O.uniform1i(y.uInverted,m?1:0),O.uniform1fv(y.uCornerRadius,i),O.uniform4f(y.uCanvasColor,x,_,C,E),O.uniform1fv(y.uMaskFeather,v.map((function(t,e){return e%2==0?t:t*r}))),O.uniform1fv(y.uMaskBounds,d),O.uniform1f(y.uMaskOpacity,l),O.uniformMatrix4fv(y.uMatrix,!1,o),O.uniform1i(y.uTexture,4),O.uniform4fv(y.uTextureColor,f),O.uniform1f(y.uTextureOpacity,s),O.activeTexture(O.TEXTURE0+4),O.bindTexture(O.TEXTURE_2D,c),O.bindBuffer(O.ARRAY_BUFFER,G),O.bufferData(O.ARRAY_BUFFER,p,O.STATIC_DRAW),O.vertexAttribPointer(y.aTexCoord,2,O.FLOAT,!1,0,0),O.bindBuffer(O.ARRAY_BUFFER,W),O.bufferData(O.ARRAY_BUFFER,bm,O.STATIC_DRAW),O.vertexAttribPointer(y.aRectCoord,2,O.FLOAT,!1,0,0),O.bindBuffer(O.ARRAY_BUFFER,U),O.bufferData(O.ARRAY_BUFFER,t,O.STATIC_DRAW),O.vertexAttribPointer(y.aPosition,2,O.FLOAT,!1,0,0),O.drawArrays(O.TRIANGLE_STRIP,0,t.length/2),O.disableVertexAttribArray(y.aPosition),O.disableVertexAttribArray(y.aTexCoord),O.disableVertexAttribArray(y.aRectCoord)}(P,A.width,A.height,S,Qv(c,y),u,I,y,M,v?new Float32Array(v):$m(A.width,A.height,s,f,r),b,k)}m&&(m=Math.min(m,$.width,$.height),z(function(t,e,n,r,i,o,a,c){var u=[];if(o.every((function(t){return 0===t})))u.push(Lu(t,e),Lu(t+n,e),Lu(t+n,e+r),Lu(t,e+r));else{var s=o[0],l=o[1],d=o[2],f=o[3],h=t,p=t+n,v=e,m=e+r;u.push(Lu(h+s,v)),vm(u,p-l,v+l,l,-1),u.push(Lu(p,v+l)),vm(u,p-f,m-f,f,0),u.push(Lu(p-f,m)),vm(u,h+d,m-d,d,1),u.push(Lu(h,m-d)),vm(u,h+s,v+s,s,2)}return(a||c)&&Xu(u,a,c,t+.5*n,e+.5*r),i&&Yu(u,i,t+.5*n,e+.5*r),u}($.x,$.y,$.width,$.height,e,S,n,i),m*r,Qv(g,y),!0))},drawEllipse:function(t,e,n,i,a,c,u,s,f,h,p,v,m,g,y){void 0===f&&(f=void 0),void 0===h&&(h=void 0),void 0===p&&(p=void 0);var b=Ss(xs(t.x-e,t.y-n,2*e,2*n),r);if(u||s){var w=vs(b);w.x-=.5,w.y-=.5,w.width+=1,w.height+=1;var k=pm(w,i,a,c);!function(t,e,n,r,i,a,c,u){void 0===i&&(i=L),void 0===a&&(a=bm),void 0===c&&(c=1),void 0===u&&(u=!1);var s=K.program,f=K.locations;O.useProgram(s),O.enableVertexAttribArray(f.aPosition),O.enableVertexAttribArray(f.aTexCoord),O.uniformMatrix4fv(f.uMatrix,!1,o),O.uniform2fv(f.uRadius,[.5*e,.5*n]),O.uniform1i(f.uInverted,u?1:0),O.uniform4fv(f.uColor,r),O.uniform4f(f.uCanvasColor,x,_,C,E),O.uniform2fv(f.uRepeat,[1,1]),O.uniform1fv(f.uMaskBounds,d),O.uniform1f(f.uMaskOpacity,l),O.uniform1i(f.uTexture,4),O.uniform1f(f.uTextureOpacity,c),O.activeTexture(O.TEXTURE0+4),O.bindTexture(O.TEXTURE_2D,i),O.bindBuffer(O.ARRAY_BUFFER,Y),O.bufferData(O.ARRAY_BUFFER,a,O.STATIC_DRAW),O.vertexAttribPointer(f.aTexCoord,2,O.FLOAT,!1,0,0),O.bindBuffer(O.ARRAY_BUFFER,X),O.bufferData(O.ARRAY_BUFFER,t,O.STATIC_DRAW),O.vertexAttribPointer(f.aPosition,2,O.FLOAT,!1,0,0),O.drawArrays(O.TRIANGLE_STRIP,0,t.length/2),O.disableVertexAttribArray(f.aPosition),O.disableVertexAttribArray(f.aTexCoord)}(hm(k),w.width,w.height,Qv(u,g),s,p?new Float32Array(p):$m(w.width,w.height,f,h,r),g,y)}v&&z(function(t,e,n,r,i,o,a){var c=.5*Math.abs(n),u=.5*Math.abs(r),s=Math.abs(n)+Math.abs(r),l=Math.max(20,Math.round(s/6));return Ks(Lu(t+c,e+u),c,u,i,o,a,l)}(b.x,b.y,b.width,b.height,i,a,c),v*r,Qv(m,g),!0)},drawImage:function(t,e,i,o,a,c,u,s,h,p,v,g,y,b,w,x,_,C,E,$,L){void 0===v&&(v=Cm),void 0===g&&(g=1),void 0===b&&(b=1),void 0===w&&(w=0),void 0===x&&(x=f),void 0===_&&(_=km),void 0===C&&(C=Em),void 0===E&&(E=!1),void 0===$&&($=!1),void 0===L&&(L=!0);var M=e.width*r,R=e.height*r,P=-.5*M,I=.5*R,N=.5*M,F=-.5*R,z=new Float32Array([P,F,0,P,I,0,N,F,0,N,I,0]);O.bindBuffer(O.ARRAY_BUFFER,D),O.bufferData(O.ARRAY_BUFFER,z,O.STATIC_DRAW);var Z=e.height/2/A*(m.height/e.height)*-1;a*=r,c*=r,i*=r,o*=r;var H,V,U,G,W,K,X,Y=T.program,q=T.locations,J=tm();H=J,V=S,U=n,G=1,W=2*-Z,K=1/Math.tan(V/2),X=1/(G-W),H[0]=K/U,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=K,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[10]=(W+G)*X,H[11]=-1,H[12]=0,H[13]=0,H[14]=2*W*G*X,H[15]=0,nm(J,a,-c,Z),nm(J,i,-o,0),am(J,-h),rm(J,p),nm(J,-i,o,0),om(J,s),im(J,u),O.useProgram(Y),O.enableVertexAttribArray(q.aPosition),O.enableVertexAttribArray(q.aTexCoord),O.uniform1i(q.uTexture,3),O.uniform2f(q.uTextureSize,e.width,e.height),O.activeTexture(O.TEXTURE0+3),O.bindTexture(O.TEXTURE_2D,t);var Q=$?1:0,tt=k.get(Q);O.uniform1i(q.uTextureBlend,Q),O.activeTexture(O.TEXTURE0+Q),O.bindTexture(O.TEXTURE_2D,tt);var nt=E?2:0,rt=k.get(nt);O.uniform1i(q.uTextureOverlay,nt),O.activeTexture(O.TEXTURE0+nt),O.bindTexture(O.TEXTURE_2D,rt),O.bindBuffer(O.ARRAY_BUFFER,D),O.vertexAttribPointer(q.aPosition,3,O.FLOAT,!1,0,0);var it,ot=xm&&et(t);O.bindBuffer(O.ARRAY_BUFFER,ot?j:B),O.vertexAttribPointer(q.aTexCoord,2,O.FLOAT,!1,0,0),O.uniformMatrix4fv(q.uMatrix,!1,J),O.uniform4fv(q.uOverlayColor,C),!y||qp(y,_m)?(y=_m,it=-1):it=(it=y.reduce((function(t,e){return t+e}),0))<=0?1:it,O.uniform1fv(q.uClarityKernel,y),O.uniform1f(q.uClarityKernelWeight,it),O.uniform1f(q.uColorGamma,1/b),O.uniform1f(q.uColorVignette,w),O.uniform1i(q.uAntialias,L?1:0),O.uniform4f(q.uColorOffset,v[4],v[9],v[14],v[19]),O.uniformMatrix4fv(q.uColorMatrix,!1,[v[0],v[1],v[2],v[3],v[5],v[6],v[7],v[8],v[10],v[11],v[12],v[13],v[15],v[16],v[17],v[18]]),O.uniform1f(q.uOpacity,g),O.uniform1f(q.uMaskOpacity,l),O.uniform1fv(q.uMaskBounds,d),O.uniform1fv(q.uMaskCornerRadius,_.map((function(t){return t*r}))),O.uniform1fv(q.uMaskFeather,x.map((function(t,e){return e%2==0?t:t*r}))),O.drawArrays(O.TRIANGLE_STRIP,0,4),O.disableVertexAttribArray(q.aPosition),O.disableVertexAttribArray(q.aTexCoord)},textureFilterNearest:O.NEAREST,textureFilterLinear:O.LINEAR,textureClamp:O.CLAMP_TO_EDGE,textureRepeat:O.REPEAT,textureCreate:function(){return O.createTexture()},textureUpdate:function(t,e,n){return q.set(t,{src:e,options:n,isRotatedVideo:"VIDEO"===e.nodeName&&(e.dataset&&90==e.dataset.rotation||270==e.dataset.rotation)}),Jv(O,t,e,n)},textureGetSize:function(t){var e=q.get(t),n=e.src,r=e.options,i=Qu(n);return r.scalar?ss(i,(function(t){return t/r.scalar})):i},textureDelete:tt,enablePreviewStencil:function(){O.stencilOp(O.KEEP,O.KEEP,O.REPLACE),O.stencilFunc(O.ALWAYS,1,255),O.stencilMask(255)},applyPreviewStencil:function(){O.stencilFunc(O.EQUAL,1,255),O.stencilMask(0)},disablePreviewStencil:$,setCanvasColor:function(t){x=t[0],_=t[1],C=t[2],E=v?t[3]:1,O.clear(O.COLOR_BUFFER_BIT)},resetCanvasMatrix:function(){em(b,0,m.width,m.height,0,-1,1)},updateCanvasMatrix:function(t,e,n,i,o){var a=t.width,c=t.height,u=m.width*(.5/r),s=m.height*(.5/r),l={x:u+(n.x+e.x),y:s+(n.y+e.y)},d={x:l.x-e.x,y:l.y-e.y},f=.5*a,h=.5*c;Iu(d,o.z,l),Wu(d,i,l),nm(b,(d.x-f)*r,(d.y-h)*r,0),nm(b,f*r,h*r,0),am(b,o.z);var p=o.x>Math.PI/2;im(b,p?Math.PI:0);var v=o.y>Math.PI/2;om(b,v?Math.PI:0),rm(b,i),nm(b,-f*r,-h*r,0)},drawToCanvas:function(){O.bindFramebuffer(O.FRAMEBUFFER,null),o=b,O.viewport(0,0,O.drawingBufferWidth,O.drawingBufferHeight),O.colorMask(!0,!0,!0,!0),O.clearColor(x,_,C,E),O.clear(O.COLOR_BUFFER_BIT),h=[1,0,1,0,1,m.width,1,m.width]},drawToImageBlendBuffer:function(t,e){Q(1,I,t,e)},drawToImageOverlayBuffer:function(t,e){Q(2,R,t,e)},enableMask:function(t,e){var n=t.x*r,i=t.y*r,o=t.width*r,f=t.height*r;c=(s=n)+o,a=m.height-i,u=m.height-(i+f),l=1-e,d=[a,c,u,s]},disableMask:function(){s=0,c=m.width,a=m.height,l=1,d=[a,c,u=0,s]},resize:function(e,o,a){i=1===(r=a)?.75:1,g.width=e,g.height=o,m.width=e*r,m.height=o*r,n=fu(m.width,m.height),t.width=m.width,t.height=m.height,em(b,0,m.width,m.height,0,-1,1),f=[1,0,1,0,1,g.width,1,g.width]},release:function(){Array.from(q.keys()).forEach((function(t){return tt(t,{forceRelease:!0})})),q.clear(),k.forEach((function(t){O.deleteTexture(t)})),k.clear(),T.destroy(),N.destroy(),Z.destroy(),V.destroy(),K.destroy(),t.width=1,t.height=1,t=void 0}}}};function Am(t){return Math.sqrt(1- --t*t)}function Om(t){return"[object Date]"===Object.prototype.toString.call(t)}function Lm(t,e){if(t===e||t!=t)return function(){return t};var n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){var r=e.map((function(e,n){return Lm(t[n],e)}));return function(t){return r.map((function(e){return e(t)}))}}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Om(t)&&Om(e)){t=t.getTime();var i=(e=e.getTime())-t;return function(e){return new Date(t+e*i)}}var o=Object.keys(e),a={};return o.forEach((function(n){a[n]=Lm(t[n],e[n])})),function(t){var e={};return o.forEach((function(n){e[n]=a[n](t)})),e}}if("number"===n){var c=e-t;return function(e){return t+e*c}}throw new Error("Cannot interpolate "+n+" values")}function Mm(t,e){void 0===e&&(e={});var n,r=kp(t),i=t;function o(o,a){if(null==t)return r.set(t=o),Promise.resolve();i=o;var c=n,u=!1,s=Nf(Nf({},e),a),l=s.delay,d=void 0===l?0:l,f=s.duration,h=void 0===f?400:f,p=s.easing,v=void 0===p?jf:p,m=s.interpolate,g=void 0===m?Lm:m;if(0===h)return c&&(c.abort(),c=null),r.set(t=i),Promise.resolve();var y,b=ih()+d;return n=uh((function(e){if(e<b)return!0;u||(y=g(t,o),"function"==typeof h&&(h=h(t,o)),u=!0),c&&(c.abort(),c=null);var n=e-b;return n>h?(r.set(t=o),!1):(r.set(t=y(v(n/h))),!0)})),n.promise}return{set:o,update:function(e,n){return o(e(i,t),n)},subscribe:r.subscribe}}function Rm(t,e,n,r){if("number"==typeof n){var i=r-n,o=(n-e)/(t.dt||1/60),a=(o+(t.opts.stiffness*i-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,n+a)}if(Xl(n))return n.map((function(i,o){return Rm(t,e[o],n[o],r[o])}));if("object"==typeof n){var c={};for(var u in n)c[u]=Rm(t,e[u],n[u],r[u]);return c}throw new Error("Cannot spring "+typeof n+" values")}function Pm(t,e){void 0===e&&(e={});var n,r,i,o=kp(t),a=e,c=a.stiffness,u=void 0===c?.15:c,s=a.damping,l=void 0===s?.8:s,d=a.precision,f=void 0===d?.01:d,h=t,p=t,v=1,m=0,g=!1;function y(e,a){void 0===a&&(a={}),p=e;var c=i={};if(null==t||a.hard||b.stiffness>=1&&b.damping>=1)return g=!0,n=null,h=e,o.set(t=p),Promise.resolve();if(a.soft){var u=!0===a.soft?.5:+a.soft;m=1/(60*u),v=0}if(!r){n=null,g=!1;var s={inv_mass:void 0,opts:b,settled:!0,dt:void 0};r=uh((function(e){if(null===n&&(n=e),g)return g=!1,r=null,!1;v=Math.min(v+m,1),s.inv_mass=v,s.opts=b,s.settled=!0,s.dt=60*(e-n)/1e3;var i=Rm(s,h,t,p);return n=e,h=t,o.set(t=i),s.settled&&(r=null),!s.settled}))}return new Promise((function(t){r.promise.then((function(){c===i&&t()}))}))}var b={set:y,update:function(e,n){return y(e(p,t),n)},subscribe:o.subscribe,stiffness:u,damping:l,precision:f};return b}var Im,Tm,Dm=Ep(!1,(function(t){var e=window.matchMedia("(prefers-reduced-motion:reduce)"),n=function(){return t(e.matches)};return n(),e.addListener(n),function(){return e.removeListener(n)}})),Bm=function(){return"ResizeObserver"in window},jm=ms(),Nm=function(t,e,n,r,i){t.rect||(t.rect=ms());var o=t.rect;Ls(jm,e,n,r,i),As(o,jm)||(Ms(o,jm),t.dispatchEvent(new CustomEvent("measure",{detail:o})))},Fm=Math.round,zm=function(t){var e=t.getBoundingClientRect();Vm&&Nm(t,Fm(e.x),Fm(e.y),Fm(e.width),Fm(e.height))},Zm=function(t){Vm&&Nm(t,t.offsetLeft,t.offsetTop,t.offsetWidth,t.offsetHeight)},Hm=[],Vm=void 0;function Um(){Hm.length?(Hm.forEach((function(t){return t.measure(t)})),Vm=requestAnimationFrame(Um)):Vm=void 0}var Gm=new Map([]),Wm=0,Km=0,Xm=function(t,e){void 0===e&&(e={});var n=e,r=n.observePosition,i=void 0!==r&&r,o=n.observeViewRect,a=void 0!==o&&o,c=n.once,u=void 0!==c&&c,s=n.disabled,l=void 0!==s&&s,d=n.isMeasureRoot,f=void 0!==d&&d;if(Bm()&&f&&(Tm||(Tm=new ResizeObserver((function(t){t.forEach((function(t){Gm.set(t.target,t.contentRect)}));var e=Array.from(Gm.values()).some((function(t){var e=t.width,n=t.height;return e>0&&n>0}));e?e&&!1===Vm&&Um():(Vm&&cancelAnimationFrame(Vm),Vm=!1)}))),Tm.observe(t),Wm++),!l)return!Bm()||i||a?(t.measure=a?zm:Zm,Hm.push(t),void 0===Vm&&(Vm=requestAnimationFrame(Um)),t.measure(t),{destroy:function(){f&&Tm&&(Gm.delete(t),Tm.unobserve(t),0===--Wm&&(Tm.disconnect(),Tm=void 0));var e=Hm.indexOf(t);Hm.splice(e,1),delete t.measure}}):(Im||(Im=new ResizeObserver((function(t){t.forEach((function(t){Vm&&Zm(t.target)}))}))),Im.observe(t),Zm(t),u?Im.unobserve(t):Km++,{destroy:function(){f&&Tm&&(Gm.delete(t),Tm.unobserve(t),0===--Wm&&(Tm.disconnect(),Tm=void 0)),u||(Im.unobserve(t),0===--Km&&(Im.disconnect(),Im=void 0))}})},Ym=function(t){var e=!1,n={pointerdown:function(){e=!1},keydown:function(){e=!0},keyup:function(){e=!1},focus:function(t){e&&(t.target.dataset.focusVisible="")},blur:function(t){delete t.target.dataset.focusVisible}};return Object.keys(n).forEach((function(e){return t.addEventListener(e,n[e],!0)})),{destroy:function(){Object.keys(n).forEach((function(e){return t.removeEventListener(e,n[e],!0)}))}}},qm=function(){var t=gc(vc().mark((function t(e){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if("file"===e.kind)return t(e.getAsFile());e.getAsString(t)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Jm=function(t){return new Promise((function(e,n){var r=t.dataTransfer.items;if(!r)return e([]);Promise.all(Array.from(r).map(qm)).then((function(t){e(t.filter((function(t){return Yl(t)&&ul(t)||/^http/.test(t)})))})).catch(n)}))},Qm=function(t,e){void 0===e&&(e={});var n=function(t){t.preventDefault()},r=function(){var n=gc(vc().mark((function n(r){var i;return vc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),r.stopPropagation(),n.prev=2,n.next=5,Jm(r);case 5:i=n.sent,t.dispatchEvent(new CustomEvent("dropfiles",Object.assign({detail:{event:r,resources:i}},e))),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(t){return n.apply(this,arguments)}}();return t.addEventListener("drop",r),t.addEventListener("dragover",n),{destroy:function(){t.removeEventListener("drop",r),t.removeEventListener("dragover",n)}}},tg=null,eg=function(){if(null===tg)if(Oc()){var t=Pc("canvas");tg=!um(t,{failIfMajorPerformanceCaveat:!0}),Dc(t)}else tg=!1;return tg},ng=function(t){return t instanceof WebGLTexture};function rg(t){var e,n,r,i;return{c:function(){e=ph("div"),n=ph("canvas"),xh(e,"class","PinturaCanvas")},m:function(o,a){fh(o,e,a),sh(e,n),t[35](n),r||(i=[bh(n,"measure",t[36]),nh(Xm.call(null,n))],r=!0)},p:Bf,i:Bf,o:Bf,d:function(n){n&&hh(e),t[35](null),r=!1,Zf(i)}}}function ig(t,e,n){var r,i,o,a,c,u,s,l,d=[0,0,0,0],f=Oc()&&function(t){var e=.5*t,n=Pc("canvas",{"data-retain":!0,width:t,height:t}),r=n.getContext("2d");return r.fillStyle="#f0f",r.fillRect(0,0,e,e),r.fillRect(e,e,e,e),n}(128),h=Bh(),p=e.isAnimated,v=e.isTransparent,m=e.maskRect,g=e.maskOpacity,y=void 0===g?1:g,b=e.maskFrameOpacity,w=void 0===b?.95:b,x=e.maskMarkupOpacity,_=void 0===x?1:x,C=e.clipAnnotationsToImage,E=void 0===C||C,k=e.pixelRatio,$=void 0===k?1:k,S=e.textPixelRatio,A=void 0===S?$:S,O=e.backgroundColor,L=e.willRender,M=void 0===L?hu:L,R=e.didRender,P=void 0===R?hu:R,I=e.willRequest,T=void 0===I?void 0:I,D=e.loadImageData,B=void 0===D?hu:D,j=e.enableGrid,N=void 0!==j&&j,F=e.gridColors,z=void 0===F?void 0:F,Z=e.gridSize,H=void 0===Z?void 0:Z,V=e.gridOpacity,U=void 0===V?0:V,G=e.images,W=void 0===G?[]:G,K=e.interfaceImages,X=void 0===K?[]:K,Y=null,q=null,J=null,Q=function(t,e){return t.set(e,{hard:!p})},tt={precision:1e-4*.01},et=0,nt=Mm(void 0,{duration:0});Wf(t,nt,(function(t){return n(34,s=t)}));var rt=Pm(1,tt);Wf(t,rt,(function(t){return n(33,c=t)}));var it=Pm(1,tt);Wf(t,it,(function(t){return n(45,o=t)}));var ot=kp();Wf(t,ot,(function(t){return n(47,u=t)}));var at=kp();Wf(t,at,(function(t){return n(46,a=t)}));var ct,ut=function(){return requestAnimationFrame((function(){bt=!0,$t=0,i()}))},st=new Map([]),lt=new Map([]),dt=function(t,e){return{filterParam:"pixelated"===t?Y.textureFilterNearest:Y.textureFilterLinear,wrapParam:"repeat"===e?Y.textureRepeat:Y.textureClamp}},ft=function(t,e,n){if(!st.has(t)){st.set(t,t);var r=dt(e,n);if(!Wc(o=t)&&(Cl(o)||Bc(o)||vf(o)||ll(o))){var i=Y.textureCreate();Y.textureUpdate(i,t,r),st.set(t,i)}else B(t).then((function(e){if(Y&&e){var n=Y.textureCreate();Y.textureUpdate(n,e,r),st.set(t,n),ut()}})).catch((function(t){}))}var o,a;if(ll(t)&&((a=t).currentTime>0&&!a.paused&&!a.ended&&a.readyState>2||"true"===t.dataset.redraw)){var c=st.get(t),u=dt(e,n);return Y.textureUpdate(c,t,u),t.dataset.redraw=!1,c}return st.get(t)},ht=function(t){var e;if(t.backgroundImage)e=ft(t.backgroundImage,t.backgroundImageRendering);else if(Wc(t.text)){if(t.width&&t.width<1||t.height&&t.height<1)return;e=function(t){if(t.text.length){var e=t.text,n=t.textAlign,r=t.fontFamily,i=t.fontSize,o=void 0===i?16:i,a=t.fontWeight,c=t.fontVariant,u=t.fontStyle,s=t.lineHeight,l=void 0===s?o:s,d=t.width,f=t.height;d=Wl(d)?Math.floor(d):d,f=Wl(f)?Math.floor(f):f;var h=pd(e,Object.assign({},t,{width:d,height:f})),p=h.textSize,v=h.signature,m=Jl({text:e,textAlign:n,fontFamily:r,fontSize:o,fontWeight:a,fontVariant:c,fontStyle:u,lineHeight:l,signature:v});if(!st.has(m)){st.set(m,e);var g=Math.ceil(p.width),y=Math.ceil(p.height/l)*l;if(0===g||0===y)return;var b=gm(),w=Math.min(1,(b-ud*A*2)/(g*A),b/(y*A));Id(e,{fontSize:o,fontFamily:r,fontWeight:a,fontVariant:c,fontStyle:u,textAlign:n,lineHeight:l,width:d,height:f,imageWidth:g,imageHeight:y,pixelRatio:A*w,willRequest:T,color:[1,0,1]}).then((function(e){if(Y){var n=Y.textureCreate();Y.textureUpdate(n,e,{filterParam:Y.textureFilterLinear,wrapParam:Y.textureClamp,scalar:w}),st.set(m,n),lt.set(t.id,n),ut()}})).catch(console.error)}var x=st.get(m);return ng(x)?x:lt.get(t.id)}lt.delete(t.id)}(t)}return e},pt=function(t){var e=t.data,n=t.size,r=t.origin,i=t.translation,o=t.rotation,a=t.scale,c=t.colorMatrix,u=t.opacity,s=t.convolutionMatrix,l=t.gamma,d=t.vignette,f=t.maskFeather,h=t.maskCornerRadius,p=t.overlayColor,v=t.enableOverlay,m=t.enableBlend,g=t.enableAntialiasing,y=ft(e),b=0,w=0;if(1===$){var x=Math.abs(1-a)<Number.EPSILON;b=x&&q%2!=0?.5:0,w=x&&J%2!=0?.5:0}return Y.drawImage(y,n,r.x,r.y,i.x+b,i.y+w,o.x,o.y,o.z,a,c,Gp(u,0,1),s,l,d,f,h,p,v,m,g),y},vt=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return[i.x,i.y,e.x,e.y,r.x,r.y,n.x,n.y]},mt=Ou(),gt=function(t,e){return void 0===t&&(t=[]),t.map((function(t){var e=!t._isLoading&&ht(t),n=ng(e)?e:void 0,r=t._scale||1,i=t._translate||mt,o=t.strokeWidth&&t.strokeWidth*r;if(Xl(t.points)){var a=t.points.map((function(t){return Lu(t.x*r+i.x,t.y*r+i.y)}));Y.drawPath(a,t.rotation,t.flipX,t.flipY,o,t.strokeColor,t.pathClose,t.backgroundColor,t.opacity)}else if(Wl(t.rx)&&Wl(t.ry)){var c=t.x,u=t.y;c*=r,u*=r,c+=i.x,u+=i.y,Y.drawEllipse(Lu(c,u),t.rx*r,t.ry*r,t.rotation,t.flipX,t.flipY,t.backgroundColor,n,void 0,void 0,t.backgroundCorners&&vt(t.backgroundCorners),o,t.strokeColor,t.opacity,t.inverted)}else if(Wc(t.text)&&n||t.width){var s,l,d,f=n&&Y.textureGetSize(n),h=void 0,p=t.backgroundColor,v=t.strokeColor,m=[t.cornerRadius,t.cornerRadius,t.cornerRadius,t.cornerRadius].map((function(t){return t*r}));if(s=t.width?ys(t):Object.assign({x:t.x,y:t.y},f),r&&i&&(s.x*=r,s.y*=r,s.x+=i.x,s.y+=i.y,s.width*=r,s.height*=r),f)if(t.backgroundImage&&(t.backgroundSize||t.backgroundPosition)){var g=fu(f.width,f.height);if("contain"===t.backgroundSize){var y=Ds(s,g,s);l=ts(y),d=t.backgroundPosition?t.backgroundPosition:Lu(.5*(s.width-l.width),.5*(s.height-l.height))}else if("cover"===t.backgroundSize){var b=Ts(s,g,s);l=ts(b),t.backgroundPosition?d=t.backgroundPosition:(d=Lu(b.x,b.y),d=Lu(.5*(s.width-l.width),.5*(s.height-l.height)))}else t.backgroundSize?(l=t.backgroundSize,d=t.backgroundPosition):t.backgroundPosition&&(l=Object.assign({},f),d=t.backgroundPosition)}else if(t.text){var w={width:f.width/A,height:f.height/A},x=1;if(t.fontSize>1e3&&cd()&&(x=t.fontSize/1e3),d=Lu(0,0),l={width:w.width*r,height:w.height*r},t.backgroundColor||t.strokeColor){p=void 0,v=void 0;var _=(t.width||w.width-64)*r,C=(t.height||w.height)*r;Y.drawRect(Object.assign({},s,{width:_,height:C}),t.rotation,t.flipX,t.flipY,m,t.backgroundColor,void 0,void 0,void 0,!1,void 0,o,t.strokeColor,t.opacity,void 0,void 0,t.inverted)}s.x-=ud*r,h=t.color||[0,0,0],t.width?(s.height=s.height||w.height*r,s.width+=64*r/x,"center"===t.textAlign?d.x=.5*(s.width-l.width/x):"right"===t.textAlign&&(d.x=s.width-l.width/x)):(s.width=w.width*r,s.height=w.height*r),t._prerender&&(h[3]=0)}Y.drawRect(s,t.rotation,t.flipX,t.flipY,m,p,n,l,d,!1,t.backgroundCorners&&vt(t.backgroundCorners),o,v,t.opacity,void 0,h,t.inverted)}return e})).filter(Boolean)},yt=function(t,e,n,r,i,o){return Y.drawRect(e,0,!1,!1,d,d,t,r,n,!0,void 0,0,void 0,o,void 0,i)},bt=!1,wt=!0,xt=!1,_t=[],Ct=[],Et=[],kt=function(){Et.length=0;var t=W[0],e=M({opacity:t.opacity,rotation:t.rotation,scale:t.scale,images:W,size:rs(q,J),backgroundColor:[].concat(s),selectionRect:u}),n=e.blendShapes,r=e.blendShapesDirty,i=e.annotationShapes,l=e.annotationShapesDirty,h=e.interfaceShapes,p=e.decorationShapes,g=e.frameShapes,y=[].concat(s),b=u,w=Gp(c,0,1),x=a,C=Math.abs(t.rotation.x/Math.PI*2-1),k=Math.abs(t.rotation.y/Math.PI*2-1),$=C<.99||k<.99,S=Object.assign({},t.size),O=t.backgroundColor,L=t.backgroundImage,R=n.length>0,I=i.length>0,T=O[3]>0,D=!!E&&_>=1;if(w<1&&T){var B=y[0],j=y[1],F=y[2],Z=1-w,V=O[0]*Z,G=O[1]*Z,K=O[2]*Z,Q=1-Z;y[0]=V+B*Q,y[1]=G+j*Q,y[2]=K+F*Q,y[3]=1}if(Y.setCanvasColor(v?d:y),R&&r?(Y.disableMask(),Y.drawToImageBlendBuffer(S),_t.length=0,_t.push.apply(_t,gt(n))):R||(_t.length=0),Et.push.apply(Et,_t),wt&&(Y.drawToImageOverlayBuffer(S,A),wt=!1),$?(I&&(l||bt)||!xt?(Y.disableMask(),Y.drawToImageOverlayBuffer(S,A),Ct.length=0,Ct.push.apply(Ct,gt(i))):I||(Ct.length=0),xt=!0):xt=!1,Y.drawToCanvas(),Y.enableMask(b,w),N&&H>=1&&2===z.length&&U&&function(t,e,n,r,i){var o=rs(e,e),a=ft(f,"pixelated","repeat"),c=Lu(-t.x%e,-t.y%e),u=Lu(c.x+.5*o.width,c.y);yt(a,t,c,o,n,i),yt(a,t,u,o,r,i)}(b,H,z[0],z[1],U),T&&Y.drawRect(b,0,!1,!1,d,O),L){Y.enableMask(b,1);var tt=Math.max(m.width/L.width,m.height/L.height),et=L.width*tt,nt=L.height*tt,rt={x:m.x+.5*m.width-.5*et,y:m.y+.5*m.height-.5*nt,width:et,height:nt};Y.drawRect(rt,0,!1,!1,d,d,ft(L,"linear")),Y.enableMask(b,w)}if(D&&Y.enablePreviewStencil(),Et.push.apply(Et,[].concat(W).reverse().map((function(t){return pt(Object.assign({},t,{enableOverlay:$&&I,enableBlend:R,enableAntialiasing:!0,mask:b,maskOpacity:w,overlayColor:x}))}))),Y.enableMask(b,_),$||(D&&Y.applyPreviewStencil(),Y.resetCanvasMatrix(),Y.updateCanvasMatrix(S,t.origin,t.translation,t.scale,t.rotation),Ct.length=0,Ct.push.apply(Ct,gt(i)),D&&Y.disablePreviewStencil()),Et.push.apply(Et,Ct),Y.resetCanvasMatrix(),Y.enableMask(b,_),Et.push.apply(Et,gt(p)),g.length){Y.enableMask(b,1);var it=g.filter((function(t){return!t.expandsCanvas})),ot=g.filter((function(t){return t.expandsCanvas}));it.length&&Et.push.apply(Et,gt(it)),ot.length&&(Y.enableMask({x:b.x+.5,y:b.y+.5,width:b.width-1,height:b.height-1},o),Et.push.apply(Et,gt(ot)))}Y.disableMask(),Et.push.apply(Et,gt(h)),X.forEach((function(t){if(Y.enableMask(t.mask,t.maskOpacity),t.backgroundColor){var e=L&&Ts(Object.assign({},t.mask),L.width/L.height),n=L&&ft(L,"linear");Y.drawRect(t.mask,0,!1,!1,t.maskCornerRadius,t.backgroundColor,n,e,e,void 0,void 0,void 0,void 0,t.opacity,t.maskFeather),n&&Et.push(n)}var r=pt(Object.assign({},t,{enableAntialiasing:!1,translation:{x:t.translation.x+t.offset.x-.5*q,y:t.translation.y+t.offset.y-.5*J}}));Et.push(r)})),Y.disableMask(),function(t){st.forEach((function(e,n){!t.find((function(t){return t===e}))&&ng(e)&&(Array.from(lt.values()).includes(e)||(st.delete(n),Y.textureDelete(e)))}))}(Et),P(),bt=!1},$t=0,St=function t(){clearTimeout(ct);var e=Date.now();e-$t<48?ct=setTimeout(t,48):($t=e,kt())};Th((function(){return i()})),Ih((function(){return n(29,Y=Sm(l,{alpha:v}))})),Dh((function(){Y&&(Y.release(),n(29,Y=void 0),n(0,l=void 0))}));return t.$$set=function(t){"isAnimated"in t&&n(9,p=t.isAnimated),"isTransparent"in t&&n(10,v=t.isTransparent),"maskRect"in t&&n(11,m=t.maskRect),"maskOpacity"in t&&n(12,y=t.maskOpacity),"maskFrameOpacity"in t&&n(13,w=t.maskFrameOpacity),"maskMarkupOpacity"in t&&n(14,_=t.maskMarkupOpacity),"clipAnnotationsToImage"in t&&n(15,E=t.clipAnnotationsToImage),"pixelRatio"in t&&n(16,$=t.pixelRatio),"textPixelRatio"in t&&n(17,A=t.textPixelRatio),"backgroundColor"in t&&n(18,O=t.backgroundColor),"willRender"in t&&n(19,M=t.willRender),"didRender"in t&&n(20,P=t.didRender),"willRequest"in t&&n(21,T=t.willRequest),"loadImageData"in t&&n(22,B=t.loadImageData),"enableGrid"in t&&n(23,N=t.enableGrid),"gridColors"in t&&n(24,z=t.gridColors),"gridSize"in t&&n(25,H=t.gridSize),"gridOpacity"in t&&n(26,U=t.gridOpacity),"images"in t&&n(27,W=t.images),"interfaceImages"in t&&n(28,X=t.interfaceImages)},t.$$.update=function(){if(1&t.$$.dirty[0]&&l){var e=getComputedStyle(l).getPropertyValue("--color-transition-duration");n(30,(o=e,a=parseFloat(o),et=/^[0-9]+s$/.test(o)?1e3*a:a))}var o,a;1074004480&t.$$.dirty[0]&&O&&nt.set(O,{duration:p?et:0}),4096&t.$$.dirty[0]&&Q(rt,Wl(y)?y:1),8192&t.$$.dirty[0]&&Q(it,Wl(w)?w:1),2048&t.$$.dirty[0]&&m&&ot.set(m),12&t.$$.dirty[1]&&s&&at.set([s[0],s[1],s[2],Gp(c,0,1)]),671088646&t.$$.dirty[0]&&n(32,r=!!(Y&&q&&J&&W.length)),536936454&t.$$.dirty[0]&&q&&J&&Y&&($t=0,Y.resize(q,J,$)),2&t.$$.dirty[1]&&n(31,i=r?eg()?St:kt:Ec),3&t.$$.dirty[1]&&r&&i&&i()},[l,q,J,h,nt,rt,it,ot,at,p,v,m,y,w,_,E,$,A,O,M,P,T,B,N,z,H,U,W,X,Y,et,i,r,c,s,function(t){Zh[t?"unshift":"push"]((function(){n(0,l=t)}))},function(t){n(1,q=t.detail.width),n(2,J=t.detail.height),h("measure",{width:q,height:J})}]}var og=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,ig,rg,Vf,{isAnimated:9,isTransparent:10,maskRect:11,maskOpacity:12,maskFrameOpacity:13,maskMarkupOpacity:14,clipAnnotationsToImage:15,pixelRatio:16,textPixelRatio:17,backgroundColor:18,willRender:19,didRender:20,willRequest:21,loadImageData:22,enableGrid:23,gridColors:24,gridSize:25,gridOpacity:26,images:27,interfaceImages:28},null,[-1,-1,-1]),n}return lc(e,t),e}(_p),ag=function(t,e,n){return void 0===e&&(e=Boolean),void 0===n&&(n=" "),t.filter(e).join(n)};function cg(t,e,n){var r=t.slice();return r[17]=e[n],r}var ug=function(t){return{tab:4&t}},sg=function(t){return{tab:t[17]}};function lg(t){for(var e,n,r,i=[],o=new Map,a=t[2],c=function(t){return t[17].id},u=0;u<a.length;u+=1){var s=cg(t,a,u),l=c(s);o.set(l,i[u]=dg(l,s))}return{c:function(){e=ph("ul");for(var r=0;r<i.length;r+=1)i[r].c();xh(e,"class",n=ag(["PinturaTabList",t[0]])),xh(e,"role","tablist"),xh(e,"data-layout",t[1])},m:function(n,o){fh(n,e,o);for(var a=0;a<i.length;a+=1)i[a].m(e,null);t[14](e),r=!0},p:function(t,u){1124&u&&(a=t[2],op(),i=pp(i,u,c,1,t,a,o,e,hp,dg,null,cg),ap()),(!r||1&u&&n!==(n=ag(["PinturaTabList",t[0]])))&&xh(e,"class",n),(!r||2&u)&&xh(e,"data-layout",t[1])},i:function(t){if(!r){for(var e=0;e<a.length;e+=1)cp(i[e]);r=!0}},o:function(t){for(var e=0;e<i.length;e+=1)up(i[e]);r=!1},d:function(n){n&&hh(e);for(var r=0;r<i.length;r+=1)i[r].d();t[14](null)}}}function dg(t,e){var n,r,i,o,a,c,u,s,l,d,f=e[11].default,h=Kf(f,e,e[10],sg);function p(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e)[12].apply(t,[e[17]].concat(r))}function v(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e)[13].apply(t,[e[17]].concat(r))}return{key:t,first:null,c:function(){n=ph("li"),r=ph("button"),h&&h.c(),o=gh(),xh(r,"type","button"),r.disabled=i=e[17].disabled,xh(n,"role","tab"),xh(n,"aria-controls",a=e[17].href.substr(1)),xh(n,"id",c=e[17].tabId),xh(n,"aria-selected",u=e[17].selected),this.first=n},m:function(t,e){fh(t,n,e),sh(n,r),h&&h.m(r,null),sh(n,o),s=!0,l||(d=[bh(r,"keydown",p),bh(r,"click",v)],l=!0)},p:function(t,o){e=t,h&&h.p&&(!s||1028&o)&&qf(h,f,e,e[10],s?Yf(f,e[10],o,ug):Jf(e[10]),sg),(!s||4&o&&i!==(i=e[17].disabled))&&(r.disabled=i),(!s||4&o&&a!==(a=e[17].href.substr(1)))&&xh(n,"aria-controls",a),(!s||4&o&&c!==(c=e[17].tabId))&&xh(n,"id",c),(!s||4&o&&u!==(u=e[17].selected))&&xh(n,"aria-selected",u)},i:function(t){s||(cp(h,t),s=!0)},o:function(t){up(h,t),s=!1},d:function(t){t&&hh(n),h&&h.d(t),l=!1,Zf(d)}}}function fg(t){var e,n,r=t[4]&&lg(t);return{c:function(){r&&r.c(),e=yh()},m:function(t,i){r&&r.m(t,i),fh(t,e,i),n=!0},p:function(t,n){var i=n[0];t[4]?r?(r.p(t,i),16&i&&cp(r,1)):((r=lg(t)).c(),cp(r,1),r.m(e.parentNode,e)):r&&(op(),up(r,1,1,(function(){r=null})),ap())},i:function(t){n||(cp(r),n=!0)},o:function(t){up(r),n=!1},d:function(t){r&&r.d(t),t&&hh(e)}}}function hg(t,e,n){var r,i,o,a=e.$$slots,c=void 0===a?{}:a,u=e.$$scope,s=e.class,l=void 0===s?void 0:s,d=e.name,f=e.selected,h=e.tabs,p=void 0===h?[]:h,v=e.layout,m=void 0===v?void 0:v,g=Bh(),y=function(t){var e=o.querySelectorAll('[role="tab"] button')[t];e&&e.focus()},b=function(t,e){t.preventDefault(),t.stopPropagation(),g("select",e)},w=function(t,e){var n=t.key;if(/arrow/i.test(n)){var r=p.findIndex((function(t){return t.id===e}));return/right|down/i.test(n)?y(r<p.length-1?r+1:0):/left|up/i.test(n)?y(r>0?r-1:p.length-1):void 0}};return t.$$set=function(t){"class"in t&&n(0,l=t.class),"name"in t&&n(7,d=t.name),"selected"in t&&n(8,f=t.selected),"tabs"in t&&n(9,p=t.tabs),"layout"in t&&n(1,m=t.layout),"$$scope"in t&&n(10,u=t.$$scope)},t.$$.update=function(){896&t.$$.dirty&&n(2,r=p.map((function(t){var e=t.id===f;return Object.assign({},t,{tabId:"tab-"+d+"-"+t.id,href:"#panel-"+d+"-"+t.id,selected:e})}))),4&t.$$.dirty&&n(4,i=r.length>1)},[l,m,r,o,i,b,w,d,f,p,u,c,function(t,e){return w(e,t.id)},function(t,e){return b(e,t.id)},function(t){Zh[t?"unshift":"push"]((function(){n(3,o=t)}))}]}var pg=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,hg,fg,Vf,{class:0,name:7,selected:8,tabs:9,layout:1}),n}return lc(e,t),e}(_p),vg=function(t){return{panel:16&t}},mg=function(t){return{panel:t[4][0].id,panelIsActive:!0}};function gg(t,e,n){var r=t.slice();return r[14]=e[n].id,r[15]=e[n].shouldDraw,r[16]=e[n].panelId,r[17]=e[n].tabindex,r[18]=e[n].labelledBy,r[19]=e[n].isActive,r[20]=e[n].hidden,r[3]=e[n].visible,r}var yg=function(t){return{panel:16&t,panelIsActive:16&t}},bg=function(t){return{panel:t[14],panelIsActive:t[19]}};function wg(t){var e,n,r,i,o,a,c=t[11].default,u=Kf(c,t,t[10],mg);return{c:function(){e=ph("div"),n=ph("div"),u&&u.c(),xh(n,"class",r=ag([t[1]])),xh(e,"class",t[0]),xh(e,"style",t[2])},m:function(r,c){fh(r,e,c),sh(e,n),u&&u.m(n,null),i=!0,o||(a=[bh(e,"measure",t[13]),nh(Xm.call(null,e))],o=!0)},p:function(t,o){u&&u.p&&(!i||1040&o)&&qf(u,c,t,t[10],i?Yf(c,t[10],o,vg):Jf(t[10]),mg),(!i||2&o&&r!==(r=ag([t[1]])))&&xh(n,"class",r),(!i||1&o)&&xh(e,"class",t[0]),(!i||4&o)&&xh(e,"style",t[2])},i:function(t){i||(cp(u,t),i=!0)},o:function(t){up(u,t),i=!1},d:function(t){t&&hh(e),u&&u.d(t),o=!1,Zf(a)}}}function xg(t){for(var e,n,r,i,o,a=[],c=new Map,u=t[4],s=function(t){return t[14]},l=0;l<u.length;l+=1){var d=gg(t,u,l),f=s(d);c.set(f,a[l]=Cg(f,d))}return{c:function(){e=ph("div");for(var r=0;r<a.length;r+=1)a[r].c();xh(e,"class",n=ag(["PinturaTabPanels",t[0]])),xh(e,"style",t[2])},m:function(n,c){fh(n,e,c);for(var u=0;u<a.length;u+=1)a[u].m(e,null);r=!0,i||(o=[bh(e,"measure",t[12]),nh(Xm.call(null,e,{observePosition:!0}))],i=!0)},p:function(t,i){1042&i&&(u=t[4],op(),a=pp(a,i,s,1,t,u,c,e,hp,Cg,null,gg),ap()),(!r||1&i&&n!==(n=ag(["PinturaTabPanels",t[0]])))&&xh(e,"class",n),(!r||4&i)&&xh(e,"style",t[2])},i:function(t){if(!r){for(var e=0;e<u.length;e+=1)cp(a[e]);r=!0}},o:function(t){for(var e=0;e<a.length;e+=1)up(a[e]);r=!1},d:function(t){t&&hh(e);for(var n=0;n<a.length;n+=1)a[n].d();i=!1,Zf(o)}}}function _g(t){var e,n=t[11].default,r=Kf(n,t,t[10],bg);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||1040&i)&&qf(r,n,t,t[10],e?Yf(n,t[10],i,yg):Jf(t[10]),bg)},i:function(t){e||(cp(r,t),e=!0)},o:function(t){up(r,t),e=!1},d:function(t){r&&r.d(t)}}}function Cg(t,e){var n,r,i,o,a,c,u,s,l,d=e[15]&&_g(e);return{key:t,first:null,c:function(){n=ph("div"),d&&d.c(),r=gh(),xh(n,"class",i=ag(["PinturaTabPanel",e[1]])),n.hidden=o=e[20],xh(n,"id",a=e[16]),xh(n,"tabindex",c=e[17]),xh(n,"aria-labelledby",u=e[18]),xh(n,"data-inert",s=!e[3]),this.first=n},m:function(t,e){fh(t,n,e),d&&d.m(n,null),sh(n,r),l=!0},p:function(t,f){(e=t)[15]?d?(d.p(e,f),16&f&&cp(d,1)):((d=_g(e)).c(),cp(d,1),d.m(n,r)):d&&(op(),up(d,1,1,(function(){d=null})),ap()),(!l||2&f&&i!==(i=ag(["PinturaTabPanel",e[1]])))&&xh(n,"class",i),(!l||16&f&&o!==(o=e[20]))&&(n.hidden=o),(!l||16&f&&a!==(a=e[16]))&&xh(n,"id",a),(!l||16&f&&c!==(c=e[17]))&&xh(n,"tabindex",c),(!l||16&f&&u!==(u=e[18]))&&xh(n,"aria-labelledby",u),(!l||16&f&&s!==(s=!e[3]))&&xh(n,"data-inert",s)},i:function(t){l||(cp(d),l=!0)},o:function(t){up(d),l=!1},d:function(t){t&&hh(n),d&&d.d()}}}function Eg(t){var e,n,r,i,o=[xg,wg],a=[];function c(t,e){return t[5]?0:1}return e=c(t),n=a[e]=o[e](t),{c:function(){n.c(),r=yh()},m:function(t,n){a[e].m(t,n),fh(t,r,n),i=!0},p:function(t,i){var u=i[0],s=e;(e=c(t))===s?a[e].p(t,u):(op(),up(a[s],1,1,(function(){a[s]=null})),ap(),(n=a[e])?n.p(t,u):(n=a[e]=o[e](t)).c(),cp(n,1),n.m(r.parentNode,r))},i:function(t){i||(cp(n),i=!0)},o:function(t){up(n),i=!1},d:function(t){a[e].d(t),t&&hh(r)}}}function kg(t,e,n){var r,i,o=e.$$slots,a=void 0===o?{}:o,c=e.$$scope,u=e.class,s=void 0===u?void 0:u,l=e.name,d=e.selected,f=e.panelClass,h=void 0===f?void 0:f,p=e.panels,v=void 0===p?[]:p,m=e.visible,g=void 0===m?void 0:m,y=e.style,b=void 0===y?void 0:y,w={};return t.$$set=function(t){"class"in t&&n(0,s=t.class),"name"in t&&n(6,l=t.name),"selected"in t&&n(7,d=t.selected),"panelClass"in t&&n(1,h=t.panelClass),"panels"in t&&n(8,v=t.panels),"visible"in t&&n(3,g=t.visible),"style"in t&&n(2,b=t.style),"$$scope"in t&&n(10,c=t.$$scope)},t.$$.update=function(){968&t.$$.dirty&&n(4,r=v.map((function(t){var e=t===d;e&&n(9,w[t]=!0,w);var r=g?-1!==g.indexOf(t):e;return{id:t,panelId:"panel-"+l+"-"+t,labelledBy:"tab-"+l+"-"+t,isActive:e,hidden:!e,visible:r,tabindex:e?0:-1,shouldDraw:e||w[t]}}))),16&t.$$.dirty&&n(5,i=r.length>1)},[s,h,b,g,r,i,l,d,v,w,c,a,function(e){Fh.call(this,t,e)},function(e){Fh.call(this,t,e)}]}var $g=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,kg,Eg,Vf,{class:0,name:6,selected:7,panelClass:1,panels:8,visible:3,style:2}),n}return lc(e,t),e}(_p),Sg=function(t){var e=Object.getOwnPropertyDescriptors(t.prototype);return Object.keys(e).filter((function(t){return!!e[t].get}))};function Ag(t){var e,n,r,i,o=[t[4]];function a(e){t[22](e)}var c=t[10];function u(t){for(var e={},n=0;n<o.length;n+=1)e=Nf(e,o[n]);return void 0!==t[2]&&(e.name=t[2]),{props:e}}return c&&(e=$h(c,u(t)),Zh.push((function(){return gp(e,"name",a)})),t[23](e),e.$on("measure",t[11])),{c:function(){e&&yp(e.$$.fragment),r=yh()},m:function(t,n){e&&bp(e,t,n),fh(t,r,n),i=!0},p:function(t,i){var s=16&i[0]?vp(o,[mp(t[4])]):{};if(!n&&4&i[0]&&(n=!0,s.name=t[2],Yh((function(){return n=!1}))),c!==(c=t[10])){if(e){op();var l=e;up(l.$$.fragment,1,0,(function(){wp(l,1)})),ap()}c?(e=$h(c,u(t)),Zh.push((function(){return gp(e,"name",a)})),t[23](e),e.$on("measure",t[11]),yp(e.$$.fragment),cp(e.$$.fragment,1),bp(e,r.parentNode,r)):e=null}else c&&e.$set(s)},i:function(t){i||(e&&cp(e.$$.fragment,t),i=!0)},o:function(t){e&&up(e.$$.fragment,t),i=!1},d:function(n){t[23](null),n&&hh(r),e&&wp(e,n)}}}function Og(t){var e,n,r,i=t[5]&&Ag(t);return{c:function(){e=ph("div"),i&&i.c(),xh(e,"data-util",t[2]),xh(e,"class",n=ag(["PinturaUtilPanel",t[1]])),xh(e,"style",t[6])},m:function(n,o){fh(n,e,o),i&&i.m(e,null),t[24](e),r=!0},p:function(t,o){t[5]?i?(i.p(t,o),32&o[0]&&cp(i,1)):((i=Ag(t)).c(),cp(i,1),i.m(e,null)):i&&(op(),up(i,1,1,(function(){i=null})),ap()),(!r||4&o[0])&&xh(e,"data-util",t[2]),(!r||2&o[0]&&n!==(n=ag(["PinturaUtilPanel",t[1]])))&&xh(e,"class",n),(!r||64&o[0])&&xh(e,"style",t[6])},i:function(t){r||(cp(i),r=!0)},o:function(t){up(i),r=!1},d:function(n){n&&hh(e),i&&i.d(),t[24](null)}}}function Lg(t,e,n){var r,i,o,a,c,u,s,l=Bh(),d=e.isActive,f=void 0===d||d,h=e.stores,p=e.content,v=e.component,m=e.locale,g=e.class,y=void 0===g?void 0:g,b=Nh("isAnimated");Wf(t,b,(function(t){return n(21,u=t)}));var w=Pm(0),x=$p(w,(function(t){return Gp(t,0,1)}));Wf(t,x,(function(t){return n(20,c=t)}));var _=!f,C=kp(f);Wf(t,C,(function(t){return n(25,a=t)}));var E,k,$={isActive:$p(C,function(){var t=gc(vc().mark((function t(e,n){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",n(e));case 2:return t.next=4,Kh();case 4:n(e);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),isActiveFraction:$p(x,(function(t){return t})),isVisible:$p(x,(function(t){return t>0}))},S=p.view,A=Sg(S),O=Object.keys(p.props||{}).reduce((function(t,e){return A.includes(e)?(t[e]=p.props[e],t):t}),{}),L=Object.keys($).reduce((function(t,e){return A.includes(e)?(t[e]=$[e],t):t}),{}),M=function(t){n(17,s=Object.assign({},t.detail)),P&&f&&l("measure",Object.assign({},s))};jh("measurable",Xm);var R=Ph().$$.context,P=!1;return Ih((function(){if(n(19,P=!0),!o){n(0,v=new S({target:k,props:Object.assign({},i),context:R})),n(2,E=v.name);var t=v.$on("measure",M);return function(){t(),v.$destroy()}}})),t.$$set=function(t){"isActive"in t&&n(12,f=t.isActive),"stores"in t&&n(13,h=t.stores),"content"in t&&n(14,p=t.content),"component"in t&&n(0,v=t.component),"locale"in t&&n(15,m=t.locale),"class"in t&&n(1,y=t.class)},t.$$.update=function(){135169&t.$$.dirty[0]&&s&&f&&v&&l("measure",s),2101248&t.$$.dirty[0]&&w.set(f?1:0,{hard:!1===u}),1310720&t.$$.dirty[0]&&(c<=0&&!_?n(18,_=!0):c>0&&_&&n(18,_=!1)),786432&t.$$.dirty[0]&&P&&l(_?"hide":"show"),1048576&t.$$.dirty[0]&&l("fade",c),1048576&t.$$.dirty[0]&&n(6,r=c<1?"opacity: "+c:void 0),4096&t.$$.dirty[0]&&eh(C,a=f,a),40960&t.$$.dirty[0]&&n(4,i=Object.assign({},O,L,{stores:h,locale:m}))},n(5,o=!A.includes("external")),[v,y,E,k,i,o,r,b,x,C,S,M,f,h,p,m,w,s,_,P,c,u,function(t){n(2,E=t)},function(t){Zh[t?"unshift":"push"]((function(){n(0,v=t)}))},function(t){Zh[t?"unshift":"push"]((function(){n(3,k=t)}))}]}var Mg=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Lg,Og,Vf,{isActive:12,stores:13,content:14,component:0,locale:15,class:1,opacity:16},null,[-1,-1]),n}return lc(e,t),ac(e,[{key:"opacity",get:function(){return this.$$.ctx[16]}}]),e}(_p);function Rg(t){var e,n,r,i=t[5].default,o=Kf(i,t,t[4],null);return{c:function(){e=vh("svg"),o&&o.c(),xh(e,"class",t[3]),xh(e,"style",t[2]),xh(e,"width",t[0]),xh(e,"height",t[1]),xh(e,"viewBox",n="0 0 "+t[0]+"\n    "+t[1]),xh(e,"xmlns","http://www.w3.org/2000/svg"),xh(e,"aria-hidden","true"),xh(e,"focusable","false"),xh(e,"stroke-linecap","round"),xh(e,"stroke-linejoin","round")},m:function(t,n){fh(t,e,n),o&&o.m(e,null),r=!0},p:function(t,a){var c=a[0];o&&o.p&&(!r||16&c)&&qf(o,i,t,t[4],r?Yf(i,t[4],c,null):Jf(t[4]),null),(!r||8&c)&&xh(e,"class",t[3]),(!r||4&c)&&xh(e,"style",t[2]),(!r||1&c)&&xh(e,"width",t[0]),(!r||2&c)&&xh(e,"height",t[1]),(!r||3&c&&n!==(n="0 0 "+t[0]+"\n    "+t[1]))&&xh(e,"viewBox",n)},i:function(t){r||(cp(o,t),r=!0)},o:function(t){up(o,t),r=!1},d:function(t){t&&hh(e),o&&o.d(t)}}}function Pg(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.width,c=void 0===a?24:a,u=e.height,s=void 0===u?24:u,l=e.style,d=void 0===l?void 0:l,f=e.class,h=void 0===f?void 0:f;return t.$$set=function(t){"width"in t&&n(0,c=t.width),"height"in t&&n(1,s=t.height),"style"in t&&n(2,d=t.style),"class"in t&&n(3,h=t.class),"$$scope"in t&&n(4,o=t.$$scope)},[c,s,d,h,o,i]}var Ig=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Pg,Rg,Vf,{width:0,height:1,style:2,class:3}),n}return lc(e,t),e}(_p),Tg=function(t,e){return e===t.target||e.contains(t.target)},Dg=function(t,e,n){return(Wc(e)?e:t)+(n?" ("+(n.map((function(t){return"CMD"===t?$l()?"":"Ctrl":t})).join("+")+")"):"")};function Bg(t){var e,n;return e=new Ig({props:{class:"PinturaButtonIcon",$$slots:{default:[jg]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};536870920&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function jg(t){var e;return{c:function(){e=vh("g")},m:function(n,r){fh(n,e,r),e.innerHTML=t[3]},p:function(t,n){8&n&&(e.innerHTML=t[3])},d:function(t){t&&hh(e)}}}function Ng(t){var e;return{c:function(){xh(e=ph("span"),"class",t[11])},m:function(n,r){fh(n,e,r),e.innerHTML=t[0]},p:function(t,n){1&n&&(e.innerHTML=t[0]),2048&n&&xh(e,"class",t[11])},d:function(t){t&&hh(e)}}}function Fg(t){var e,n,r,i,o,a=t[27].default,c=Kf(a,t,t[29],null),u=c||function(t){var e,n,r,i=t[3]&&Bg(t),o=t[0]&&Ng(t);return{c:function(){e=ph("span"),i&&i.c(),n=gh(),o&&o.c(),xh(e,"class",t[13])},m:function(t,a){fh(t,e,a),i&&i.m(e,null),sh(e,n),o&&o.m(e,null),r=!0},p:function(t,a){t[3]?i?(i.p(t,a),8&a&&cp(i,1)):((i=Bg(t)).c(),cp(i,1),i.m(e,n)):i&&(op(),up(i,1,1,(function(){i=null})),ap()),t[0]?o?o.p(t,a):((o=Ng(t)).c(),o.m(e,null)):o&&(o.d(1),o=null),(!r||8192&a)&&xh(e,"class",t[13])},i:function(t){r||(cp(i),r=!0)},o:function(t){up(i),r=!1},d:function(t){t&&hh(e),i&&i.d(),o&&o.d()}}}(t);return{c:function(){e=ph("button"),u&&u.c(),xh(e,"type",t[6]),xh(e,"style",t[4]),e.disabled=t[5],xh(e,"class",t[12]),xh(e,"title",n=Dg(t[0],t[1],t[2]))},m:function(n,a){fh(n,e,a),u&&u.m(e,null),t[28](e),r=!0,i||(o=[bh(e,"keydown",(function(){Hf(t[8])&&t[8].apply(this,arguments)})),bh(e,"click",(function(){Hf(t[7])&&t[7].apply(this,arguments)})),bh(e,"pointerdown",(function(){Hf(t[14])&&t[14].apply(this,arguments)})),nh(t[9].call(null,e))],i=!0)},p:function(i,o){var s=o[0];t=i,c?c.p&&(!r||536870912&s)&&qf(c,a,t,t[29],r?Yf(a,t[29],s,null):Jf(t[29]),null):u&&u.p&&(!r||10249&s)&&u.p(t,r?s:-1),(!r||64&s)&&xh(e,"type",t[6]),(!r||16&s)&&xh(e,"style",t[4]),(!r||32&s)&&(e.disabled=t[5]),(!r||4096&s)&&xh(e,"class",t[12]),(!r||7&s&&n!==(n=Dg(t[0],t[1],t[2])))&&xh(e,"title",n)},i:function(t){r||(cp(u,t),r=!0)},o:function(t){up(u,t),r=!1},d:function(n){n&&hh(e),u&&u.d(n),t[28](null),i=!1,Zf(o)}}}function zg(t,e,n){var r,i,o,a,c,u,s,l=e.$$slots,d=void 0===l?{}:l,f=e.$$scope,h=e.class,p=void 0===h?void 0:h,v=e.label,m=void 0===v?void 0:v,g=e.title,y=void 0===g?void 0:g,b=e.shortcut,w=void 0===b?void 0:b,x=e.labelClass,_=void 0===x?void 0:x,C=e.innerClass,E=void 0===C?void 0:C,k=e.hideLabel,$=void 0!==k&&k,S=e.icon,A=void 0===S?void 0:S,O=e.style,L=void 0===O?void 0:O,M=e.disabled,R=void 0===M?void 0:M,P=e.type,I=void 0===P?"button":P,T=e.onclick,D=void 0===T?void 0:T,B=e.onkeydown,j=void 0===B?void 0:B,N=e.onhold,F=void 0===N?void 0:N,z=e.action,Z=void 0===z?function(){}:z,H=e.holdThreshold,V=void 0===H?500:H,U=e.holdSpeedUpFactor,G=void 0===U?.5:U,W=e.holdSpeedMin,K=void 0===W?20:W,X=function t(e){n(25,u=setTimeout((function(){F(),t(Math.max(e*G,K))}),e))};return t.$$set=function(t){"class"in t&&n(15,p=t.class),"label"in t&&n(0,m=t.label),"title"in t&&n(1,y=t.title),"shortcut"in t&&n(2,w=t.shortcut),"labelClass"in t&&n(16,_=t.labelClass),"innerClass"in t&&n(17,E=t.innerClass),"hideLabel"in t&&n(18,$=t.hideLabel),"icon"in t&&n(3,A=t.icon),"style"in t&&n(4,L=t.style),"disabled"in t&&n(5,R=t.disabled),"type"in t&&n(6,I=t.type),"onclick"in t&&n(7,D=t.onclick),"onkeydown"in t&&n(8,j=t.onkeydown),"onhold"in t&&n(19,F=t.onhold),"action"in t&&n(9,Z=t.action),"holdThreshold"in t&&n(20,V=t.holdThreshold),"holdSpeedUpFactor"in t&&n(21,G=t.holdSpeedUpFactor),"holdSpeedMin"in t&&n(22,K=t.holdSpeedMin),"$$scope"in t&&n(29,f=t.$$scope)},t.$$.update=function(){101187584&t.$$.dirty&&n(26,i=F?function(){u&&(clearTimeout(u),n(25,u=void 0),document.documentElement.removeEventListener("pointerup",i))}:Bf),68681728&t.$$.dirty&&n(14,r=F?function(){document.documentElement.addEventListener("pointerup",i),X(V)}:Bf),131072&t.$$.dirty&&n(13,o=ag(["PinturaButtonInner",E])),294912&t.$$.dirty&&n(12,a=ag(["PinturaButton",$&&"PinturaButtonIconOnly",p])),327680&t.$$.dirty&&n(11,c=ag([$?"implicit":"PinturaButtonLabel",_]))},[m,y,w,A,L,R,I,D,j,Z,s,c,a,o,r,p,_,E,$,F,V,G,K,function(t){return Tg(t,s)},function(){return s},u,i,d,function(t){Zh[t?"unshift":"push"]((function(){n(10,s=t)}))},f]}var Zg=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,zg,Fg,Vf,{class:15,label:0,title:1,shortcut:2,labelClass:16,innerClass:17,hideLabel:18,icon:3,style:4,disabled:5,type:6,onclick:7,onkeydown:8,onhold:19,action:9,holdThreshold:20,holdSpeedUpFactor:21,holdSpeedMin:22,isEventTarget:23,getElement:24}),n}return lc(e,t),ac(e,[{key:"isEventTarget",get:function(){return this.$$.ctx[23]}},{key:"getElement",get:function(){return this.$$.ctx[24]}}]),e}(_p),Hg=function(t,e){var n=t.findIndex(e);if(n>=0)return t.splice(n,1)},Vg=function(t,e){void 0===e&&(e={});var n=e,r=n.inertia,i=void 0!==r&&r,o=n.inertiaDurationMultiplier,a=void 0===o?80:o,c=n.shouldStartInteraction,u=void 0===c?function(){return!0}:c,s=n.pinch,l=void 0!==s&&s,d=n.multiTouch,f=void 0===d?void 0:d,h=n.getEventPosition,p=void 0===h?function(t){return Lu(t.clientX,t.clientY)}:h;function v(e,n){t.dispatchEvent(new CustomEvent(e,{detail:n}))}function m(){w&&w(),w=void 0}var g,y,b,w,x,_,C,E,k=[],$=function(t){return 0===t.timeStamp?Date.now():t.timeStamp},S=function(t){var e=Hg(k,(function(e){return e.event.pointerId===t.pointerId}));if(e)return e[0]},A=function(){var t=Ru(k[0].position);if(k[1]){var e=.5*(k[1].position.x-t.x),n=.5*(k[1].position.y-t.y);t.x+=e,t.y+=n}return t},O=function(t){t.origin.x=t.position.x,t.origin.y=t.position.y,t.translation.x=0,t.translation.y=0},L=function(t){var e=M(t);if(e){var n=$(t),r=p(t),i=Math.max(1,n-e.timeStamp);e.velocity.x=(r.x-e.position.x)/i,e.velocity.y=(r.y-e.position.y)/i,e.velocityHistory.push(Ru(e.velocity)),e.velocityHistory=e.velocityHistory.slice(-3),e.velocityAverage=e.velocityHistory.reduce((function(t,e,n,r){return t.x+=e.x/r.length,t.y+=e.y/r.length,t}),Ou()),e.translation.x=r.x-e.origin.x,e.translation.y=r.y-e.origin.y,e.timeStamp=n,e.position.x=r.x,e.position.y=r.y,e.event=t}},M=function(t){var e=function(t){return k.findIndex((function(e){return e.event.pointerId===t.pointerId}))}(t);if(!(e<0))return k[e]},R=function(){return 1===k.length},P=function(){return 2===k.length},I=function(t){var e=Ku(t.map((function(t){return t.position}))),n=function(t,e){return t.reduce((function(t,n){return t+Gu(e,n.position)}),0)/t.length}(t,e);return{center:e,distance:n,velocity:Ku(t.map((function(t){return t.velocity}))),translation:Ku(t.map((function(t){return t.translation})))}},T=0,D=void 0;function B(e){if(!P()&&!function(t){return Wl(t.button)&&0!==t.button}(e)&&u(e,t))if(m(),function(t){var e=$(t),n={timeStamp:e,timeStampInitial:e,position:p(t),origin:p(t),velocity:Ou(),velocityHistory:[],velocityAverage:Ou(),translation:Ou(),interactionState:void 0,event:t};k.push(n),n.interactionState=I(k)}(e),R())document.documentElement.addEventListener("pointermove",N),document.documentElement.addEventListener("pointerup",F),document.documentElement.addEventListener("pointercancel",F),document.addEventListener("visibilitychange",Z),E=!1,C=1,_=Ou(),x=void 0,v("interactionstart",{origin:Ru(M(e).origin)});else if(l)E=!0,x=Gu(k[0].position,k[1].position),_.x+=k[0].translation.x,_.y+=k[0].translation.y,O(k[0]);else if(!1===f)return k.length=0,V(),v("interactioncancel")}t.addEventListener("pointerdown",B);var j=Date.now();function N(t){t.preventDefault(),L(t);var e=Ru(k[0].translation),n=C;l&&P()&&(n*=Gu(k[0].position,k[1].position)/x,Nu(e,k[1].translation));Nu(e,_);var r=Date.now();r-j<16||(j=r,v("interactionupdate",{position:A(),translation:e,scalar:l?n:void 0,isMultiTouching:P()}))}function F(t){if(M(t)){var e=A(),n=S(t);if(l&&R()){var r=Gu(k[0].position,n.position);C*=r/x,_.x+=k[0].translation.x+n.translation.x,_.y+=k[0].translation.y+n.translation.y,O(k[0])}var o=!1,c=!1;if(!E&&n){var u=performance.now(),s=u-n.timeStampInitial,d=Uu(n.translation);o=d<64&&s<300,c=!!(D&&o&&u-T<700&&Uu(D,n.position)<128),o&&(D=Ru(n.position),T=u)}if(!(k.length>0)){V();var f=Ru(n.translation),h=Ru(n.velocityAverage),p=!1;v("interactionrelease",{isTap:o,isDoubleTap:c,position:e,translation:f,scalar:C,preventInertia:function(){return p=!0}});var m=Gu(h);if(p||!i||m<.25)return H(f,{isTap:o,isDoubleTap:c});y=Ru(e),b=Ru(f),(g=Mm(Ru(f),{easing:Am,duration:m*a})).set({x:f.x+50*h.x,y:f.y+50*h.y}).then((function(){w&&H(Gf(g),{isTap:o,isDoubleTap:c})})),w=g.subscribe(z)}}}function z(t){t&&v("interactionupdate",{position:Lu(y.x+(t.x-b.x),y.y+(t.y-b.y)),translation:t,scalar:l?C:void 0})}function Z(t){if("visible"!==document.visibilityState&&k.length){var e=I(k);m(),v("interactionend",Object.assign({},e)),k.length=0,V()}}function H(t,e){m(),v("interactionend",Object.assign({},e,{translation:t,scalar:l?C:void 0}))}function V(){document.documentElement.removeEventListener("pointermove",N),document.documentElement.removeEventListener("pointerup",F),document.documentElement.removeEventListener("pointercancel",F),document.addEventListener("visibilitychange",Z)}return{destroy:function(){m(),t.removeEventListener("pointerdown",B)}}},Ug=function(t,e){void 0===e&&(e={});var n=e,r=n.direction,i=void 0===r?void 0:r,o=n.shiftMultiplier,a=void 0===o?10:o,c=n.bubbles,u=void 0!==c&&c,s=n.preventDefault,l=void 0!==s&&s,d=n.stopKeydownPropagation,f=void 0===d||d,h="horizontal"===i,p="vertical"===i,v=function(e){var n=e.key,r=e.shiftKey,i=/up|down/i.test(n),o=/left|right/i.test(n);if((o||i)&&!(h&&i||p&&o)){var c=r?a:1;f&&e.stopPropagation(),l&&e.preventDefault(),t.dispatchEvent(new CustomEvent("nudge",{bubbles:u,detail:Lu((/left/i.test(n)?-1:/right/i.test(n)?1:0)*c,(/up/i.test(n)?-1:/down/i.test(n)?1:0)*c)}))}};return t.addEventListener("keydown",v),{destroy:function(){t.removeEventListener("keydown",v)}}};function Gg(t,e){return e?e*Math.sign(t)*Math.log10(1+Math.abs(t)/e):t}var Wg=function(t,e,n){if(!e||!n)return Object.assign({},t);var r=t.x+Gg(e.x-t.x,n),i=t.x+t.width+Gg(e.x+e.width-(t.x+t.width),n),o=t.y+Gg(e.y-t.y,n);return{x:r,y:o,width:i-r,height:t.y+t.height+Gg(e.y+e.height-(t.y+t.height),n)-o}},Kg=function(t,e,n){return e&&n?Lu(t.x+Gg(e.x-t.x,n),t.y+Gg(e.y-t.y,n)):Object.assign({},t)},Xg=function(t,e){if(t)return/em/.test(t)?16*parseInt(t,10):/px/.test(t)?parseInt(t,10):void 0},Yg=function(t){var e=t.detail||0,n=t.deltaX,r=t.deltaY,i=t.wheelDelta,o=t.wheelDeltaX,a=t.wheelDeltaY;return Wl(o)&&Math.abs(o)>Math.abs(a)?e=o/-120:Wl(n)&&Math.abs(n)>Math.abs(r)?e=n/20:(i||a)&&(e=(i||a)/-120),e||(e=r/20),(cd()||ol())&&(e*=2),e};function qg(t){var e,n,r,i,o,a,c,u=t[36].default,s=Kf(u,t,t[35],null);return{c:function(){e=ph("div"),n=ph("div"),s&&s.c(),xh(n,"style",t[5]),xh(e,"class",r=ag(["PinturaScrollable",t[0]])),xh(e,"style",t[4]),xh(e,"data-direction",t[1]),xh(e,"data-state",t[6])},m:function(r,u){fh(r,e,u),sh(e,n),s&&s.m(n,null),t[38](e),o=!0,a||(c=[bh(n,"interactionstart",t[8]),bh(n,"interactionupdate",t[10]),bh(n,"interactionend",t[11]),bh(n,"interactionrelease",t[9]),nh(Vg.call(null,n,{inertia:!0})),bh(n,"measure",t[37]),nh(Xm.call(null,n)),bh(e,"wheel",t[13],{passive:!1}),bh(e,"scroll",t[15]),bh(e,"focusin",t[14]),bh(e,"nudge",t[16]),bh(e,"measure",t[12]),nh(Xm.call(null,e,{observePosition:!0})),nh(i=Ug.call(null,e,{direction:"x"===t[1]?"horizontal":"vertical",stopKeydownPropagation:!1}))],a=!0)},p:function(t,a){s&&s.p&&(!o||16&a[1])&&qf(s,u,t,t[35],o?Yf(u,t[35],a,null):Jf(t[35]),null),(!o||32&a[0])&&xh(n,"style",t[5]),(!o||1&a[0]&&r!==(r=ag(["PinturaScrollable",t[0]])))&&xh(e,"class",r),(!o||16&a[0])&&xh(e,"style",t[4]),(!o||2&a[0])&&xh(e,"data-direction",t[1]),(!o||64&a[0])&&xh(e,"data-state",t[6]),i&&Hf(i.update)&&2&a[0]&&i.update.call(null,{direction:"x"===t[1]?"horizontal":"vertical",stopKeydownPropagation:!1})},i:function(t){o||(cp(s,t),o=!0)},o:function(t){up(s,t),o=!1},d:function(n){n&&hh(e),s&&s.d(n),t[38](null),a=!1,Zf(c)}}}function Jg(t,e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v=e.$$slots,m=void 0===v?{}:v,g=e.$$scope,y=Bh(),b="idle",w=Pm(0);Wf(t,w,(function(t){return n(34,l=t)}));var x,_,C,E,k=e.class,$=void 0===k?void 0:k,S=e.scrollBlockInteractionDist,A=void 0===S?5:S,O=e.scrollStep,L=void 0===O?10:O,M=e.scrollFocusMargin,R=void 0===M?64:M,P=e.scrollDirection,I=void 0===P?"x":P,T=e.scrollAutoCancel,D=void 0!==T&&T,B=e.elasticity,j=void 0===B?0:B,N=e.onscroll,F=void 0===N?Ec:N,z=e.maskFeatherSize,Z=void 0===z?void 0:z,H=e.maskFeatherStartOpacity,V=void 0===H?void 0:H,U=e.maskFeatherEndOpacity,G=void 0===U?void 0:U,W=e.scroll,K=void 0===W?void 0:W,X="",Y=!0,q=w.subscribe((function(t){var e=Ou();e[I]=t,F(e)})),J=function(t){return Math.max(Math.min(0,t),h[r]-f[r])},Q=function(t,e){void 0===e&&(e={});var r=e,i=r.elastic,o=void 0!==i&&i,a=r.animate,c=void 0!==a&&a,u=r.preventScrollState,s=void 0!==u&&u;Math.abs(t-d)>A&&"idle"===b&&!p&&!s&&n(27,b="scrolling");var l=J(t),f=o&&j&&!p?l+Gg(t-l,j):l,h=!0;c?h=!1:Y||(h=!p),Y=!1,w.set(f,{hard:h}).then((function(t){p&&(Y=!0)}))};Dh((function(){q()}));return t.$$set=function(t){"class"in t&&n(0,$=t.class),"scrollBlockInteractionDist"in t&&n(20,A=t.scrollBlockInteractionDist),"scrollStep"in t&&n(21,L=t.scrollStep),"scrollFocusMargin"in t&&n(22,R=t.scrollFocusMargin),"scrollDirection"in t&&n(1,I=t.scrollDirection),"scrollAutoCancel"in t&&n(23,D=t.scrollAutoCancel),"elasticity"in t&&n(24,j=t.elasticity),"onscroll"in t&&n(25,F=t.onscroll),"maskFeatherSize"in t&&n(19,Z=t.maskFeatherSize),"maskFeatherStartOpacity"in t&&n(17,V=t.maskFeatherStartOpacity),"maskFeatherEndOpacity"in t&&n(18,G=t.maskFeatherEndOpacity),"scroll"in t&&n(26,K=t.scroll),"$$scope"in t&&n(35,g=t.$$scope)},t.$$.update=function(){if(2&t.$$.dirty[0]&&n(31,r="x"===I?"width":"height"),2&t.$$.dirty[0]&&n(29,i=I.toUpperCase()),8&t.$$.dirty[0]&&n(33,o=x&&getComputedStyle(x)),8&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(32,a=o&&Xg(o.getPropertyValue("--scrollable-feather-size"))),268828676&t.$$.dirty[0]|11&t.$$.dirty[1]&&null!=l&&h&&null!=a&&f){var e=-1*l/a,d=-(h[r]-f[r]-l)/a;n(17,V=Gp(1-e,0,1)),n(18,G=Gp(1-d,0,1)),n(19,Z=a),n(4,X="--scrollable-feather-start-opacity: "+V+";--scrollable-feather-end-opacity: "+G)}67108872&t.$$.dirty[0]&&x&&void 0!==K&&(Wl(K)?Q(K):Q(K.scrollOffset,K)),268435460&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(30,c=h&&f?f[r]>h[r]:void 0),1207959552&t.$$.dirty[0]&&n(6,u=ag([b,c?"overflows":void 0])),1610612736&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(5,s=c?"transform: translate"+i+"("+l+"px)":void 0)},[$,I,f,x,X,s,u,w,function(){c&&(C=!1,_=!0,E=Lu(0,0),p=!1,n(27,b="idle"),d=Gf(w))},function(t){t.detail;c&&(p=!0,n(27,b="idle"))},function(t){var e=t.detail;c&&(C||_&&(_=!1,Uu(e.translation)<.1)||(!D||"x"!==I||function(t){var e=ju(Lu(t.x-E.x,t.y-E.y),Math.abs);E=Ru(t);var n=Uu(e),r=e.x-e.y;return!(n>1&&r<-.5)}(e.translation)?Q(d+e.translation[I],{elastic:!0}):C=!0))},function(t){var e=t.detail;if(c&&!C){var n=d+e.translation[I],r=J(n);Y=!1,w.set(r).then((function(t){p&&(Y=!0)}))}},function(t){var e=t.detail;n(28,h=e),y("measure",{x:e.x,y:e.y,width:e.width,height:e.height})},function(t){if(c){t.preventDefault(),t.stopPropagation();var e=t.shiftKey,n=Yg(t)*(e?-1:1),r=Gf(w);Q(r+n*L,{animate:!0})}},function(t){if(c&&p){var e=t.target;t.target.classList.contains("implicit")&&(e=e.parentNode);var n=e["x"===I?"offsetLeft":"offsetTop"],i=n+e["x"===I?"offsetWidth":"offsetHeight"],o=Gf(w),a=R+Z;o+n<a?Q(-n+a):o+i>h[r]-a&&Q(h[r]-i-a,{animate:!0})}},function(){n(3,x["x"===I?"scrollLeft":"scrollTop"]=0,x)},function(t){var e=t.detail;if(!x.querySelector("[data-focus-visible]")){var n=-2*e[I],r=Gf(w);Q(r+n*L,{animate:!0,preventScrollState:!0})}},V,G,Z,A,L,R,D,j,F,K,b,h,i,c,r,a,o,l,g,m,function(t){return n(2,f=t.detail)},function(t){Zh[t?"unshift":"push"]((function(){n(3,x=t)}))}]}var Qg=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Jg,qg,Vf,{class:0,scrollBlockInteractionDist:20,scrollStep:21,scrollFocusMargin:22,scrollDirection:1,scrollAutoCancel:23,elasticity:24,onscroll:25,maskFeatherSize:19,maskFeatherStartOpacity:17,maskFeatherEndOpacity:18,scroll:26},null,[-1,-1]),n}return lc(e,t),e}(_p);function ty(t,e){var n=void 0===e?{}:e,r=n.delay,i=void 0===r?0:r,o=n.duration,a=void 0===o?400:o,c=n.easing,u=void 0===c?jf:c,s=+getComputedStyle(t).opacity;return{delay:i,duration:a,easing:u,css:function(t){return"opacity: "+t*s}}}function ey(t){var e,n,r,i,o;return{c:function(){xh(e=ph("span"),"class","PinturaStatusMessage")},m:function(n,a){fh(n,e,a),e.innerHTML=t[0],r=!0,i||(o=[bh(e,"measure",(function(){Hf(t[1])&&t[1].apply(this,arguments)})),nh(Xm.call(null,e))],i=!0)},p:function(n,i){var o=i[0];t=n,(!r||1&o)&&(e.innerHTML=t[0])},i:function(t){r||(Xh((function(){n||(n=lp(e,ty,{duration:500},!0)),n.run(1)})),r=!0)},o:function(t){n||(n=lp(e,ty,{duration:500},!1)),n.run(0),r=!1},d:function(t){t&&hh(e),t&&n&&n.end(),i=!1,Zf(o)}}}function ny(t,e,n){var r=e.text,i=e.onmeasure,o=void 0===i?Ec:i;return t.$$set=function(t){"text"in t&&n(0,r=t.text),"onmeasure"in t&&n(1,o=t.onmeasure)},[r,o]}var ry=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,ny,ey,Vf,{text:0,onmeasure:1}),n}return lc(e,t),e}(_p);function iy(t){var e,n,r,i,o,a,c,u;return{c:function(){e=ph("span"),n=vh("svg"),r=vh("g"),i=vh("circle"),o=vh("circle"),a=gh(),c=ph("span"),u=mh(t[3]),xh(i,"class","PinturaProgressIndicatorBar"),xh(i,"r","8.5"),xh(i,"cx","10"),xh(i,"cy","10"),xh(i,"stroke-linecap","round"),xh(i,"opacity",".25"),xh(o,"class","PinturaProgressIndicatorFill"),xh(o,"r","8.5"),xh(o,"stroke-dasharray",t[2]),xh(o,"cx","10"),xh(o,"cy","10"),xh(o,"transform","rotate(-90) translate(-20)"),xh(r,"fill","none"),xh(r,"stroke","currentColor"),xh(r,"stroke-width","2.5"),xh(r,"stroke-linecap","round"),xh(r,"opacity",t[1]),xh(n,"width","20"),xh(n,"height","20"),xh(n,"viewBox","0 0 20 20"),xh(n,"xmlns","http://www.w3.org/2000/svg"),xh(n,"aria-hidden","true"),xh(n,"focusable","false"),xh(c,"class","implicit"),xh(e,"class","PinturaProgressIndicator"),xh(e,"data-status",t[0])},m:function(t,s){fh(t,e,s),sh(e,n),sh(n,r),sh(r,i),sh(r,o),sh(e,a),sh(e,c),sh(c,u)},p:function(t,n){var i=n[0];4&i&&xh(o,"stroke-dasharray",t[2]),2&i&&xh(r,"opacity",t[1]),8&i&&Ch(u,t[3]),1&i&&xh(e,"data-status",t[0])},i:Bf,o:Bf,d:function(t){t&&hh(e)}}}function oy(t,e,n){var r,i,o,a,c,u,s=Bh(),l=e.progress,d=e.min,f=void 0===d?0:d,h=e.max,p=void 0===h?100:h,v=e.labelBusy,m=void 0===v?"Busy":v,g=Pm(0,{precision:.01}),y=Pm(0,{precision:.01});Wf(t,y,(function(t){return n(10,c=t)}));var b=$p([g],(function(t){return Gp(t,f,p)}));Wf(t,b,(function(t){return n(11,u=t)}));var w=b.subscribe((function(t){1===l&&Math.round(t)>=100&&s("complete")}));return Ih((function(){y.set(1)})),Dh((function(){w()})),t.$$set=function(t){"progress"in t&&n(6,l=t.progress),"min"in t&&n(7,f=t.min),"max"in t&&n(8,p=t.max),"labelBusy"in t&&n(9,m=t.labelBusy)},t.$$.update=function(){64&t.$$.dirty&&l&&l!==1/0&&g.set(100*l),2624&t.$$.dirty&&n(3,r=l===1/0?m:Math.round(u)+"%"),2112&t.$$.dirty&&n(2,i=l===1/0?"26.5 53":u/100*53+" 53"),1024&t.$$.dirty&&n(1,o=c),64&t.$$.dirty&&n(0,a=l===1/0?"busy":"loading")},[a,o,i,r,y,b,l,f,p,m,c,u]}var ay=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,oy,iy,Vf,{progress:6,min:7,max:8,labelBusy:9}),n}return lc(e,t),e}(_p);function cy(t){var e,n,r,i=t[5].default,o=Kf(i,t,t[4],null);return{c:function(){e=ph("span"),o&&o.c(),xh(e,"class",n="PinturaStatusAside "+t[0]),xh(e,"style",t[1])},m:function(t,n){fh(t,e,n),o&&o.m(e,null),r=!0},p:function(t,a){var c=a[0];o&&o.p&&(!r||16&c)&&qf(o,i,t,t[4],r?Yf(i,t[4],c,null):Jf(t[4]),null),(!r||1&c&&n!==(n="PinturaStatusAside "+t[0]))&&xh(e,"class",n),(!r||2&c)&&xh(e,"style",t[1])},i:function(t){r||(cp(o,t),r=!0)},o:function(t){up(o,t),r=!1},d:function(t){t&&hh(e),o&&o.d(t)}}}function uy(t,e,n){var r,i=e.$$slots,o=void 0===i?{}:i,a=e.$$scope,c=e.offset,u=void 0===c?0:c,s=e.opacity,l=void 0===s?0:s,d=e.class,f=void 0===d?void 0:d;return t.$$set=function(t){"offset"in t&&n(2,u=t.offset),"opacity"in t&&n(3,l=t.opacity),"class"in t&&n(0,f=t.class),"$$scope"in t&&n(4,a=t.$$scope)},t.$$.update=function(){12&t.$$.dirty&&n(1,r="transform:translateX("+u+"px);opacity:"+l)},[f,r,u,l,a,o]}var sy=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,uy,cy,Vf,{offset:2,opacity:3,class:0}),n}return lc(e,t),e}(_p);function ly(t){for(var e,n,r=t[3].default,i=Kf(r,t,t[2],null),o=[{for:"_"},t[1]],a={},c=0;c<o.length;c+=1)a=Nf(a,o[c]);return{c:function(){e=ph("label"),i&&i.c(),_h(e,a)},m:function(t,r){fh(t,e,r),i&&i.m(e,null),n=!0},p:function(t,c){i&&i.p&&(!n||4&c)&&qf(i,r,t,t[2],n?Yf(r,t[2],c,null):Jf(t[2]),null),_h(e,a=vp(o,[{for:"_"},2&c&&t[1]]))},i:function(t){n||(cp(i,t),n=!0)},o:function(t){up(i,t),n=!1},d:function(t){t&&hh(e),i&&i.d(t)}}}function dy(t){for(var e,n,r=t[3].default,i=Kf(r,t,t[2],null),o=[t[1]],a={},c=0;c<o.length;c+=1)a=Nf(a,o[c]);return{c:function(){e=ph("div"),i&&i.c(),_h(e,a)},m:function(t,r){fh(t,e,r),i&&i.m(e,null),n=!0},p:function(t,c){i&&i.p&&(!n||4&c)&&qf(i,r,t,t[2],n?Yf(r,t[2],c,null):Jf(t[2]),null),_h(e,a=vp(o,[2&c&&t[1]]))},i:function(t){n||(cp(i,t),n=!0)},o:function(t){up(i,t),n=!1},d:function(t){t&&hh(e),i&&i.d(t)}}}function fy(t){for(var e,n,r=t[3].default,i=Kf(r,t,t[2],null),o=[t[1]],a={},c=0;c<o.length;c+=1)a=Nf(a,o[c]);return{c:function(){e=ph("div"),i&&i.c(),_h(e,a)},m:function(t,r){fh(t,e,r),i&&i.m(e,null),n=!0},p:function(t,c){i&&i.p&&(!n||4&c)&&qf(i,r,t,t[2],n?Yf(r,t[2],c,null):Jf(t[2]),null),_h(e,a=vp(o,[2&c&&t[1]]))},i:function(t){n||(cp(i,t),n=!0)},o:function(t){up(i,t),n=!1},d:function(t){t&&hh(e),i&&i.d(t)}}}function hy(t){var e,n,r,i,o=[fy,dy,ly],a=[];function c(t,e){return"div"===t[0]?0:"span"===t[0]?1:"label"===t[0]?2:-1}return~(e=c(t))&&(n=a[e]=o[e](t)),{c:function(){n&&n.c(),r=yh()},m:function(t,n){~e&&a[e].m(t,n),fh(t,r,n),i=!0},p:function(t,i){var u=i[0],s=e;(e=c(t))===s?~e&&a[e].p(t,u):(n&&(op(),up(a[s],1,1,(function(){a[s]=null})),ap()),~e?((n=a[e])?n.p(t,u):(n=a[e]=o[e](t)).c(),cp(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){i||(cp(n),i=!0)},o:function(t){up(n),i=!1},d:function(t){~e&&a[e].d(t),t&&hh(r)}}}function py(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.name,c=void 0===a?"div":a,u=e.attributes,s=void 0===u?{}:u;return t.$$set=function(t){"name"in t&&n(0,c=t.name),"attributes"in t&&n(1,s=t.attributes),"$$scope"in t&&n(2,o=t.$$scope)},[c,s,o,i]}var vy=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,py,hy,Vf,{name:0,attributes:1}),n}return lc(e,t),e}(_p),my=function(){return Oc()&&window.devicePixelRatio||1},gy=null,yy=function(t){return null===gy&&(gy=1===my()?Math.round:function(t){return t}),gy(t)},by=function(t,e){if(void 0===e&&(e={}),t){if(e.preventScroll&&ol()){var n=document.body.scrollTop;return t.focus(),void(document.body.scrollTop=n)}t.focus(e)}},wy=function(t){return{}},xy=function(t){return{}},_y=function(t){return{}},Cy=function(t){return{}};function Ey(t){for(var e,n,r=[t[7]],i={$$slots:{default:[$y]},$$scope:{ctx:t}},o=0;o<r.length;o+=1)i=Nf(i,r[o]);return e=new Zg({props:i}),t[40](e),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var i=128&n[0]?vp(r,[mp(t[7])]):{};8192&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(n){t[40](null),wp(e,n)}}}function ky(t){for(var e,n,r=[t[7]],i={},o=0;o<r.length;o+=1)i=Nf(i,r[o]);return e=new Zg({props:i}),t[39](e),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var i=128&n[0]?vp(r,[mp(t[7])]):{};e.$set(i)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(n){t[39](null),wp(e,n)}}}function $y(t){var e,n=t[38].label,r=Kf(n,t,t[44],Cy);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||8192&i[1])&&qf(r,n,t,t[44],e?Yf(n,t[44],i,_y):Jf(t[44]),Cy)},i:function(t){e||(cp(r,t),e=!0)},o:function(t){up(r,t),e=!1},d:function(t){r&&r.d(t)}}}function Sy(t){var e,n,r,i,o,a,c,u=t[38].details,s=Kf(u,t,t[44],xy);return{c:function(){e=ph("div"),s&&s.c(),n=gh(),xh(r=ph("span"),"class","PinturaPanelTip"),xh(r,"style",t[10]),xh(e,"class",i=ag(["PinturaPanel","pintura-editor-panel",t[2]])),xh(e,"tabindex","-1"),xh(e,"style",t[11])},m:function(i,u){fh(i,e,u),s&&s.m(e,null),sh(e,n),sh(e,r),t[41](e),o=!0,a||(c=[bh(e,"close",t[42]),bh(e,"keydown",t[18]),bh(e,"measure",t[43]),nh(Xm.call(null,e))],a=!0)},p:function(t,n){s&&s.p&&(!o||8192&n[1])&&qf(s,u,t,t[44],o?Yf(u,t[44],n,wy):Jf(t[44]),xy),(!o||1024&n[0])&&xh(r,"style",t[10]),(!o||4&n[0]&&i!==(i=ag(["PinturaPanel","pintura-editor-panel",t[2]])))&&xh(e,"class",i),(!o||2048&n[0])&&xh(e,"style",t[11])},i:function(t){o||(cp(s,t),o=!0)},o:function(t){up(s,t),o=!1},d:function(n){n&&hh(e),s&&s.d(n),t[41](null),a=!1,Zf(c)}}}function Ay(t){var e,n,r,i,o,a,c,u,s,l=[ky,Ey],d=[];function f(t,e){return t[1]?0:1}n=f(t),r=d[n]=l[n](t);var h=t[6]&&Sy(t);return{c:function(){e=gh(),r.c(),i=gh(),h&&h.c(),o=gh(),a=yh()},m:function(r,l){fh(r,e,l),d[n].m(r,l),fh(r,i,l),h&&h.m(r,l),fh(r,o,l),fh(r,a,l),c=!0,u||(s=[bh(document.body,"pointerdown",(function(){Hf(t[9])&&t[9].apply(this,arguments)})),bh(document.body,"pointerup",(function(){Hf(t[8])&&t[8].apply(this,arguments)}))],u=!0)},p:function(e,a){var c=n;(n=f(t=e))===c?d[n].p(t,a):(op(),up(d[c],1,1,(function(){d[c]=null})),ap(),(r=d[n])?r.p(t,a):(r=d[n]=l[n](t)).c(),cp(r,1),r.m(i.parentNode,i)),t[6]?h?(h.p(t,a),64&a[0]&&cp(h,1)):((h=Sy(t)).c(),cp(h,1),h.m(o.parentNode,o)):h&&(op(),up(h,1,1,(function(){h=null})),ap())},i:function(t){c||(cp(r),cp(h),cp(false),c=!0)},o:function(t){up(r),up(h),up(false),c=!1},d:function(t){t&&hh(e),d[n].d(t),t&&hh(i),h&&h.d(t),t&&hh(o),t&&hh(a),u=!1,Zf(s)}}}var Oy=12;function Ly(t,e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w,x=e.$$slots,_=void 0===x?{}:x,C=e.$$scope,E=e.buttonClass,k=void 0===E?void 0:E,$=e.buttonLabel,S=void 0===$?void 0:$,A=e.panelClass,O=void 0===A?void 0:A,L=e.isActive,M=void 0!==L&&L,R=e.onshow,P=void 0===R?function(t){var e=t.panel;return by(e,{preventScroll:!0})}:R,I=e.onhide,T=void 0===I?Ec:I,D=Nh("isAnimated");Wf(t,D,(function(t){return n(37,w=t)}));var B=Nh("rootPortal");Wf(t,B,(function(t){return n(32,v=t)}));var j,N,F,z=Nh("rootRect");Wf(t,z,(function(t){return n(36,b=t)}));var Z=function(){return n(22,F=r&&r.getBoundingClientRect())},H=Ou(),V=Pm(0);Wf(t,V,(function(t){return n(34,g=t)}));var U=Ou(),G=kp({x:0,y:0});Wf(t,G,(function(t){return n(33,m=t)}));var W=Pm(-5,{stiffness:.1,damping:.35,precision:.001});Wf(t,W,(function(t){return n(35,y=t)}));var K,X,Y=function(t){return Tg(t,v)||N.isEventTarget(t)},q=!1,J=function(t){M||Z(),n(26,X=t),n(0,M=!M)},Q=function(t){/down/i.test(t.key)&&(n(0,M=!0),n(26,X=t))};Dh((function(){if(v&&K){var t=K;Kh().then((function(){t.parentNode&&t.remove()}))}}));return t.$$set=function(t){"buttonClass"in t&&n(19,k=t.buttonClass),"buttonLabel"in t&&n(1,S=t.buttonLabel),"panelClass"in t&&n(2,O=t.panelClass),"isActive"in t&&n(0,M=t.isActive),"onshow"in t&&n(20,P=t.onshow),"onhide"in t&&n(21,T=t.onhide),"$$scope"in t&&n(44,C=t.$$scope)},t.$$.update=function(){if(16&t.$$.dirty[0]&&(r=N&&N.getElement()),33554433&t.$$.dirty[0]&&n(8,h=M?function(t){q&&(n(25,q=!1),Y(t)||n(0,M=!1))}:void 0),1&t.$$.dirty[0]|64&t.$$.dirty[1]&&V.set(M?1:0,{hard:!1===w}),1&t.$$.dirty[0]|64&t.$$.dirty[1]&&W.set(M?0:-5,{hard:!1===w}),16&t.$$.dirty[1]&&n(29,i=1-y/-5),1&t.$$.dirty[0]|32&t.$$.dirty[1]&&b&&M&&Z(),4194313&t.$$.dirty[0]|32&t.$$.dirty[1]&&b&&j&&F&&M){var e=F.x-b.x+.5*F.width-.5*j.width,x=F.y-b.y+F.height,_=b.width-Oy,C=b.height-Oy,E=e,$=x,A=E+j.width,O=$+j.height;if(E<12&&(n(24,U.x=E-12,U),e=12),A>_&&(n(24,U.x=A-_,U),e=_-j.width),O>C)n(23,H.y=-1,H),12<x-j.height-F.height?(n(24,U.y=0,U),x-=j.height+F.height):(n(24,U.y=x-(O-C),U),x-=O-C);else n(23,H.y=1,H);eh(G,m=ju(Lu(e,x),yy),m)}8&t.$$.dirty[1]&&n(6,o=g>0),8&t.$$.dirty[1]&&n(31,a=g<1),8388608&t.$$.dirty[0]|20&t.$$.dirty[1]&&n(30,c="translateX("+(Math.round(m.x)+H.x*Oy)+"px) translateY("+(Math.round(m.y)+H.y*Oy+H.y*y)+"px)"),1073741824&t.$$.dirty[0]|9&t.$$.dirty[1]&&n(11,u=a?"opacity: "+g+"; pointer-events: "+(g<1?"none":"all")+"; transform: "+c+";":"transform: "+c),536870912&t.$$.dirty[0]&&n(27,s=.5+.5*i),536870912&t.$$.dirty[0]&&n(28,l=i),427819016&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(10,d=m&&j&&"opacity:"+l+";transform:scaleX("+s+")rotate(45deg);top:"+(H.y<0?U.y+j.height:0)+"px;left:"+(U.x+.5*j.width)+"px"),1&t.$$.dirty[0]&&n(9,f=M?function(t){Y(t)||n(25,q=!0)}:void 0),96&t.$$.dirty[0]|2&t.$$.dirty[1]&&o&&v&&K&&K.parentNode!==v&&v.append(K),1&t.$$.dirty[0]&&(M||n(26,X=void 0)),68157537&t.$$.dirty[0]&&M&&o&&K&&P({e:X,panel:K}),2097217&t.$$.dirty[0]&&o&&!M&&T(),524290&t.$$.dirty[0]&&n(7,p={label:S,class:ag(["PinturaPanelButton",k]),onkeydown:Q,onclick:J})},[M,S,O,j,N,K,o,p,h,f,d,u,D,B,z,V,G,W,function(t){/esc/i.test(t.key)&&(n(0,M=!1),r.focus())},k,P,T,F,H,U,q,X,s,l,i,c,a,v,m,g,y,b,w,_,function(t){Zh[t?"unshift":"push"]((function(){n(4,N=t)}))},function(t){Zh[t?"unshift":"push"]((function(){n(4,N=t)}))},function(t){Zh[t?"unshift":"push"]((function(){n(5,K=t)}))},function(t){t.stopPropagation(),n(0,M=!1)},function(t){return n(3,j=Qu(t.detail))},C]}var My=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Ly,Ay,Vf,{buttonClass:19,buttonLabel:1,panelClass:2,isActive:0,onshow:20,onhide:21},null,[-1,-1]),n}return lc(e,t),e}(_p),Ry={Up:38,Down:40,Left:37,Right:39};function Py(t){var e,n,r,i,o,a,c,u,s=t[15].default,l=Kf(s,t,t[14],null);return{c:function(){e=ph("li"),n=ph("input"),r=gh(),i=ph("label"),l&&l.c(),xh(n,"type","radio"),xh(n,"class","implicit"),xh(n,"id",t[7]),xh(n,"name",t[0]),n.value=t[3],n.disabled=t[6],n.hidden=t[5],n.checked=t[4],xh(i,"for",t[7]),xh(i,"title",t[2]),xh(e,"class",o=ag(["PinturaRadioGroupOption",t[1]])),xh(e,"data-hidden",t[5]),xh(e,"data-disabled",t[6]),xh(e,"data-selected",t[4])},m:function(o,s){fh(o,e,s),sh(e,n),sh(e,r),sh(e,i),l&&l.m(i,null),a=!0,c||(u=[bh(n,"change",wh(t[16])),bh(n,"keydown",t[9]),bh(n,"click",t[10])],c=!0)},p:function(t,r){var c=r[0];(!a||128&c)&&xh(n,"id",t[7]),(!a||1&c)&&xh(n,"name",t[0]),(!a||8&c)&&(n.value=t[3]),(!a||64&c)&&(n.disabled=t[6]),(!a||32&c)&&(n.hidden=t[5]),(!a||16&c)&&(n.checked=t[4]),l&&l.p&&(!a||16384&c)&&qf(l,s,t,t[14],a?Yf(s,t[14],c,null):Jf(t[14]),null),(!a||128&c)&&xh(i,"for",t[7]),(!a||4&c)&&xh(i,"title",t[2]),(!a||2&c&&o!==(o=ag(["PinturaRadioGroupOption",t[1]])))&&xh(e,"class",o),(!a||32&c)&&xh(e,"data-hidden",t[5]),(!a||64&c)&&xh(e,"data-disabled",t[6]),(!a||16&c)&&xh(e,"data-selected",t[4])},i:function(t){a||(cp(l,t),a=!0)},o:function(t){up(l,t),a=!1},d:function(t){t&&hh(e),l&&l.d(t),c=!1,Zf(u)}}}function Iy(t,e,n){var r,i,o=e.$$slots,a=void 0===o?{}:o,c=e.$$scope,u=e.name,s=e.class,l=void 0===s?void 0:s,d=e.label,f=e.id,h=e.value,p=e.checked,v=e.onkeydown,m=e.onclick,g=e.hidden,y=void 0!==g&&g,b=e.disabled,w=void 0!==b&&b,x=Object.values(Ry),_=Nh("keysPressed");Wf(t,_,(function(t){return n(17,i=t)}));return t.$$set=function(t){"name"in t&&n(0,u=t.name),"class"in t&&n(1,l=t.class),"label"in t&&n(2,d=t.label),"id"in t&&n(11,f=t.id),"value"in t&&n(3,h=t.value),"checked"in t&&n(4,p=t.checked),"onkeydown"in t&&n(12,v=t.onkeydown),"onclick"in t&&n(13,m=t.onclick),"hidden"in t&&n(5,y=t.hidden),"disabled"in t&&n(6,w=t.disabled),"$$scope"in t&&n(14,c=t.$$scope)},t.$$.update=function(){2049&t.$$.dirty&&n(7,r=u+"-"+f)},[u,l,d,h,p,y,w,r,_,function(t){v(t)},function(t){i.some((function(t){return x.includes(t)}))||m(t)},f,v,m,c,a,function(e){Fh.call(this,t,e)}]}var Ty=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Iy,Py,Vf,{name:0,class:1,label:2,id:11,value:3,checked:4,onkeydown:12,onclick:13,hidden:5,disabled:6}),n}return lc(e,t),e}(_p),Dy=function(t){return void 0===t&&(t=[]),t.reduce((function(t,e){return(Xl(e)?Xl(e[1]):!!e.options)?t.concat(Xl(e)?e[1]:e.options):(t.push(e),t)}),[])},By=function(t,e,n){var r;return Xl(t)?r=Object.assign({id:e,value:t[0],label:t[1]},t[2]||{}):(r=t).id=null!=r.id?r.id:e,n?n(r):r},jy=function(t,e,n){return Kc(t)?t(e,n):t},Ny=function t(e,n){return e.map((function(e){var r=e[0],i=e[1],o=e[2];if(Xl(i))return[jy(r,n),t(i,n)];var a=[r,jy(i,n)];if(o){var c=Object.assign({},o);o.icon&&(c.icon=jy(o.icon,n)),a.push(c)}return a}))},Fy=function(t,e){return Ny(t,e)},zy=function(t,e){return Array.isArray(t)&&Array.isArray(e)?qp(t,e):t===e};function Zy(t,e,n){var r=t.slice();return r[27]=e[n],r}var Hy=function(t){return{option:1024&t[0]}},Vy=function(t){return{option:t[27]}};function Uy(t,e,n){var r=t.slice();return r[27]=e[n],r}var Gy=function(t){return{option:1024&t[0]}},Wy=function(t){return{option:t[27]}},Ky=function(t){return{option:1024&t[0]}},Xy=function(t){return{option:t[27]}};function Yy(t){for(var e,n,r,i,o,a=[],c=new Map,u=t[1]&&qy(t),s=t[10],l=function(t){return t[27].id},d=0;d<s.length;d+=1){var f=Zy(t,s,d),h=l(f);c.set(h,a[d]=sb(h,f))}return{c:function(){e=ph("fieldset"),u&&u.c(),n=gh(),r=ph("ul");for(var o=0;o<a.length;o+=1)a[o].c();xh(r,"class","PinturaRadioGroupOptions"),xh(e,"class",i=ag(["PinturaRadioGroup",t[3]])),xh(e,"data-layout",t[5]),xh(e,"title",t[7])},m:function(t,i){fh(t,e,i),u&&u.m(e,null),sh(e,n),sh(e,r);for(var c=0;c<a.length;c+=1)a[c].m(r,null);o=!0},p:function(t,d){t[1]?u?u.p(t,d):((u=qy(t)).c(),u.m(e,n)):u&&(u.d(1),u=null),8419153&d[0]&&(s=t[10],op(),a=pp(a,d,l,1,t,s,c,r,hp,sb,null,Zy),ap()),(!o||8&d[0]&&i!==(i=ag(["PinturaRadioGroup",t[3]])))&&xh(e,"class",i),(!o||32&d[0])&&xh(e,"data-layout",t[5]),(!o||128&d[0])&&xh(e,"title",t[7])},i:function(t){if(!o){for(var e=0;e<s.length;e+=1)cp(a[e]);o=!0}},o:function(t){for(var e=0;e<a.length;e+=1)up(a[e]);o=!1},d:function(t){t&&hh(e),u&&u.d();for(var n=0;n<a.length;n+=1)a[n].d()}}}function qy(t){var e,n,r;return{c:function(){e=ph("legend"),n=mh(t[1]),xh(e,"class",r=t[2]&&"implicit")},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,i){2&i[0]&&Ch(n,t[1]),4&i[0]&&r!==(r=t[2]&&"implicit")&&xh(e,"class",r)},d:function(t){t&&hh(e)}}}function Jy(t){var e,n;return e=new Ty({props:{name:t[4],label:t[27].label,id:t[27].id,value:t[27].value,disabled:t[27].disabled,hidden:t[27].hidden,class:t[8],checked:t[12](t[27])===t[0],onkeydown:t[13](t[27]),onclick:t[14](t[27]),$$slots:{default:[rb]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]&&(r.name=t[4]),1024&n[0]&&(r.label=t[27].label),1024&n[0]&&(r.id=t[27].id),1024&n[0]&&(r.value=t[27].value),1024&n[0]&&(r.disabled=t[27].disabled),1024&n[0]&&(r.hidden=t[27].hidden),256&n[0]&&(r.class=t[8]),1025&n[0]&&(r.checked=t[12](t[27])===t[0]),1024&n[0]&&(r.onkeydown=t[13](t[27])),1024&n[0]&&(r.onclick=t[14](t[27])),8389696&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Qy(t){for(var e,n,r,i,o,a,c=[],u=new Map,s=t[22].group,l=Kf(s,t,t[23],Xy),d=l||function(t){var e,n,r=t[27].label+"";return{c:function(){e=ph("span"),n=mh(r),xh(e,"class","PinturaRadioGroupOptionGroupLabel")},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,e){1024&e[0]&&r!==(r=t[27].label+"")&&Ch(n,r)},d:function(t){t&&hh(e)}}}(t),f=t[27].options,h=function(t){return t[27].id},p=0;p<f.length;p+=1){var v=Uy(t,f,p),m=h(v);u.set(m,c[p]=ub(m,v))}return{c:function(){e=ph("li"),d&&d.c(),n=gh(),r=ph("ul");for(var a=0;a<c.length;a+=1)c[a].c();i=gh(),xh(r,"class","PinturaRadioGroupOptions"),xh(e,"class",o=ag(["PinturaRadioGroupOptionGroup",t[9]]))},m:function(t,o){fh(t,e,o),d&&d.m(e,null),sh(e,n),sh(e,r);for(var u=0;u<c.length;u+=1)c[u].m(r,null);sh(e,i),a=!0},p:function(t,n){l?l.p&&(!a||8389632&n[0])&&qf(l,s,t,t[23],a?Yf(s,t[23],n,Ky):Jf(t[23]),Xy):d&&d.p&&(!a||1024&n[0])&&d.p(t,a?n:[-1,-1]),8418641&n[0]&&(f=t[27].options,op(),c=pp(c,n,h,1,t,f,u,r,hp,ub,null,Uy),ap()),(!a||512&n[0]&&o!==(o=ag(["PinturaRadioGroupOptionGroup",t[9]])))&&xh(e,"class",o)},i:function(t){if(!a){cp(d,t);for(var e=0;e<f.length;e+=1)cp(c[e]);a=!0}},o:function(t){up(d,t);for(var e=0;e<c.length;e+=1)up(c[e]);a=!1},d:function(t){t&&hh(e),d&&d.d(t);for(var n=0;n<c.length;n+=1)c[n].d()}}}function tb(t){var e,n;return e=new Ig({props:{$$slots:{default:[eb]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function eb(t){var e,n=t[27].icon+"";return{c:function(){e=vh("g")},m:function(t,r){fh(t,e,r),e.innerHTML=n},p:function(t,r){1024&r[0]&&n!==(n=t[27].icon+"")&&(e.innerHTML=n)},d:function(t){t&&hh(e)}}}function nb(t){var e,n,r=t[27].label+"";return{c:function(){e=ph("span"),n=mh(r),xh(e,"class",t[6])},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,i){1024&i[0]&&r!==(r=t[27].label+"")&&Ch(n,r),64&i[0]&&xh(e,"class",t[6])},d:function(t){t&&hh(e)}}}function rb(t){var e,n=t[22].option,r=Kf(n,t,t[23],Vy),i=r||function(t){var e,n,r,i=t[27].icon&&tb(t),o=!t[27].hideLabel&&nb(t);return{c:function(){i&&i.c(),e=gh(),o&&o.c(),n=gh()},m:function(t,a){i&&i.m(t,a),fh(t,e,a),o&&o.m(t,a),fh(t,n,a),r=!0},p:function(t,r){t[27].icon?i?(i.p(t,r),1024&r[0]&&cp(i,1)):((i=tb(t)).c(),cp(i,1),i.m(e.parentNode,e)):i&&(op(),up(i,1,1,(function(){i=null})),ap()),t[27].hideLabel?o&&(o.d(1),o=null):o?o.p(t,r):((o=nb(t)).c(),o.m(n.parentNode,n))},i:function(t){r||(cp(i),r=!0)},o:function(t){up(i),r=!1},d:function(t){i&&i.d(t),t&&hh(e),o&&o.d(t),t&&hh(n)}}}(t);return{c:function(){i&&i.c()},m:function(t,n){i&&i.m(t,n),e=!0},p:function(t,o){r?r.p&&(!e||8389632&o[0])&&qf(r,n,t,t[23],e?Yf(n,t[23],o,Hy):Jf(t[23]),Vy):i&&i.p&&(!e||1088&o[0])&&i.p(t,e?o:[-1,-1])},i:function(t){e||(cp(i,t),e=!0)},o:function(t){up(i,t),e=!1},d:function(t){i&&i.d(t)}}}function ib(t){var e,n;return e=new Ig({props:{$$slots:{default:[ob]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function ob(t){var e,n=t[27].icon+"";return{c:function(){e=vh("g")},m:function(t,r){fh(t,e,r),e.innerHTML=n},p:function(t,r){1024&r[0]&&n!==(n=t[27].icon+"")&&(e.innerHTML=n)},d:function(t){t&&hh(e)}}}function ab(t){var e,n,r=t[27].label+"";return{c:function(){e=ph("span"),n=mh(r),xh(e,"class",t[6])},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,i){1024&i[0]&&r!==(r=t[27].label+"")&&Ch(n,r),64&i[0]&&xh(e,"class",t[6])},d:function(t){t&&hh(e)}}}function cb(t){var e,n=t[22].option,r=Kf(n,t,t[23],Wy),i=r||function(t){var e,n,r,i=t[27].icon&&ib(t),o=!t[27].hideLabel&&ab(t);return{c:function(){i&&i.c(),e=gh(),o&&o.c(),n=gh()},m:function(t,a){i&&i.m(t,a),fh(t,e,a),o&&o.m(t,a),fh(t,n,a),r=!0},p:function(t,r){t[27].icon?i?(i.p(t,r),1024&r[0]&&cp(i,1)):((i=ib(t)).c(),cp(i,1),i.m(e.parentNode,e)):i&&(op(),up(i,1,1,(function(){i=null})),ap()),t[27].hideLabel?o&&(o.d(1),o=null):o?o.p(t,r):((o=ab(t)).c(),o.m(n.parentNode,n))},i:function(t){r||(cp(i),r=!0)},o:function(t){up(i),r=!1},d:function(t){i&&i.d(t),t&&hh(e),o&&o.d(t),t&&hh(n)}}}(t);return{c:function(){i&&i.c()},m:function(t,n){i&&i.m(t,n),e=!0},p:function(t,o){r?r.p&&(!e||8389632&o[0])&&qf(r,n,t,t[23],e?Yf(n,t[23],o,Gy):Jf(t[23]),Wy):i&&i.p&&(!e||1088&o[0])&&i.p(t,e?o:[-1,-1])},i:function(t){e||(cp(i,t),e=!0)},o:function(t){up(i,t),e=!1},d:function(t){i&&i.d(t)}}}function ub(t,e){var n,r,i;return r=new Ty({props:{name:e[4],label:e[27].label,id:e[27].id,value:e[27].value,disabled:e[27].disabled,hidden:e[27].hidden,class:e[8],checked:e[12](e[27])===e[0],onkeydown:e[13](e[27]),onclick:e[14](e[27]),$$slots:{default:[cb]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=yh(),yp(r.$$.fragment),this.first=n},m:function(t,e){fh(t,n,e),bp(r,t,e),i=!0},p:function(t,n){e=t;var i={};16&n[0]&&(i.name=e[4]),1024&n[0]&&(i.label=e[27].label),1024&n[0]&&(i.id=e[27].id),1024&n[0]&&(i.value=e[27].value),1024&n[0]&&(i.disabled=e[27].disabled),1024&n[0]&&(i.hidden=e[27].hidden),256&n[0]&&(i.class=e[8]),1025&n[0]&&(i.checked=e[12](e[27])===e[0]),1024&n[0]&&(i.onkeydown=e[13](e[27])),1024&n[0]&&(i.onclick=e[14](e[27])),8389696&n[0]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i:function(t){i||(cp(r.$$.fragment,t),i=!0)},o:function(t){up(r.$$.fragment,t),i=!1},d:function(t){t&&hh(n),wp(r,t)}}}function sb(t,e){var n,r,i,o,a,c=[Qy,Jy],u=[];function s(t,e){return t[27].options?0:1}return r=s(e),i=u[r]=c[r](e),{key:t,first:null,c:function(){n=yh(),i.c(),o=yh(),this.first=n},m:function(t,e){fh(t,n,e),u[r].m(t,e),fh(t,o,e),a=!0},p:function(t,n){var a=r;(r=s(e=t))===a?u[r].p(e,n):(op(),up(u[a],1,1,(function(){u[a]=null})),ap(),(i=u[r])?i.p(e,n):(i=u[r]=c[r](e)).c(),cp(i,1),i.m(o.parentNode,o))},i:function(t){a||(cp(i),a=!0)},o:function(t){up(i),a=!1},d:function(t){t&&hh(n),u[r].d(t),t&&hh(o)}}}function lb(t){var e,n,r,i=t[11].length&&Yy(t);return{c:function(){i&&i.c(),e=gh(),n=yh()},m:function(t,o){i&&i.m(t,o),fh(t,e,o),fh(t,n,o),r=!0},p:function(t,n){t[11].length?i?(i.p(t,n),2048&n[0]&&cp(i,1)):((i=Yy(t)).c(),cp(i,1),i.m(e.parentNode,e)):i&&(op(),up(i,1,1,(function(){i=null})),ap())},i:function(t){r||(cp(i),cp(false),r=!0)},o:function(t){up(i),up(false),r=!1},d:function(t){i&&i.d(t),t&&hh(e),t&&hh(n)}}}function db(t,e,n){var r,i,o,a=e.$$slots,c=void 0===a?{}:a,u=e.$$scope,s=Bh(),l=e.label,d=void 0===l?void 0:l,f=e.hideLabel,h=void 0===f||f,p=e.class,v=void 0===p?void 0:p,m=e.name,g=void 0===m?"radio-group-"+Qc():m,y=e.selectedIndex,b=void 0===y?-1:y,w=e.options,x=void 0===w?[]:w,_=e.onchange,C=void 0===_?void 0:_,E=e.layout,k=void 0===E?void 0:E,$=e.optionMapper,S=void 0===$?void 0:$,A=e.optionFilter,O=void 0===A?void 0:A,L=e.value,M=void 0===L?void 0:L,R=e.optionLabelClass,P=void 0===R?void 0:R,I=e.title,T=void 0===I?void 0:I,D=e.locale,B=void 0===D?void 0:D,j=e.optionClass,N=void 0===j?void 0:j,F=e.optionGroupClass,z=void 0===F?void 0:F,Z=function(t){return o.findIndex((function(e){return e.id===t.id}))},H=function(t,e){n(0,b=Z(t));var r=Object.assign({index:b},t);!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t&&t.apply(void 0,n)}(C,r,e),s("change",r)};return t.$$set=function(t){"label"in t&&n(1,d=t.label),"hideLabel"in t&&n(2,h=t.hideLabel),"class"in t&&n(3,v=t.class),"name"in t&&n(4,g=t.name),"selectedIndex"in t&&n(0,b=t.selectedIndex),"options"in t&&n(15,x=t.options),"onchange"in t&&n(16,C=t.onchange),"layout"in t&&n(5,k=t.layout),"optionMapper"in t&&n(17,S=t.optionMapper),"optionFilter"in t&&n(18,O=t.optionFilter),"value"in t&&n(19,M=t.value),"optionLabelClass"in t&&n(6,P=t.optionLabelClass),"title"in t&&n(7,T=t.title),"locale"in t&&n(20,B=t.locale),"optionClass"in t&&n(8,N=t.optionClass),"optionGroupClass"in t&&n(9,z=t.optionGroupClass),"$$scope"in t&&n(23,u=t.$$scope)},t.$$.update=function(){1343488&t.$$.dirty[0]&&n(11,r=Fy(O?x.filter(O):x,B)),133120&t.$$.dirty[0]&&n(10,i=function(t,e){void 0===t&&(t=[]);var n=0;return t.map((function(t){return n++,Xl(t)?Xl(t[1])?{id:n,label:t[0],options:t[1].map((function(t){return By(t,++n,e)}))}:By(t,n,e):t.options?{id:t.id||n,label:t.label,options:t.options.map((function(t){return By(t,++n,e)}))}:By(t,n,e)}))}(r,S)),1024&t.$$.dirty[0]&&n(21,o=Dy(i)),2654209&t.$$.dirty[0]&&b<0&&(n(0,b=o.findIndex((function(t){return zy(t.value,M)}))),b<0&&n(0,b=function(t){return t.findIndex((function(t){return void 0===t[0]}))}(x)))},[b,d,h,v,g,k,P,T,N,z,i,r,Z,function(t){return function(e){var n;(n=e.key,/enter| /i.test(n))&&H(t,e)}},function(t){return function(e){H(t,e)}},x,C,S,O,M,B,o,c,u]}var fb=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,db,lb,Vf,{label:1,hideLabel:2,class:3,name:4,selectedIndex:0,options:15,onchange:16,layout:5,optionMapper:17,optionFilter:18,value:19,optionLabelClass:6,title:7,locale:20,optionClass:8,optionGroupClass:9},null,[-1,-1]),n}return lc(e,t),e}(_p),hb=function(t){return{}},pb=function(t){return{}};function vb(t){var e,n;return e=new Ig({props:{class:"PinturaButtonIcon",$$slots:{default:[mb]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};268435520&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function mb(t){var e;return{c:function(){e=vh("g")},m:function(n,r){fh(n,e,r),e.innerHTML=t[6]},p:function(t,n){64&n&&(e.innerHTML=t[6])},d:function(t){t&&hh(e)}}}function gb(t){var e,n,r,i,o,a,c,u=(t[2]||t[18])+"",s=t[6]&&vb(t);return{c:function(){e=ph("span"),s&&s.c(),n=gh(),xh(r=ph("span"),"class",i=ag(["PinturaButtonLabel",t[3],t[5]&&"implicit"])),xh(e,"slot","label"),xh(e,"title",o=jy(t[1],t[15])),xh(e,"class",a=ag(["PinturaButtonInner",t[4]]))},m:function(t,i){fh(t,e,i),s&&s.m(e,null),sh(e,n),sh(e,r),r.innerHTML=u,c=!0},p:function(t,l){t[6]?s?(s.p(t,l),64&l&&cp(s,1)):((s=vb(t)).c(),cp(s,1),s.m(e,n)):s&&(op(),up(s,1,1,(function(){s=null})),ap()),(!c||262148&l)&&u!==(u=(t[2]||t[18])+"")&&(r.innerHTML=u),(!c||40&l&&i!==(i=ag(["PinturaButtonLabel",t[3],t[5]&&"implicit"])))&&xh(r,"class",i),(!c||32770&l&&o!==(o=jy(t[1],t[15])))&&xh(e,"title",o),(!c||16&l&&a!==(a=ag(["PinturaButtonInner",t[4]])))&&xh(e,"class",a)},i:function(t){c||(cp(s),c=!0)},o:function(t){up(s),c=!1},d:function(t){t&&hh(e),s&&s.d()}}}function yb(t){var e,n,r=t[30].label+"";return{c:function(){e=ph("span"),n=mh(r),xh(e,"slot","group")},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,e){1073741824&e&&r!==(r=t[30].label+"")&&Ch(n,r)},d:function(t){t&&hh(e)}}}function bb(t){var e,n;return e=new Ig({props:{style:Kc(t[13])?t[13](t[30].value):t[13],$$slots:{default:[wb]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};1073750016&n&&(r.style=Kc(t[13])?t[13](t[30].value):t[13]),1342177280&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function wb(t){var e,n=t[30].icon+"";return{c:function(){e=vh("g")},m:function(t,r){fh(t,e,r),e.innerHTML=n},p:function(t,r){1073741824&r&&n!==(n=t[30].icon+"")&&(e.innerHTML=n)},d:function(t){t&&hh(e)}}}function xb(t){var e,n=t[30].sublabel+"";return{c:function(){xh(e=ph("span"),"class","PinturaDropdownOptionSublabel")},m:function(t,r){fh(t,e,r),e.innerHTML=n},p:function(t,r){1073741824&r&&n!==(n=t[30].sublabel+"")&&(e.innerHTML=n)},d:function(t){t&&hh(e)}}}function _b(t){var e,n,r,i,o,a,c,u,s=t[30].label+"",l=t[30].icon&&bb(t),d=t[30].sublabel&&xb(t);return{c:function(){e=ph("span"),l&&l.c(),n=gh(),r=ph("span"),i=new kh(!1),o=gh(),d&&d.c(),i.a=o,xh(r,"style",a=Kc(t[14])?t[14](t[30].value):t[14]),xh(r,"class",c=ag(["PinturaDropdownOptionLabel",t[10]])),xh(e,"slot","option")},m:function(t,a){fh(t,e,a),l&&l.m(e,null),sh(e,n),sh(e,r),i.m(s,r),sh(r,o),d&&d.m(r,null),u=!0},p:function(t,o){t[30].icon?l?(l.p(t,o),1073741824&o&&cp(l,1)):((l=bb(t)).c(),cp(l,1),l.m(e,n)):l&&(op(),up(l,1,1,(function(){l=null})),ap()),(!u||1073741824&o)&&s!==(s=t[30].label+"")&&i.p(s),t[30].sublabel?d?d.p(t,o):((d=xb(t)).c(),d.m(r,null)):d&&(d.d(1),d=null),(!u||1073758208&o&&a!==(a=Kc(t[14])?t[14](t[30].value):t[14]))&&xh(r,"style",a),(!u||1024&o&&c!==(c=ag(["PinturaDropdownOptionLabel",t[10]])))&&xh(r,"class",c)},i:function(t){u||(cp(l),u=!0)},o:function(t){up(l),u=!1},d:function(t){t&&hh(e),l&&l.d(),d&&d.d()}}}function Cb(t){var e,n,r,i,o,a,c=t[26].controls,u=Kf(c,t,t[28],pb);return r=new fb({props:{class:"PinturaOptionsList PinturaScrollableContent",name:t[7],value:t[9],selectedIndex:t[8],optionFilter:t[11],optionMapper:t[12],optionLabelClass:ag(["PinturaDropdownOptionLabel",t[10]]),optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:t[16],onchange:t[19],$$slots:{option:[_b,function(t){return{30:t.option}},function(t){return t.option?1073741824:0}],group:[yb,function(t){return{30:t.option}},function(t){return t.option?1073741824:0}]},$$scope:{ctx:t}}}),{c:function(){e=ph("div"),u&&u.c(),n=gh(),yp(r.$$.fragment),xh(e,"slot","details"),xh(e,"class","PinturaOptionsListWrapper")},m:function(c,s){fh(c,e,s),u&&u.m(e,null),sh(e,n),bp(r,e,null),i=!0,o||(a=bh(e,"keydown",t[21]),o=!0)},p:function(t,e){u&&u.p&&(!i||268435456&e)&&qf(u,c,t,t[28],i?Yf(c,t[28],e,hb):Jf(t[28]),pb);var n={};128&e&&(n.name=t[7]),512&e&&(n.value=t[9]),256&e&&(n.selectedIndex=t[8]),2048&e&&(n.optionFilter=t[11]),4096&e&&(n.optionMapper=t[12]),1024&e&&(n.optionLabelClass=ag(["PinturaDropdownOptionLabel",t[10]])),65536&e&&(n.options=t[16]),1342202880&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i:function(t){i||(cp(u,t),cp(r.$$.fragment,t),i=!0)},o:function(t){up(u,t),up(r.$$.fragment,t),i=!1},d:function(t){t&&hh(e),u&&u.d(t),wp(r),o=!1,a()}}}function Eb(t){var e,n,r;function i(e){t[27](e)}var o={onshow:t[20],buttonClass:ag(["PinturaDropdownButton",t[0],t[5]&&"PinturaDropdownIconOnly"]),$$slots:{details:[Cb],label:[gb]},$$scope:{ctx:t}};return void 0!==t[17]&&(o.isActive=t[17]),e=new My({props:o}),Zh.push((function(){return gp(e,"isActive",i)})),{c:function(){yp(e.$$.fragment)},m:function(t,n){bp(e,t,n),r=!0},p:function(t,r){var i=r[0],o={};33&i&&(o.buttonClass=ag(["PinturaDropdownButton",t[0],t[5]&&"PinturaDropdownIconOnly"])),268828670&i&&(o.$$scope={dirty:i,ctx:t}),!n&&131072&i&&(n=!0,o.isActive=t[17],Yh((function(){return n=!1}))),e.$set(o)},i:function(t){r||(cp(e.$$.fragment,t),r=!0)},o:function(t){up(e.$$.fragment,t),r=!1},d:function(t){wp(e,t)}}}function kb(t,e,n){var r,i,o,a=e.$$slots,c=void 0===a?{}:a,u=e.$$scope,s=e.class,l=void 0===s?void 0:s,d=e.title,f=void 0===d?void 0:d,h=e.label,p=void 0===h?void 0:h,v=e.labelClass,m=void 0===v?void 0:v,g=e.innerClass,y=void 0===g?void 0:g,b=e.hideLabel,w=void 0!==b&&b,x=e.icon,_=void 0===x?void 0:x,C=e.name,E=void 0===C?void 0:C,k=e.options,$=void 0===k?[]:k,S=e.selectedIndex,A=void 0===S?-1:S,O=e.value,L=void 0===O?void 0:O,M=e.optionLabelClass,R=void 0===M?void 0:M,P=e.optionFilter,I=void 0===P?void 0:P,T=e.optionMapper,D=void 0===T?void 0:T,B=e.optionIconStyle,j=void 0===B?void 0:B,N=e.optionLabelStyle,F=void 0===N?void 0:N,z=e.locale,Z=void 0===z?void 0:z,H=e.onchange,V=void 0===H?Ec:H,U=e.onload,G=void 0===U?Ec:U,W=e.ondestroy,K=void 0===W?Ec:W;return Ih((function(){return G({options:$})})),Dh((function(){return K({options:$})})),t.$$set=function(t){"class"in t&&n(0,l=t.class),"title"in t&&n(1,f=t.title),"label"in t&&n(2,p=t.label),"labelClass"in t&&n(3,m=t.labelClass),"innerClass"in t&&n(4,y=t.innerClass),"hideLabel"in t&&n(5,w=t.hideLabel),"icon"in t&&n(6,_=t.icon),"name"in t&&n(7,E=t.name),"options"in t&&n(22,$=t.options),"selectedIndex"in t&&n(8,A=t.selectedIndex),"value"in t&&n(9,L=t.value),"optionLabelClass"in t&&n(10,R=t.optionLabelClass),"optionFilter"in t&&n(11,I=t.optionFilter),"optionMapper"in t&&n(12,D=t.optionMapper),"optionIconStyle"in t&&n(13,j=t.optionIconStyle),"optionLabelStyle"in t&&n(14,F=t.optionLabelStyle),"locale"in t&&n(15,Z=t.locale),"onchange"in t&&n(23,V=t.onchange),"onload"in t&&n(24,G=t.onload),"ondestroy"in t&&n(25,K=t.ondestroy),"$$scope"in t&&n(28,u=t.$$scope)},t.$$.update=function(){4227072&t.$$.dirty&&n(16,r=Z?Fy($,Z):$),66048&t.$$.dirty&&n(18,i=r.reduce((function(t,e){if(t)return t;var n=Array.isArray(e)?e:[e,e],r=n[0],i=n[1];return zy(r,L)?i:void 0}),void 0)||function(t){var e=t.find((function(t){return void 0===t[0]}));if(e)return e[1]}(r)||L)},[l,f,p,m,y,w,_,E,A,L,R,I,D,j,F,Z,r,o,i,function(t){n(18,i=t.value),V(t),n(17,o=!1)},function(t){var e=t.e,n=t.panel;if(e&&e.key&&/up|down/i.test(e.key))return by(n.querySelector("input:not([disabled])"));by(n.querySelector("fieldset"))},function(t){/tab/i.test(t.key)&&t.preventDefault()},$,V,G,K,c,function(t){n(17,o=t)},u]}var $b=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,kb,Eb,Vf,{class:0,title:1,label:2,labelClass:3,innerClass:4,hideLabel:5,icon:6,name:7,options:22,selectedIndex:8,value:9,optionLabelClass:10,optionFilter:11,optionMapper:12,optionIconStyle:13,optionLabelStyle:14,locale:15,onchange:23,onload:24,ondestroy:25}),n}return lc(e,t),e}(_p);function Sb(t){var e;return{c:function(){xh(e=ph("div"),"slot","details")},m:function(n,r){fh(n,e,r),t[10](e)},p:Bf,d:function(n){n&&hh(e),t[10](null)}}}function Ab(t){var e,n,r;function i(e){t[11](e)}var o={buttonLabel:t[0],buttonClass:t[1],onshow:t[2],onhide:t[3],$$slots:{details:[Sb]},$$scope:{ctx:t}};return void 0!==t[5]&&(o.isActive=t[5]),e=new My({props:o}),Zh.push((function(){return gp(e,"isActive",i)})),{c:function(){yp(e.$$.fragment)},m:function(t,n){bp(e,t,n),r=!0},p:function(t,r){var i=r[0],o={};1&i&&(o.buttonLabel=t[0]),2&i&&(o.buttonClass=t[1]),4&i&&(o.onshow=t[2]),8&i&&(o.onhide=t[3]),4112&i&&(o.$$scope={dirty:i,ctx:t}),!n&&32&i&&(n=!0,o.isActive=t[5],Yh((function(){return n=!1}))),e.$set(o)},i:function(t){r||(cp(e.$$.fragment,t),r=!0)},o:function(t){up(e.$$.fragment,t),r=!1},d:function(t){wp(e,t)}}}function Ob(t,e,n){var r,i=e.buttonLabel,o=void 0===i?void 0:i,a=e.buttonClass,c=void 0===a?void 0:a,u=e.root,s=void 0===u?void 0:u,l=e.ondestroy,d=void 0===l?Ec:l,f=e.onshow,h=void 0===f?Ec:f,p=e.onhide,v=void 0===p?Ec:p,m=!1;return Dh(d),t.$$set=function(t){"buttonLabel"in t&&n(0,o=t.buttonLabel),"buttonClass"in t&&n(1,c=t.buttonClass),"root"in t&&n(6,s=t.root),"ondestroy"in t&&n(7,d=t.ondestroy),"onshow"in t&&n(2,h=t.onshow),"onhide"in t&&n(3,v=t.onhide)},t.$$.update=function(){80&t.$$.dirty&&r&&s&&r.firstChild!==s&&(r.hasChildNodes()?r.replaceChild(s,r.firstChild):r.append(s))},[o,c,h,v,r,m,s,d,function(){return n(5,m=!1)},function(){return n(5,m=!0)},function(t){Zh[t?"unshift":"push"]((function(){n(4,r=t)}))},function(t){n(5,m=t)}]}var Lb=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Ob,Ab,Vf,{buttonLabel:0,buttonClass:1,root:6,ondestroy:7,onshow:2,onhide:3,hide:8,show:9}),n}return lc(e,t),ac(e,[{key:"hide",get:function(){return this.$$.ctx[8]}},{key:"show",get:function(){return this.$$.ctx[9]}}]),e}(_p),Mb=function(t,e,n){return(t-e)/(n-e)},Rb=function(t){return{}},Pb=function(t){return{}};function Ib(t){var e,n,r,i,o,a,c,u;return n=new Ig({props:{$$slots:{default:[Tb]},$$scope:{ctx:t}}}),o=new Ig({props:{$$slots:{default:[Db]},$$scope:{ctx:t}}}),{c:function(){e=ph("button"),yp(n.$$.fragment),r=gh(),i=ph("button"),yp(o.$$.fragment),xh(e,"type","button"),xh(e,"aria-label","Increase"),xh(i,"type","button"),xh(i,"aria-label","Decrease")},m:function(s,l){fh(s,e,l),bp(n,e,null),fh(s,r,l),fh(s,i,l),bp(o,i,null),a=!0,c||(u=[bh(e,"pointerdown",t[20](1)),bh(i,"pointerdown",t[20](-1))],c=!0)},p:function(t,e){var r={};128&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);var i={};128&e[1]&&(i.$$scope={dirty:e,ctx:t}),o.$set(i)},i:function(t){a||(cp(n.$$.fragment,t),cp(o.$$.fragment,t),a=!0)},o:function(t){up(n.$$.fragment,t),up(o.$$.fragment,t),a=!1},d:function(t){t&&hh(e),wp(n),t&&hh(r),t&&hh(i),wp(o),c=!1,Zf(u)}}}function Tb(t){var e;return{c:function(){xh(e=vh("path"),"d","M8 12 h8 M12 8 v8")},m:function(t,n){fh(t,e,n)},p:Bf,d:function(t){t&&hh(e)}}}function Db(t){var e;return{c:function(){xh(e=vh("path"),"d","M9 12 h6")},m:function(t,n){fh(t,e,n)},p:Bf,d:function(t){t&&hh(e)}}}function Bb(t){var e,n,r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y=t[36].default,b=Kf(y,t,t[38],null),w=t[36].knob,x=Kf(w,t,t[38],Pb),_=t[9]&&Ib(t);return{c:function(){e=ph("div"),n=ph("div"),r=ph("input"),o=gh(),a=ph("div"),b&&b.c(),u=gh(),s=ph("div"),l=ph("div"),x&&x.c(),h=gh(),_&&_.c(),xh(r,"type","range"),xh(r,"id",t[3]),xh(r,"min",t[0]),xh(r,"max",t[1]),xh(r,"step",t[2]),r.value=t[14],xh(r,"style",i=t[10]?"pointer-events:none":""),xh(a,"class",c=ag(["PinturaSliderTrack",t[5]])),xh(a,"style",t[4]),xh(l,"class",d=ag(["PinturaSliderKnob",t[7]])),xh(l,"style",t[6]),xh(s,"class","PinturaSliderKnobController"),xh(s,"style",t[17]),xh(n,"class","PinturaSliderControl"),xh(n,"style",f="--slider-position:"+Math.round(t[15])),xh(e,"class",p=ag(["PinturaSlider",t[12]])),xh(e,"data-direction",t[8])},m:function(i,c){fh(i,e,c),sh(e,n),sh(n,r),t[37](r),sh(n,o),sh(n,a),b&&b.m(a,null),sh(n,u),sh(n,s),sh(s,l),x&&x.m(l,null),sh(e,h),_&&_.m(e,null),v=!0,m||(g=[bh(r,"input",t[18]),bh(r,"nudge",t[19]),nh(Ug.call(null,r)),bh(n,"pointerdown",(function(){Hf(t[11]&&t[13])&&(t[11]&&t[13]).apply(this,arguments)}))],m=!0)},p:function(o,u){t=o,(!v||8&u[0])&&xh(r,"id",t[3]),(!v||1&u[0])&&xh(r,"min",t[0]),(!v||2&u[0])&&xh(r,"max",t[1]),(!v||4&u[0])&&xh(r,"step",t[2]),(!v||16384&u[0])&&(r.value=t[14]),(!v||1024&u[0]&&i!==(i=t[10]?"pointer-events:none":""))&&xh(r,"style",i),b&&b.p&&(!v||128&u[1])&&qf(b,y,t,t[38],v?Yf(y,t[38],u,null):Jf(t[38]),null),(!v||32&u[0]&&c!==(c=ag(["PinturaSliderTrack",t[5]])))&&xh(a,"class",c),(!v||16&u[0])&&xh(a,"style",t[4]),x&&x.p&&(!v||128&u[1])&&qf(x,w,t,t[38],v?Yf(w,t[38],u,Rb):Jf(t[38]),Pb),(!v||128&u[0]&&d!==(d=ag(["PinturaSliderKnob",t[7]])))&&xh(l,"class",d),(!v||64&u[0])&&xh(l,"style",t[6]),(!v||131072&u[0])&&xh(s,"style",t[17]),(!v||32768&u[0]&&f!==(f="--slider-position:"+Math.round(t[15])))&&xh(n,"style",f),t[9]?_?(_.p(t,u),512&u[0]&&cp(_,1)):((_=Ib(t)).c(),cp(_,1),_.m(e,null)):_&&(op(),up(_,1,1,(function(){_=null})),ap()),(!v||4096&u[0]&&p!==(p=ag(["PinturaSlider",t[12]])))&&xh(e,"class",p),(!v||256&u[0])&&xh(e,"data-direction",t[8])},i:function(t){v||(cp(b,t),cp(x,t),cp(_),v=!0)},o:function(t){up(b,t),up(x,t),up(_),v=!1},d:function(n){n&&hh(e),t[37](null),b&&b.d(n),x&&x.d(n),_&&_.d(),m=!1,Zf(g)}}}function jb(t,e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w=e.$$slots,x=void 0===w?{}:w,_=e.$$scope,C=e.min,E=void 0===C?0:C,k=e.max,$=void 0===k?100:k,S=e.step,A=void 0===S?1:S,O=e.id,L=void 0===O?void 0:O,M=e.value,R=void 0===M?0:M,P=e.valueMin,I=void 0===P?void 0:P,T=e.valueMax,D=void 0===T?void 0:T,B=e.trackStyle,j=void 0===B?void 0:B,N=e.trackClass,F=void 0===N?void 0:N,z=e.knobStyle,Z=void 0===z?void 0:z,H=e.knobClass,V=void 0===H?void 0:H,U=e.ongrab,G=void 0===U?Ec:U,W=e.onchange,K=void 0===W?Ec:W,X=e.onrelease,Y=void 0===X?Ec:X,q=e.onexceed,J=void 0===q?Ec:q,Q=e.direction,tt=void 0===Q?"x":Q,et=e.getValue,nt=void 0===et?hu:et,rt=e.setValue,it=void 0===rt?hu:rt,ot=e.enableSpinButtons,at=void 0===ot||ot,ct=e.enableForceUseKnob,ut=void 0!==ct&&ct,st=e.enableStopPropagation,lt=void 0===st||st,dt=e.enablePointerdownListener,ft=void 0===dt||dt,ht=e.maxInteractionDistance,pt=void 0===ht?6:ht,vt=e.class,mt=void 0===vt?void 0:vt,gt=function(t){return it(function(t,e){return e=1/e,Math.round(t*e)/e}(Gp(t,E,$),A))},yt=function(t,e,r){void 0===r&&(r={});var o=r,a=o.grabbed,c=void 0!==a&&a,u=o.released,s=void 0!==u&&u,l=gt(E+t/e*i),d=I||E,f=D||$;n(21,R=Wc(l)?l:Gp(l,d,f)),g!==l&&(g=l,!Wc(l)&&(l<d||l>f)&&J(R,l),R!==m&&(m=R,c&&G(R),K(R),s&&Y(R)))},bt=function(t){var e=t[l]-v;yt(p+e,h)},wt=function t(e){h=void 0,document.documentElement.removeEventListener("pointermove",bt),document.documentElement.removeEventListener("pointerup",t),K(R),Y(R)},xt=function(){n(21,R=gt(r+_t*A)),K(R)},_t=1,Ct=!1,Et=function t(e){clearTimeout(b),Ct||xt(),Y(R),document.removeEventListener("pointerup",t)};return t.$$set=function(t){"min"in t&&n(0,E=t.min),"max"in t&&n(1,$=t.max),"step"in t&&n(2,A=t.step),"id"in t&&n(3,L=t.id),"value"in t&&n(21,R=t.value),"valueMin"in t&&n(22,I=t.valueMin),"valueMax"in t&&n(23,D=t.valueMax),"trackStyle"in t&&n(4,j=t.trackStyle),"trackClass"in t&&n(5,F=t.trackClass),"knobStyle"in t&&n(6,Z=t.knobStyle),"knobClass"in t&&n(7,V=t.knobClass),"ongrab"in t&&n(24,G=t.ongrab),"onchange"in t&&n(25,K=t.onchange),"onrelease"in t&&n(26,Y=t.onrelease),"onexceed"in t&&n(27,J=t.onexceed),"direction"in t&&n(8,tt=t.direction),"getValue"in t&&n(28,nt=t.getValue),"setValue"in t&&n(29,it=t.setValue),"enableSpinButtons"in t&&n(9,at=t.enableSpinButtons),"enableForceUseKnob"in t&&n(10,ut=t.enableForceUseKnob),"enableStopPropagation"in t&&n(30,lt=t.enableStopPropagation),"enablePointerdownListener"in t&&n(11,ft=t.enablePointerdownListener),"maxInteractionDistance"in t&&n(31,pt=t.maxInteractionDistance),"class"in t&&n(12,mt=t.class),"$$scope"in t&&n(38,_=t.$$scope)},t.$$.update=function(){270532608&t.$$.dirty[0]&&n(14,r=void 0!==R?nt(R):0),3&t.$$.dirty[0]&&(i=$-E),16387&t.$$.dirty[0]&&n(33,o=Mb(r,E,$)),4&t.$$.dirty[1]&&n(15,a=100*o),256&t.$$.dirty[0]&&n(34,c=tt.toUpperCase()),256&t.$$.dirty[0]&&n(35,u="x"===tt?"Width":"Height"),16&t.$$.dirty[1]&&(s="offset"+u),t.$$.dirty[1],8&t.$$.dirty[1]&&(l="page"+c),32768&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(17,d="transform: translate"+c+"("+a+"%)")},[E,$,A,L,j,F,Z,V,tt,at,ut,ft,mt,function(t){var e=!1;lt&&t.stopPropagation(),clearTimeout(y);var n=f.getBoundingClientRect();if(h=f[s],v=t[l],p=v-n[tt],ut){if(Math.abs(p-o*h)>pt)return;e=!0,t.stopPropagation()}return document.activeElement!==f&&f.focus(),yt(p,h,{grabbed:!0}),document.documentElement.addEventListener("pointermove",bt),document.documentElement.addEventListener("pointerup",wt),e},r,a,f,d,function(t){h||(n(21,R=it(parseFloat(t.target.value))),R!==m&&(m=R,K(R)))},function(t){var e=f[s];yt(r/i*e+t.detail[tt],e),clearTimeout(y),y=setTimeout((function(){Y(R)}),250)},function(t){return function(e){clearTimeout(y),_t=t,Ct=!1,b=setInterval((function(){Ct=!0,xt()}),100),document.addEventListener("pointercancel",Et),document.addEventListener("pointerup",Et)}},R,I,D,G,K,Y,J,nt,it,lt,pt,function(t){var e=f.getBoundingClientRect(),n=t[l]-e[tt],r=f[s];return Math.abs(n-o*r)},o,c,u,x,function(t){Zh[t?"unshift":"push"]((function(){n(16,f=t)}))},_]}var Nb=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,jb,Bb,Vf,{min:0,max:1,step:2,id:3,value:21,valueMin:22,valueMax:23,trackStyle:4,trackClass:5,knobStyle:6,knobClass:7,ongrab:24,onchange:25,onrelease:26,onexceed:27,direction:8,getValue:28,setValue:29,enableSpinButtons:9,enableForceUseKnob:10,enableStopPropagation:30,enablePointerdownListener:11,maxInteractionDistance:31,class:12,eventDistanceToKnob:32,handlePointerDown:13},null,[-1,-1]),n}return lc(e,t),ac(e,[{key:"eventDistanceToKnob",get:function(){return this.$$.ctx[32]}},{key:"handlePointerDown",get:function(){return this.$$.ctx[13]}}]),e}(_p);function Fb(t){var e,n;return e=new Ig({props:{class:"PinturaButtonIcon",$$slots:{default:[zb]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};524292&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function zb(t){var e;return{c:function(){e=vh("g")},m:function(n,r){fh(n,e,r),e.innerHTML=t[2]},p:function(t,n){4&n&&(e.innerHTML=t[2])},d:function(t){t&&hh(e)}}}function Zb(t){var e,n,r,i,o,a,c,u,s=t[2]&&Fb(t);return{c:function(){e=ph("span"),s&&s.c(),n=gh(),r=ph("span"),i=mh(t[8]),xh(r,"class",o=ag(["PinturaButtonLabel",t[3],t[5]&&"implicit"])),xh(e,"slot","label"),xh(e,"title",a=jy(t[1],t[6])),xh(e,"class",c=ag(["PinturaButtonInner",t[4]]))},m:function(t,o){fh(t,e,o),s&&s.m(e,null),sh(e,n),sh(e,r),sh(r,i),u=!0},p:function(t,l){t[2]?s?(s.p(t,l),4&l&&cp(s,1)):((s=Fb(t)).c(),cp(s,1),s.m(e,n)):s&&(op(),up(s,1,1,(function(){s=null})),ap()),(!u||256&l)&&Ch(i,t[8]),(!u||40&l&&o!==(o=ag(["PinturaButtonLabel",t[3],t[5]&&"implicit"])))&&xh(r,"class",o),(!u||66&l&&a!==(a=jy(t[1],t[6])))&&xh(e,"title",a),(!u||16&l&&c!==(c=ag(["PinturaButtonInner",t[4]])))&&xh(e,"class",c)},i:function(t){u||(cp(s),u=!0)},o:function(t){up(s),u=!1},d:function(t){t&&hh(e),s&&s.d()}}}function Hb(t){for(var e,n,r,i,o,a=[t[11],{value:t[7]},{onchange:t[10]}],c={},u=0;u<a.length;u+=1)c=Nf(c,a[u]);return n=new Nb({props:c}),{c:function(){e=ph("div"),yp(n.$$.fragment),xh(e,"slot","details")},m:function(a,c){fh(a,e,c),bp(n,e,null),r=!0,i||(o=bh(e,"keydown",t[9]),i=!0)},p:function(t,e){var r=3200&e?vp(a,[2048&e&&mp(t[11]),128&e&&{value:t[7]},1024&e&&{onchange:t[10]}]):{};n.$set(r)},i:function(t){r||(cp(n.$$.fragment,t),r=!0)},o:function(t){up(n.$$.fragment,t),r=!1},d:function(t){t&&hh(e),wp(n),i=!1,o()}}}function Vb(t){var e,n;return e=new My({props:{panelClass:"PinturaSliderPanel",buttonClass:ag(["PinturaSliderButton",t[0],t[5]&&"PinturaSliderIconOnly"]),$$slots:{details:[Hb],label:[Zb]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r=n[0],i={};33&r&&(i.buttonClass=ag(["PinturaSliderButton",t[0],t[5]&&"PinturaSliderIconOnly"])),526846&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Ub(t,e,n){var r,i=["class","title","label","icon","labelClass","innerClass","hideLabel","locale","value","onchange"],o=th(e,i),a=e.class,c=void 0===a?void 0:a,u=e.title,s=void 0===u?void 0:u,l=e.label,d=void 0===l?Math.round:l,f=e.icon,h=void 0===f?void 0:f,p=e.labelClass,v=void 0===p?void 0:p,m=e.innerClass,g=void 0===m?void 0:m,y=e.hideLabel,b=void 0!==y&&y,w=e.locale,x=void 0===w?void 0:w,_=e.value,C=void 0===_?void 0:_,E=e.onchange,k=void 0===E?Ec:E,$=o,S=$.min,A=$.max,O=$.getValue,L=void 0===O?hu:O,M=function(t){return n(8,r=function(t){return Kc(d)?d(L(t),S,A):d}(t))};return t.$$set=function(t){e=Nf(Nf({},e),Qf(t)),n(11,o=th(e,i)),"class"in t&&n(0,c=t.class),"title"in t&&n(1,s=t.title),"label"in t&&n(12,d=t.label),"icon"in t&&n(2,h=t.icon),"labelClass"in t&&n(3,v=t.labelClass),"innerClass"in t&&n(4,g=t.innerClass),"hideLabel"in t&&n(5,b=t.hideLabel),"locale"in t&&n(6,x=t.locale),"value"in t&&n(7,C=t.value),"onchange"in t&&n(13,k=t.onchange)},t.$$.update=function(){4224&t.$$.dirty&&M(C)},[c,s,h,v,g,b,x,C,r,function(t){/tab/i.test(t.key)&&t.preventDefault()},function(t){M(t),k(t)},o,d,k]}var Gb=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Ub,Vb,Vf,{class:0,title:1,label:12,icon:2,labelClass:3,innerClass:4,hideLabel:5,locale:6,value:7,onchange:13}),n}return lc(e,t),e}(_p);function Wb(t,e,n){var r=t.slice();return r[9]=e[n][0],r[0]=e[n][1],r[10]=e[n][2],r[2]=e[n][3],r}function Kb(t){var e,n,r,i=[t[10]],o=t[3][t[9]]||t[9];function a(t){for(var e={},n=0;n<i.length;n+=1)e=Nf(e,i[n]);return{props:e}}return o&&(e=$h(o,a())),{c:function(){e&&yp(e.$$.fragment),n=yh()},m:function(t,i){e&&bp(e,t,i),fh(t,n,i),r=!0},p:function(t,r){var c=4&r?vp(i,[mp(t[10])]):{};if(o!==(o=t[3][t[9]]||t[9])){if(e){op();var u=e;up(u.$$.fragment,1,0,(function(){wp(u,1)})),ap()}o?(yp((e=$h(o,a())).$$.fragment),cp(e.$$.fragment,1),bp(e,n.parentNode,n)):e=null}else o&&e.$set(c)},i:function(t){r||(e&&cp(e.$$.fragment,t),r=!0)},o:function(t){e&&up(e.$$.fragment,t),r=!1},d:function(t){t&&hh(n),e&&wp(e,t)}}}function Xb(t){var e,n;return e=new vy({props:{name:t[9],attributes:t[4](t[10]),$$slots:{default:[Qb]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.name=t[9]),4&n&&(r.attributes=t[4](t[10])),8196&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Yb(t){var e,n,r=t[10].innerHTML+"";return{c:function(){e=new kh(!1),n=yh(),e.a=n},m:function(t,i){e.m(r,t,i),fh(t,n,i)},p:function(t,n){4&n&&r!==(r=t[10].innerHTML+"")&&e.p(r)},i:Bf,o:Bf,d:function(t){t&&hh(n),t&&e.d()}}}function qb(t){var e,n=t[10].textContent+"";return{c:function(){e=mh(n)},m:function(t,n){fh(t,e,n)},p:function(t,r){4&r&&n!==(n=t[10].textContent+"")&&Ch(e,n)},i:Bf,o:Bf,d:function(t){t&&hh(e)}}}function Jb(t){var e,n;return e=new rw({props:{items:t[2],discardEmptyItems:!0}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.items=t[2]),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Qb(t){var e,n,r,i,o=[Jb,qb,Yb],a=[];function c(t,e){return t[2]&&t[2].length?0:t[10].textContent?1:t[10].innerHTML?2:-1}return~(e=c(t))&&(n=a[e]=o[e](t)),{c:function(){n&&n.c(),r=gh()},m:function(t,n){~e&&a[e].m(t,n),fh(t,r,n),i=!0},p:function(t,i){var u=e;(e=c(t))===u?~e&&a[e].p(t,i):(n&&(op(),up(a[u],1,1,(function(){a[u]=null})),ap()),~e?((n=a[e])?n.p(t,i):(n=a[e]=o[e](t)).c(),cp(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){i||(cp(n),i=!0)},o:function(t){up(n),i=!1},d:function(t){~e&&a[e].d(t),t&&hh(r)}}}function tw(t,e){var n,r,i,o,a,c,u=[Xb,Kb],s=[];function l(t,e){return 4&e&&(r=null),null==r&&(r=!t[5](t[9])),r?0:1}return i=l(e,-1),o=s[i]=u[i](e),{key:t,first:null,c:function(){n=yh(),o.c(),a=yh(),this.first=n},m:function(t,e){fh(t,n,e),s[i].m(t,e),fh(t,a,e),c=!0},p:function(t,n){var r=i;(i=l(e=t,n))===r?s[i].p(e,n):(op(),up(s[r],1,1,(function(){s[r]=null})),ap(),(o=s[i])?o.p(e,n):(o=s[i]=u[i](e)).c(),cp(o,1),o.m(a.parentNode,a))},i:function(t){c||(cp(o),c=!0)},o:function(t){up(o),c=!1},d:function(t){t&&hh(n),s[i].d(t),t&&hh(a)}}}function ew(t){for(var e,n,r=[],i=new Map,o=t[2],a=function(t){return t[0]+t[1]},c=0;c<o.length;c+=1){var u=Wb(t,o,c),s=a(u);i.set(s,r[c]=tw(s,u))}return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=yh()},m:function(t,i){for(var o=0;o<r.length;o+=1)r[o].m(t,i);fh(t,e,i),n=!0},p:function(t,n){var c=n[0];62&c&&(o=t[2],op(),r=pp(r,c,a,1,t,o,i,e.parentNode,hp,tw,e,Wb),ap())},i:function(t){if(!n){for(var e=0;e<o.length;e+=1)cp(r[e]);n=!0}},o:function(t){for(var e=0;e<r.length;e+=1)up(r[e]);n=!1},d:function(t){for(var n=0;n<r.length;n+=1)r[n].d(t);t&&hh(e)}}}function nw(t,e,n){var r,i,o=e.items,a=e.discardEmptyItems,c=void 0===a||a,u=e.key,s=void 0===u?"":u,l={Button:Zg,Dropdown:$b,Panel:Lb,Slider:Gb},d=function(t){return!Wc(t)||!!l[t]},f=function t(e){if(!e)return!1;var n=e[0],r=e[2],i=e[3],o=void 0===i?[]:i;return!!d(n)||(o.some(t)||r.textContent||r.innerHTML)};return t.$$set=function(t){"items"in t&&n(6,o=t.items),"discardEmptyItems"in t&&n(7,c=t.discardEmptyItems),"key"in t&&n(0,s=t.key)},t.$$.update=function(){1&t.$$.dirty&&n(1,r=s),192&t.$$.dirty&&n(2,i=(o&&c?o.filter(f):o)||[])},[s,r,i,l,function(t){void 0===t&&(t={});var e=t;e.textContent,e.innerHTML;return ic(e,rc)},d,o,c]}var rw=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,nw,ew,Vf,{items:6,discardEmptyItems:7,key:0}),n}return lc(e,t),e}(_p),iw=["aspectRatio","isRotatedSideways","flip","cropSize"],ow=ev.map((function(t){return t[0]})).filter((function(t){return!iw.includes(t)})),aw=function(t,e){return new CustomEvent("ping",{detail:{type:t,data:e},cancelable:!0,bubbles:!0})},cw=function(t){return/textarea/i.test(t.nodeName)||function(t){return/date|email|number|search|text|url/.test(t.type)}(t)||t.isContentEditable},uw=function(t,e){return(e?Gv(t,e):t).replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()},sw=function(t,e){void 0===e&&(e=hu);var n=kp(void 0),r=n.subscribe,i=n.set,o=function(t,e){var n=matchMedia(t);return n.addListener(e),e(n),{get matches(){return n.matches},destroy:function(){return n.removeListener(e)}}}(t,(function(t){var n=t.matches;return i(e(n))}));return{subscribe:r,destroy:o.destroy}},lw=function(){var t=gc(vc().mark((function t(e){return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rc,t.next=3,Zc(e);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),dw=function(t){return/video/.test(t.type)},fw=function(t){return new Promise((function(e,n){var r=Pc("video");r.onseeked=function(){var t=Pc("canvas");cl(r).then((function(n){var i=n.width,o=n.height;t.width=i,t.height=o;var a=t.getContext("2d",{willReadFrequently:!0}),c=function(){a.drawImage(r,0,0,t.width,t.height);var n=a.getImageData(0,0,t.width,t.height);Dc(t),e(n)};ol()?setTimeout(c,16):c()}))},r.onloadeddata=function(){r.currentTime=0},r.onerror=function(t){n(r.error)},r.src=URL.createObjectURL(t),r.load()}))},hw=function(t,e,n){return new Promise((function(r,i){gc(vc().mark((function o(){var a,c,u;return vc().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!dw(t)){o.next=6;break}return o.t0=r,o.next=4,fw(t);case 4:o.t1=o.sent,(0,o.t0)(o.t1);case 6:return o.next=8,e.read(t);case 8:if(a=o.sent,c=function(t){return nu(t,n).then((function(t){return e.apply(t,a)})).then(r).catch(i)},!Jc(t)&&qc()&&!ol()&&!Al()){o.next=12;break}return o.abrupt("return",c(t));case 12:return o.prev=12,o.next=15,eu((function(t,e){return createImageBitmap(t).then((function(t){return e(null,t)})).catch(e)}),[t]);case 15:u=o.sent,o.next=20;break;case 18:o.prev=18,o.t2=o.catch(12);case 20:if(u&&u.width){o.next=22;break}return o.abrupt("return",c(t));case 22:return o.next=24,Mc();case 24:if(o.sent){o.next=26;break}return o.abrupt("return",r(e.apply(u,a)));case 26:if(!(ym()&&a>1)){o.next=32;break}return o.t3=r,o.next=30,lw(u);case 30:return o.t4=o.sent,o.abrupt("return",(0,o.t3)(o.t4));case 32:r(u);case 33:case"end":return o.stop()}}),o,null,[[12,18]])})))()}))},pw=function(t,e){return new Promise(function(){var n=gc(vc().mark((function n(r){var i,o,a,c,u,s;return vc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.width<e.width&&t.height<e.height)){n.next=2;break}return n.abrupt("return",r(t));case 2:if(i=Math.min(e.width/t.width,e.height/t.height),o=i*t.width,a=i*t.height,c=Pc("canvas",{width:o,height:a}),u=c.getContext("2d",{willReadFrequently:!0}),!Bc(t)){n.next=13;break}return n.next=10,Zc(t);case 10:n.t0=n.sent,n.next=14;break;case 13:n.t0=t;case 14:s=n.t0,u.drawImage(s,0,0,o,a),r(Rc(c));case 17:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},vw=function(t){return t=t.trim(),/^rgba/.test(t)?t.substr(5).split(",").map(parseFloat).map((function(t,e){return t/(3===e?1:255)})):/^rgb/.test(t)?t.substr(4).split(",").map(parseFloat).map((function(t){return t/255})):/^#/.test(t)?function(t){var e=t.split(""),n=e[1],r=e[2],i=e[3];t=4===t.length?"#"+n+n+r+r+i+i:t;var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return[o[1],o[2],o[3]].map((function(t){return parseInt(t,16)/255}))}(t):/[0-9]{1,3}\s?,\s?[0-9]{1,3}\s?,\s?[0-9]{1,3}/.test(t)?t.split(",").map((function(t){return parseInt(t,10)})).map((function(t){return t/255})):void 0},mw=null,gw=function(){if(null===mw){var t=Pc("canvas");mw=!!um(t),Dc(t),t=void 0}return mw},yw=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],bw={precision:1e-4},ww={precision:.01*bw.precision},xw=function(){var t=[],e=[],n=[],r=function(){e.forEach((function(t){return t(n)}))},i=function(e){e.unsub=e.subscribe((function(i){return function(e,i){var o=t.indexOf(e);o<0||(n[o]=i,r())}(e,i)})),r()};return{get length(){return t.length},clear:function(){t.forEach((function(t){return t.unsub()})),t.length=0,n.length=0},unshift:function(e){t.unshift(e),i(e)},get:function(e){return t[e]},push:function(e){t.push(e),i(e)},remove:function(e){e.unsub();var r=t.indexOf(e);t.splice(r,1),n.splice(r,1)},forEach:function(e){return t.forEach(e)},filter:function(e){return t.filter(e)},subscribe:function(t){return e.push(t),t(n),function(){e.splice(e.indexOf(t),1)}}}},_w=function(t){return t[0]<.25&&t[1]<.25&&t[2]<.25},Cw=function(t){return void 0===t&&(t={}),new Promise((function(e){var n=t.accept,r=Pc("input",{style:"position:absolute;visibility:hidden;width:0;height:0;",type:"file",accept:void 0===n?"image/*":n});r.addEventListener("change",(function t(){var n=r.files[0];r.parentNode&&r.remove(),r.removeEventListener("change",t),e(n)})),Al()&&document.body.append(r),r.click()}))},Ew=function(t){try{return t()}catch(t){}},kw=function(t){return Math.round(100*t)},$w=function(t){return Lu(t.clientX,t.clientY)},Sw=function(t,e,n){var r=$w(t);return Fu(Fu(r,e),n)};function Aw(t,e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w,x,_,C=e.root,E=e.locale,k=e.stores,$=e.allowPan,S=void 0===$||$,A=e.allowZoom,O=void 0===A||A,L=e.enablePan,M=void 0===L||L,R=e.enableZoom,P=void 0===R||R,I=e.enableZoomControls,T=void 0===I?P:I,D=e.enableZoomInput,B=void 0===D||D,j=e.enablePanInput,N=void 0===j||j,F=e.enablePanLimit,z=void 0===F||F,Z=e.panLimitGutterScalar,H=void 0===Z?0:Z,V=e.zoomOptions,U=void 0===V?[.25,.5,1,1.25,1.5,2,3,4,6,8,16]:V,G=e.zoomAdjustStep,W=void 0===G?.25:G,K=e.zoomAdjustFactor,X=void 0===K?.1:K,Y=e.zoomAdjustWheelFactor,q=void 0===Y?1:Y,J=e.elasticity,Q=void 0===J?5:J,tt=e.imageSelectionRectCentered,et=void 0===tt?void 0:tt,nt=e.imageSelectionRectScalar,rt=void 0===nt?void 0:nt,it=e.zoomLevel,ot=void 0===it?null:it,at=e.zoomControls,ct=e.zoomMultiTouching,ut=void 0!==ct&&ct,st=k,lt=st.isAnimated,dt=st.isInteracting,ft=st.rootRect,ht=st.stageRect,pt=st.stageScalar,vt=st.imageSelectionPan,mt=st.imageSelectionZoom,gt=st.imageSelectionStageFitScalar,yt=st.imageSelectionRect,bt=st.imageSelectionStoredState,wt=st.imagePreviewUpscale;Wf(t,lt,(function(t){return n(68,x=t)})),Wf(t,dt,(function(t){return n(67,b=t)})),Wf(t,ft,(function(t){return n(65,g=t)})),Wf(t,ht,(function(t){return n(64,m=t)})),Wf(t,pt,(function(t){return n(45,w=t)})),Wf(t,vt,(function(t){return n(63,h=t)})),Wf(t,mt,(function(t){return n(42,f=t)})),Wf(t,gt,(function(t){return n(43,p=t)})),Wf(t,yt,(function(t){return n(66,y=t)})),Wf(t,bt,(function(t){return n(69,_=t)})),Wf(t,wt,(function(t){return n(44,v=t)}));var xt=!1,_t=void 0,Ct=void 0,Et=void 0,kt=void 0,$t=function(t){var e=C.querySelector(".PinturaMain > .PinturaUtilMain")||C.querySelector('div[tabindex="0"] .PinturaUtilMain');return!!e&&(!!e.contains(t.target)&&!cw(t.target))},St=function(t){void 0===t&&(t={});var e=t,n=e.pan,r=void 0===n?h:n,i=e.zoom;eh(bt,_={translation:r,zoom:void 0===i?f:i},_)},At=function(){return h&&0===h.x&&0===h.y},Ot=function(){eh(mt,f=void 0,f),At()||eh(vt,h=Ou(),h),Mt.set(void 0,{hard:!0})},Lt=function(){Ot(),St()},Mt=Pm(void 0,{precision:.01});Mt.subscribe((function(t){if(void 0===t)return eh(mt,f=void 0,f),void(At()||eh(vt,h=Ou(),h));var e=f;t<=1?At()||eh(vt,h=Ou(),h):t<=e&&eh(vt,h=Zu(h,.8),h),eh(mt,f=t,f)}));var Rt,Pt,It,Tt,Dt,Bt,jt,Nt,Ft=function(t){Mt.update((function(e){var n=t(e||p);return St({zoom:n}),n}))},zt=function(t){t?Mt.set(t,{hard:!1===x}):(t=void 0,Mt.set(void 0,{hard:!0})),eh(mt,f=t,f),St({zoom:t})},Zt=function(t,e){var n=rt*e,r=Object.assign({},et),i=1-Gp(H,0,1);Es(r,n<i?n:i);var o=Object.assign({},et);Es(o,n),Cs(o,t);var a=Object.assign({},o);return o.x>r.x&&(a.x=r.x),o.y>r.y&&(a.y=r.y),o.x+o.width<r.x+r.width&&(a.x=r.x+r.width-o.width),o.y+o.height<r.y+r.height&&(a.y=r.y+r.height-o.height),Fu(_s(a),_s(r))},Ht=function(t){var e=t.translation,n=t.zoom,r=void 0===n?1:n,i=t.elastify,o=void 0===i||i;if(_t){var a=e,c=Lu(_t.x+a.x,_t.y+a.y);if(!z)return c;var u=Zt(c,r);return o?Kg(u,c,Q):u}},Vt=function(){Pt=void 0,eh(dt,b=!0,b),n(33,xt=N),Rt=!1,Et=!1,_t=Object.assign({},h),Ct=v?f||p:o?f||1:f||p},Ut=function(t){var e=t.detail,i=e.scalar,o=e.translation,a=e.isMultiTouching;if(_t&&(a||N)){a&&Zu(o,.5),(N||a)&&(Rt=!0),ut||n(12,ut=a);var s=r?Gp(Ct*i,c,u):1,l=Ht({translation:o,zoom:s,elastify:!0}),d=Tu(l);kt=Tu(h),Et=d<kt,r&&mt.set(s),vt.set(l),Pt=ut&&{translation:t.detail.translation,scalar:i}}},Gt=function(t){eh(dt,b=!1,b),n(33,xt=!1),n(12,ut=!1),Et&&kt<50&&(_t=void 0,Ct=void 0,vt.set(Ou()))},Wt=function(t){eh(dt,b=!1,b),n(33,xt=!1),n(12,ut=!1),Promise.resolve().then((function(){if(Rt&&_t){var e=Pt||t.detail,n=r?Gp(Ct*e.scalar,c,u):1,i=Ht({elastify:!1,translation:e.translation,zoom:n});vt.set(i)}_t=void 0,Ct=void 0,N&&t.detail.isDoubleTap&&Lt(),St()}))},Kt=Date.now(),Xt=0,Yt=!1,qt=!1,Jt=function(t){if($t(t)&&(t.preventDefault(),t.stopPropagation(),!qt)){clearTimeout(It);var e=Yg(t),n=Date.now(),r=n-Kt;Kt=n;var i=Math.abs(e/r)>.2;Xt=i?Xt+1:0;var o=1+-1*e*q/(i?50:100),a=Sw(t,g,m);Qt(a,o,{isZoomingFast:i})}},Qt=function(t,e,n){var r=n.isZoomingFast,i=v?f||p:o?f||1:f||p,a=i*e,s=Ou(),l=h,d=v?p:o?1:p,m=Math.abs(a-d),g=a<i,b=i>d&&g||i<d&&a>i,w=Xt>=5;if(r||(Yt=!1),Xt>0&&!Yt&&(Yt=b),w&&Yt)return Lt(),qt=!0,void setTimeout((function(){qt=!1}),100);if(!w){!r&&b&&m<=.05&&(It=setTimeout((function(){Lt()}),250)),eh(mt,f=Gp(a,c,u),f);var x=vs(y);Es(x,i),Cs(x,l);var _=_s(x),C=vs(x);Es(C,f-i+1,t);var E=_s(C),k=zu(Fu(E,_),i);!function(t,e,n){t.x=e,t.y=n}(s,l.x+k.x,l.y+k.y),eh(vt,h=g&&r?Zu(Ru(h),.85):Zt(s,i),h),St()}},te=function(t){return(t?"add":"remove")+"EventListener"},ee=function(t){t.preventDefault(),Dt=Object.assign({},h),jt=vs(y),Bt=Sw(t,g,m),Tt=v?f||p:o?f||1:f||p},ne=function(t){t.preventDefault(),eh(mt,f=Gp(t.scale*Tt,c,u),f);var e=vs(jt);Es(e,Tt),Cs(e,Dt);var n=_s(e),r=vs(e);Es(r,f-Tt+1,Bt);var i=_s(r),o=zu(Fu(i,n),Tt),a={x:Dt.x+o.x,y:Dt.y+o.y};eh(vt,h=Zt(a,f),h)},re=function(t){t.preventDefault()},ie=function(t){C[te(t)]("wheel",Jt),Al()||(C[te(t)]("gesturestart",ee),C[te(t)]("gesturechange",ne),C[te(t)]("gestureend",re))},oe=function(t){var e=te(t);C[e]("interactionstart",Vt),C[e]("interactionupdate",Ut),C[e]("interactionrelease",Gt),C[e]("interactionend",Wt)};return Ih((function(){Nt=Vg(C,{drag:!0,pinch:!0,inertia:!0,inertiaDurationMultiplier:10,shouldStartInteraction:$t})})),Dh((function(){ie(!1),oe(!1),Nt.destroy(),Nt=void 0})),t.$$set=function(t){"root"in t&&n(13,C=t.root),"locale"in t&&n(14,E=t.locale),"stores"in t&&n(15,k=t.stores),"allowPan"in t&&n(16,S=t.allowPan),"allowZoom"in t&&n(17,O=t.allowZoom),"enablePan"in t&&n(18,M=t.enablePan),"enableZoom"in t&&n(19,P=t.enableZoom),"enableZoomControls"in t&&n(20,T=t.enableZoomControls),"enableZoomInput"in t&&n(21,B=t.enableZoomInput),"enablePanInput"in t&&n(22,N=t.enablePanInput),"enablePanLimit"in t&&n(23,z=t.enablePanLimit),"panLimitGutterScalar"in t&&n(24,H=t.panLimitGutterScalar),"zoomOptions"in t&&n(25,U=t.zoomOptions),"zoomAdjustStep"in t&&n(26,W=t.zoomAdjustStep),"zoomAdjustFactor"in t&&n(27,X=t.zoomAdjustFactor),"zoomAdjustWheelFactor"in t&&n(28,q=t.zoomAdjustWheelFactor),"elasticity"in t&&n(29,Q=t.elasticity),"imageSelectionRectCentered"in t&&n(30,et=t.imageSelectionRectCentered),"imageSelectionRectScalar"in t&&n(31,rt=t.imageSelectionRectScalar),"zoomLevel"in t&&n(32,ot=t.zoomLevel),"zoomControls"in t&&n(11,at=t.zoomControls),"zoomMultiTouching"in t&&n(12,ut=t.zoomMultiTouching)},t.$$.update=function(){var e,m;2752512&t.$$.dirty[0]&&n(35,r=O&&P&&B),327680&t.$$.dirty[0]&&n(34,i=S&&M),196608&t.$$.dirty[0]&&(S||O?(eh(mt,f=P?_.zoom:void 0,f),eh(vt,h=M?Ru(_.translation):At()?h:Ou(),h),Mt.set(f)):Ot()),16384&t.$$.dirty[1]&&(o=w>=1),33570816&t.$$.dirty[0]|28672&t.$$.dirty[1]&&n(39,a=[(v||w<1)&&[p,kw(p)+"%",{sublabel:E.labelZoomFit}]].concat(U.map((function(t){return[t,kw(t)+"%"]}))).filter(Boolean).map((function(t){return 1===t[0]&&(t[2]={sublabel:E.labelZoomActual}),t})).sort((function(t,e){var n=t[0]||p,r=e[0]||p;return n<r?-1:r<n?1:0}))),4352&t.$$.dirty[1]&&n(37,c=Math.min(a.reduce((function(t,e){var n=e[0];return n<t?n:t}),Number.MAX_SAFE_INTEGER),p)),256&t.$$.dirty[1]&&n(36,u=a.reduce((function(t,e){var n=e[0];return n>t?n:t}),Number.MIN_SAFE_INTEGER)),2&t.$$.dirty[1]&&null!==ot&&zt(ot),30720&t.$$.dirty[1]&&n(41,l=f||(v||w<1?p:1)),1280&t.$$.dirty[1]&&n(38,(e=a.map((function(t){return t[0]})),m=l,s=e.findIndex((function(t){return t===m})))),1024&t.$$.dirty[1]&&n(40,d=kw(l)+"%"),202522624&t.$$.dirty[0]|3040&t.$$.dirty[1]&&n(11,at=(O||O)&&T?[["Button","zoom-out",{hideLabel:!0,label:E.labelZoomOut,icon:E.iconZoomOut,disabled:f===c,onclick:function(){return Ft((function(t){return Math.max(c,t-W)}))},onhold:function(){return Ft((function(t){return Math.max(c,t*(1-X))}))}}],["Dropdown","zoom-level",{label:d,labelClass:"PinturaFixedWidthCharacters",options:a,selectedIndex:s,onchange:function(t){return zt(t.value)}}],["Button","zoom-in",{hideLabel:!0,label:E.labelZoomIn,icon:E.iconZoomIn,disabled:f===u,onclick:function(){return Ft((function(t){return Math.min(u,t+W)}))},onhold:function(){return Ft((function(t){return Math.min(u,t*(1+X))}))}}]]:[]),8192&t.$$.dirty[0]|16&t.$$.dirty[1]&&C&&ie(r),8192&t.$$.dirty[0]|8&t.$$.dirty[1]&&C&&oe(i),4202496&t.$$.dirty[0]|12&t.$$.dirty[1]&&C&&C.style.setProperty("--cursor",i&&N?xt?"grabbing":"grab":"")},[lt,dt,ft,ht,pt,vt,mt,gt,yt,bt,wt,at,ut,C,E,k,S,O,M,P,T,B,N,z,H,U,W,X,q,Q,et,rt,ot,xt,i,r,u,c,s,a,d,l,f,p,v,w]}var Ow=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Aw,null,Vf,{root:13,locale:14,stores:15,allowPan:16,allowZoom:17,enablePan:18,enableZoom:19,enableZoomControls:20,enableZoomInput:21,enablePanInput:22,enablePanLimit:23,panLimitGutterScalar:24,zoomOptions:25,zoomAdjustStep:26,zoomAdjustFactor:27,zoomAdjustWheelFactor:28,elasticity:29,imageSelectionRectCentered:30,imageSelectionRectScalar:31,zoomLevel:32,zoomControls:11,zoomMultiTouching:12},null,[-1,-1,-1,-1]),n}return lc(e,t),e}(_p),Lw=function(){var t=gc(vc().mark((function t(e){var n,r;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mw(e);case 2:return n=t.sent,r=new DataView(n),t.abrupt("return",Rw(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Mw=function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsArrayBuffer(t)}))},Rw=function(t,e){var n=(void 0===e?{}:e).limit,r=void 0===n?1024:n,i=0;if(i+=4,1718909296!==t.getUint32(i))return 0;if(i+=4,1836069938!==t.getUint32(i))return 0;for(var o=!1,a=-1,c=i;c<r;c++){if(o||1953653099!==t.getUint32(c)||(o=!0,c+=4),o)if(64==t.getUint8(c)){a=c;break}}if(a<0)return 0;var u=t.getUint32(a-28),s=t.getUint32(a-20),l=t.getUint32(a-32),d=t.getUint32(a-16);return 65536===u&&4294901760===s?90:4294901760===l&&4294901760===d?180:4294901760===u&&65536===s?270:0},Pw=dp.window;function Iw(t){var e,n,r,i=t[41]&&Tw(t),o=t[38]&&Vw(t);return{c:function(){i&&i.c(),e=gh(),o&&o.c(),n=yh()},m:function(t,a){i&&i.m(t,a),fh(t,e,a),o&&o.m(t,a),fh(t,n,a),r=!0},p:function(t,r){t[41]?i?(i.p(t,r),1024&r[1]&&cp(i,1)):((i=Tw(t)).c(),cp(i,1),i.m(e.parentNode,e)):i&&(op(),up(i,1,1,(function(){i=null})),ap()),t[38]?o?(o.p(t,r),128&r[1]&&cp(o,1)):((o=Vw(t)).c(),cp(o,1),o.m(n.parentNode,n)):o&&(op(),up(o,1,1,(function(){o=null})),ap())},i:function(t){r||(cp(i),cp(o),r=!0)},o:function(t){up(i),up(o),r=!1},d:function(t){i&&i.d(t),t&&hh(e),o&&o.d(t),t&&hh(n)}}}function Tw(t){var e,n,r,i,o,a,c=[Bw,Dw],u=[];function s(t,e){return t[39]?0:t[34]?1:-1}return~(r=s(t))&&(i=u[r]=c[r](t)),{c:function(){e=ph("div"),n=ph("p"),i&&i.c(),xh(n,"style",t[68]),xh(e,"class","PinturaStatus"),xh(e,"style",o="opacity: "+t[53])},m:function(t,i){fh(t,e,i),sh(e,n),~r&&u[r].m(n,null),a=!0},p:function(t,l){var d=r;(r=s(t))===d?~r&&u[r].p(t,l):(i&&(op(),up(u[d],1,1,(function(){u[d]=null})),ap()),~r?((i=u[r])?i.p(t,l):(i=u[r]=c[r](t)).c(),cp(i,1),i.m(n,null)):i=null),(!a||64&l[2])&&xh(n,"style",t[68]),(!a||4194304&l[1]&&o!==(o="opacity: "+t[53]))&&xh(e,"style",o)},i:function(t){a||(cp(i),a=!0)},o:function(t){up(i),a=!1},d:function(t){t&&hh(e),~r&&u[r].d()}}}function Dw(t){var e,n,r,i;e=new ry({props:{text:t[34].text||"",onmeasure:t[200]}});var o=t[34].aside&&jw(t);return{c:function(){yp(e.$$.fragment),n=gh(),o&&o.c(),r=yh()},m:function(t,a){bp(e,t,a),fh(t,n,a),o&&o.m(t,a),fh(t,r,a),i=!0},p:function(t,n){var i={};8&n[1]&&(i.text=t[34].text||""),e.$set(i),t[34].aside?o?(o.p(t,n),8&n[1]&&cp(o,1)):((o=jw(t)).c(),cp(o,1),o.m(r.parentNode,r)):o&&(op(),up(o,1,1,(function(){o=null})),ap())},i:function(t){i||(cp(e.$$.fragment,t),cp(o),i=!0)},o:function(t){up(e.$$.fragment,t),up(o),i=!1},d:function(t){wp(e,t),t&&hh(n),o&&o.d(t),t&&hh(r)}}}function Bw(t){var e,n,r,i;return e=new ry({props:{text:t[39],onmeasure:t[200]}}),r=new sy({props:{class:"PinturaStatusIcon",offset:t[78],opacity:t[79],$$slots:{default:[Hw]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment),n=gh(),yp(r.$$.fragment)},m:function(t,o){bp(e,t,o),fh(t,n,o),bp(r,t,o),i=!0},p:function(t,n){var i={};256&n[1]&&(i.text=t[39]),e.$set(i);var o={};65536&n[2]&&(o.offset=t[78]),131072&n[2]&&(o.opacity=t[79]),8&n[0]|128&n[17]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i:function(t){i||(cp(e.$$.fragment,t),cp(r.$$.fragment,t),i=!0)},o:function(t){up(e.$$.fragment,t),up(r.$$.fragment,t),i=!1},d:function(t){wp(e,t),t&&hh(n),wp(r,t)}}}function jw(t){var e,n;return e=new sy({props:{class:"PinturaStatusButton",offset:t[78],opacity:t[79],$$slots:{default:[zw]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};65536&n[2]&&(r.offset=t[78]),131072&n[2]&&(r.opacity=t[79]),8&n[1]|128&n[17]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Nw(t){var e,n;return e=new ay({props:{progress:t[34].progressIndicator.progress}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};8&n[1]&&(r.progress=t[34].progressIndicator.progress),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Fw(t){for(var e,n,r=[t[34].closeButton,{hideLabel:!0}],i={},o=0;o<r.length;o+=1)i=Nf(i,r[o]);return e=new Zg({props:i}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var i=8&n[1]?vp(r,[mp(t[34].closeButton),r[1]]):{};e.$set(i)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function zw(t){var e,n,r,i=t[34].progressIndicator.visible&&Nw(t),o=t[34].closeButton&&t[34].text&&Fw(t);return{c:function(){i&&i.c(),e=gh(),o&&o.c(),n=yh()},m:function(t,a){i&&i.m(t,a),fh(t,e,a),o&&o.m(t,a),fh(t,n,a),r=!0},p:function(t,r){t[34].progressIndicator.visible?i?(i.p(t,r),8&r[1]&&cp(i,1)):((i=Nw(t)).c(),cp(i,1),i.m(e.parentNode,e)):i&&(op(),up(i,1,1,(function(){i=null})),ap()),t[34].closeButton&&t[34].text?o?(o.p(t,r),8&r[1]&&cp(o,1)):((o=Fw(t)).c(),cp(o,1),o.m(n.parentNode,n)):o&&(op(),up(o,1,1,(function(){o=null})),ap())},i:function(t){r||(cp(i),cp(o),r=!0)},o:function(t){up(i),up(o),r=!1},d:function(t){i&&i.d(t),t&&hh(e),o&&o.d(t),t&&hh(n)}}}function Zw(t){var e,n=t[3].iconSupportError+"";return{c:function(){e=vh("g")},m:function(t,r){fh(t,e,r),e.innerHTML=n},p:function(t,r){8&r[0]&&n!==(n=t[3].iconSupportError+"")&&(e.innerHTML=n)},d:function(t){t&&hh(e)}}}function Hw(t){var e,n;return e=new Ig({props:{$$slots:{default:[Zw]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};8&n[0]|128&n[17]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Vw(t){var e,n,r,i,o,a,c,u,s,l,d,f,h,p,v=t[10]&&Uw(t),m=t[45]&&t[44]&&Gw(t),g=[qw,Yw],y=[];function b(t,e){return t[45]?0:1}function w(e){t[388](e)}function x(e){t[389](e)}function _(e){t[390](e)}r=b(t),i=y[r]=g[r](t),a=new og({props:{isAnimated:t[52],isTransparent:t[19],pixelRatio:t[56],textPixelRatio:t[6],backgroundColor:t[55],maskRect:t[57],maskOpacity:t[69]?t[69].maskOpacity:1,maskMarkupOpacity:t[7],maskFrameOpacity:t[5],clipAnnotationsToImage:t[81],images:t[54],interfaceImages:t[82],loadImageData:t[27],enableGrid:t[11],gridSize:t[83],gridColors:[t[84],t[85]],gridOpacity:t[86],willRequest:t[77]||t[87],willRender:t[385],didRender:t[386]}});var C={root:t[2],locale:t[3],stores:t[186],allowPan:t[89],enablePan:t[16],enablePanLimit:t[20],panLimitGutterScalar:t[21],enablePanInput:t[90],allowZoom:t[91],enableZoom:t[17],enableZoomInput:void 0!==t[18]?t[18]:t[92],enableZoomControls:t[93],zoomOptions:t[12]||t[22],zoomAdjustStep:t[13]||t[23],zoomAdjustFactor:t[14]||t[24],zoomAdjustWheelFactor:t[15]||t[25],imageSelectionRectCentered:t[94],imageSelectionRectScalar:t[95],elasticity:ex*t[8]};return void 0!==t[0]&&(C.zoomLevel=t[0]),void 0!==t[32]&&(C.zoomControls=t[32]),void 0!==t[33]&&(C.zoomMultiTouching=t[33]),l=new Ow({props:C}),Zh.push((function(){return gp(l,"zoomLevel",w)})),Zh.push((function(){return gp(l,"zoomControls",x)})),Zh.push((function(){return gp(l,"zoomMultiTouching",_)})),{c:function(){v&&v.c(),e=gh(),m&&m.c(),n=gh(),i.c(),o=gh(),yp(a.$$.fragment),c=gh(),u=ph("div"),s=gh(),yp(l.$$.fragment),xh(u,"class","PinturaRootPortal")},m:function(i,d){v&&v.m(i,d),fh(i,e,d),m&&m.m(i,d),fh(i,n,d),y[r].m(i,d),fh(i,o,d),bp(a,i,d),fh(i,c,d),fh(i,u,d),t[387](u),fh(i,s,d),bp(l,i,d),p=!0},p:function(t,c){t[10]?v?(v.p(t,c),1024&c[0]&&cp(v,1)):((v=Uw(t)).c(),cp(v,1),v.m(e.parentNode,e)):v&&(op(),up(v,1,1,(function(){v=null})),ap()),t[45]&&t[44]?m?(m.p(t,c),24576&c[1]&&cp(m,1)):((m=Gw(t)).c(),cp(m,1),m.m(n.parentNode,n)):m&&(op(),up(m,1,1,(function(){m=null})),ap());var u=r;(r=b(t))===u?y[r].p(t,c):(op(),up(y[u],1,1,(function(){y[u]=null})),ap(),(i=y[r])?i.p(t,c):(i=y[r]=g[r](t)).c(),cp(i,1),i.m(o.parentNode,o));var s={};2097152&c[1]&&(s.isAnimated=t[52]),524288&c[0]&&(s.isTransparent=t[19]),33554432&c[1]&&(s.pixelRatio=t[56]),64&c[0]&&(s.textPixelRatio=t[6]),16777216&c[1]&&(s.backgroundColor=t[55]),67108864&c[1]&&(s.maskRect=t[57]),128&c[2]&&(s.maskOpacity=t[69]?t[69].maskOpacity:1),128&c[0]&&(s.maskMarkupOpacity=t[7]),32&c[0]&&(s.maskFrameOpacity=t[5]),524288&c[2]&&(s.clipAnnotationsToImage=t[81]),8388608&c[1]&&(s.images=t[54]),1048576&c[2]&&(s.interfaceImages=t[82]),134217728&c[0]&&(s.loadImageData=t[27]),2048&c[0]&&(s.enableGrid=t[11]),2097152&c[2]&&(s.gridSize=t[83]),12582912&c[2]&&(s.gridColors=[t[84],t[85]]),16777216&c[2]&&(s.gridOpacity=t[86]),33587200&c[2]&&(s.willRequest=t[77]||t[87]),512&c[0]|1507344&c[1]|67108864&c[2]&&(s.willRender=t[385]),1879048192&c[1]|3&c[2]&&(s.didRender=t[386]),a.$set(s);var p={};4&c[0]&&(p.root=t[2]),8&c[0]&&(p.locale=t[3]),134217728&c[2]&&(p.allowPan=t[89]),65536&c[0]&&(p.enablePan=t[16]),1048576&c[0]&&(p.enablePanLimit=t[20]),2097152&c[0]&&(p.panLimitGutterScalar=t[21]),268435456&c[2]&&(p.enablePanInput=t[90]),536870912&c[2]&&(p.allowZoom=t[91]),131072&c[0]&&(p.enableZoom=t[17]),262144&c[0]|1073741824&c[2]&&(p.enableZoomInput=void 0!==t[18]?t[18]:t[92]),1&c[3]&&(p.enableZoomControls=t[93]),4198400&c[0]&&(p.zoomOptions=t[12]||t[22]),8396800&c[0]&&(p.zoomAdjustStep=t[13]||t[23]),16793600&c[0]&&(p.zoomAdjustFactor=t[14]||t[24]),33587200&c[0]&&(p.zoomAdjustWheelFactor=t[15]||t[25]),2&c[3]&&(p.imageSelectionRectCentered=t[94]),4&c[3]&&(p.imageSelectionRectScalar=t[95]),256&c[0]&&(p.elasticity=ex*t[8]),!d&&1&c[0]&&(d=!0,p.zoomLevel=t[0],Yh((function(){return d=!1}))),!f&&2&c[1]&&(f=!0,p.zoomControls=t[32],Yh((function(){return f=!1}))),!h&&4&c[1]&&(h=!0,p.zoomMultiTouching=t[33],Yh((function(){return h=!1}))),l.$set(p)},i:function(t){p||(cp(v),cp(m),cp(i),cp(a.$$.fragment,t),cp(l.$$.fragment,t),p=!0)},o:function(t){up(v),up(m),up(i),up(a.$$.fragment,t),up(l.$$.fragment,t),p=!1},d:function(i){v&&v.d(i),i&&hh(e),m&&m.d(i),i&&hh(n),y[r].d(i),i&&hh(o),wp(a,i),i&&hh(c),i&&hh(u),t[387](null),i&&hh(s),wp(l,i)}}}function Uw(t){var e,n,r,i,o;return n=new rw({props:{items:t[65]}}),{c:function(){e=ph("div"),yp(n.$$.fragment),xh(e,"class","PinturaNav PinturaNavTools")},m:function(a,c){fh(a,e,c),bp(n,e,null),r=!0,i||(o=[bh(e,"measure",t[372]),nh(Xm.call(null,e))],i=!0)},p:function(t,e){var r={};8&e[2]&&(r.items=t[65]),n.$set(r)},i:function(t){r||(cp(n.$$.fragment,t),r=!0)},o:function(t){up(n.$$.fragment,t),r=!1},d:function(t){t&&hh(e),wp(n),i=!1,Zf(o)}}}function Gw(t){var e,n,r;return n=new Qg({props:{elasticity:t[8]*rx,scrollDirection:t[71]?"y":"x",$$slots:{default:[Xw]},$$scope:{ctx:t}}}),{c:function(){e=ph("div"),yp(n.$$.fragment),xh(e,"class","PinturaNav PinturaNavMain")},m:function(t,i){fh(t,e,i),bp(n,e,null),r=!0},p:function(t,e){var r={};256&e[0]&&(r.elasticity=t[8]*rx),512&e[2]&&(r.scrollDirection=t[71]?"y":"x"),4096&e[1]|12288&e[2]|128&e[17]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){r||(cp(n.$$.fragment,t),r=!0)},o:function(t){up(n.$$.fragment,t),r=!1},d:function(t){t&&hh(e),wp(n)}}}function Ww(t){var e,n=t[533].icon+"";return{c:function(){e=vh("g")},m:function(t,r){fh(t,e,r),e.innerHTML=n},p:function(t,r){64&r[17]&&n!==(n=t[533].icon+"")&&(e.innerHTML=n)},d:function(t){t&&hh(e)}}}function Kw(t){var e,n,r,i,o,a=t[533].label+"";return e=new Ig({props:{$$slots:{default:[Ww]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment),n=gh(),r=ph("span"),i=mh(a)},m:function(t,a){bp(e,t,a),fh(t,n,a),fh(t,r,a),sh(r,i),o=!0},p:function(t,n){var r={};192&n[17]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r),(!o||64&n[17])&&a!==(a=t[533].label+"")&&Ch(i,a)},i:function(t){o||(cp(e.$$.fragment,t),o=!0)},o:function(t){up(e.$$.fragment,t),o=!1},d:function(t){wp(e,t),t&&hh(n),t&&hh(r)}}}function Xw(t){for(var e,n,r=[t[75],{tabs:t[74]}],i={$$slots:{default:[Kw,function(t){return{533:t.tab}},function(t){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t.tab?64:0]}]},$$scope:{ctx:t}},o=0;o<r.length;o+=1)i=Nf(i,r[o]);return(e=new pg({props:i})).$on("select",t[373]),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var i=12288&n[2]?vp(r,[8192&n[2]&&mp(t[75]),4096&n[2]&&{tabs:t[74]}]):{};192&n[17]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Yw(t){var e,n,r;function i(e){t[381](e)}var o={class:"PinturaMain",content:Object.assign({},t[46].find(t[380]),{props:t[26][t[43]]}),locale:t[3],stores:t[186]};return void 0!==t[1][t[43]]&&(o.component=t[1][t[43]]),e=new Mg({props:o}),Zh.push((function(){return gp(e,"component",i)})),e.$on("measure",t[212]),e.$on("show",t[382]),e.$on("hide",t[383]),e.$on("fade",t[384]),{c:function(){yp(e.$$.fragment)},m:function(t,n){bp(e,t,n),r=!0},p:function(t,r){var i={};67108864&r[0]|36864&r[1]&&(i.content=Object.assign({},t[46].find(t[380]),{props:t[26][t[43]]})),8&r[0]&&(i.locale=t[3]),!n&&2&r[0]|4096&r[1]&&(n=!0,i.component=t[1][t[43]],Yh((function(){return n=!1}))),e.$set(i)},i:function(t){r||(cp(e.$$.fragment,t),r=!0)},o:function(t){up(e.$$.fragment,t),r=!1},d:function(t){wp(e,t)}}}function qw(t){for(var e,n,r=[{class:"PinturaMain"},{visible:t[58]},t[75],{panels:t[73]}],i={$$slots:{default:[Jw,function(t){return{531:t.panel,532:t.panelIsActive}},function(t){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(t.panel?16:0)|(t.panelIsActive?32:0)]}]},$$scope:{ctx:t}},o=0;o<r.length;o+=1)i=Nf(i,r[o]);return(e=new $g({props:i})).$on("measure",t[379]),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var i=134217728&n[1]|10240&n[2]?vp(r,[r[0],134217728&n[1]&&{visible:t[58]},8192&n[2]&&mp(t[75]),2048&n[2]&&{panels:t[73]}]):{};67108874&n[0]|134250560&n[1]|176&n[17]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Jw(t){var e,n,r;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[374].apply(e,[t[531]].concat(r))}function o(e){t[375](e,t[531])}var a={content:Object.assign({},t[46].find(i),{props:t[26][t[531]]}),locale:t[3],isActive:t[532],stores:t[186]};return void 0!==t[1][t[531]]&&(a.component=t[1][t[531]]),e=new Mg({props:a}),Zh.push((function(){return gp(e,"component",o)})),e.$on("measure",t[212]),e.$on("show",(function(){return t[376](t[531])})),e.$on("hide",(function(){return t[377](t[531])})),e.$on("fade",(function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[378].apply(e,[t[531]].concat(r))})),{c:function(){yp(e.$$.fragment)},m:function(t,n){bp(e,t,n),r=!0},p:function(r,o){t=r;var a={};67108864&o[0]|32768&o[1]|16&o[17]&&(a.content=Object.assign({},t[46].find(i),{props:t[26][t[531]]})),8&o[0]&&(a.locale=t[3]),32&o[17]&&(a.isActive=t[532]),!n&&2&o[0]|16&o[17]&&(n=!0,a.component=t[1][t[531]],Yh((function(){return n=!1}))),e.$set(a)},i:function(t){r||(cp(e.$$.fragment,t),r=!0)},o:function(t){up(e.$$.fragment,t),r=!1},d:function(t){wp(e,t)}}}function Qw(t){var e,n;return{c:function(){xh(e=ph("span"),"class","PinturaEditorOverlay"),xh(e,"style",n="opacity:"+t[96])},m:function(t,n){fh(t,e,n)},p:function(t,r){8&r[3]&&n!==(n="opacity:"+t[96])&&xh(e,"style",n)},d:function(t){t&&hh(e)}}}function tx(t){var e,n,r,i,o;Xh(t[371]);var a=t[40]&&Iw(t),c=t[96]>0&&Qw(t);return{c:function(){e=ph("div"),a&&a.c(),n=gh(),c&&c.c(),xh(e,"id",t[4]),xh(e,"class",t[72]),xh(e,"data-env",t[70])},m:function(u,s){fh(u,e,s),a&&a.m(e,null),sh(e,n),c&&c.m(e,null),t[391](e),r=!0,i||(o=[bh(Pw,"keydown",t[203]),bh(Pw,"keyup",t[204]),bh(Pw,"blur",t[205]),bh(Pw,"paste",t[209]),bh(Pw,"resize",t[371]),bh(e,"ping",(function(){Hf(t[64])&&t[64].apply(this,arguments)})),bh(e,"contextmenu",t[206]),bh(e,"touchstart",t[201],{passive:!1}),bh(e,"touchmove",(function(){Hf(t[67])&&t[67].apply(this,arguments)})),bh(e,"pointermove",(function(){Hf(t[66])&&t[66].apply(this,arguments)})),bh(e,"transitionend",t[191]),bh(e,"dropfiles",t[207]),bh(e,"measure",t[392]),bh(e,"click",(function(){Hf(t[42]?t[208]:Ec)&&(t[42]?t[208]:Ec).apply(this,arguments)})),nh(Xm.call(null,e,{observeViewRect:!0,isMeasureRoot:!0})),nh(Ym.call(null,e)),nh(Qm.call(null,e))],i=!0)},p:function(i,o){(t=i)[40]?a?(a.p(t,o),512&o[1]&&cp(a,1)):((a=Iw(t)).c(),cp(a,1),a.m(e,n)):a&&(op(),up(a,1,1,(function(){a=null})),ap()),t[96]>0?c?c.p(t,o):((c=Qw(t)).c(),c.m(e,null)):c&&(c.d(1),c=null),(!r||16&o[0])&&xh(e,"id",t[4]),(!r||1024&o[2])&&xh(e,"class",t[72]),(!r||256&o[2])&&xh(e,"data-env",t[70])},i:function(t){r||(cp(a),r=!0)},o:function(t){up(a),r=!1},d:function(n){n&&hh(e),a&&a.d(),c&&c.d(),t[391](null),i=!1,Zf(o)}}}var ex=1,nx="stage-overlay",rx=10;function ix(t,e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w,x,_,C,E,k,$,S,A,O,L,M,R,P,I,T,D,B,j,N,F,z,Z,H,V,U,G,W,K,X,Y,q,J,Q,tt,et,nt,rt,it,ot,at,ct,ut,st,lt,dt,ft,ht,pt,vt,mt,gt,yt,bt,wt,xt,_t,Ct,Et,kt,$t,St,At,Ot,Lt,Mt,Rt,Pt,It,Tt,Dt,Bt,jt,Nt,Ft,zt,Zt,Ht,Vt,Ut,Gt,Wt,Kt,Xt,Yt,qt,Jt,Qt,te,ee,ne,re,ie,oe,ae,ce,ue,se,le,de,fe,he,pe,ve,me,ge,ye,be,we,xe,_e,Ce,Ee,ke,$e,Se,Ae,Oe,Le,Me,Re,Pe,Ie,Te,De,Be,je,Ne,Fe,ze,Ze,He,Ve,Ue,Ge,We,Ke,Xe,Ye,qe,Je,Qe,tn,en,nn,rn,on,an,cn,un,sn,ln,dn,fn,hn,pn,vn,mn,gn,yn,bn,wn,xn,_n,Cn,En,kn,$n,Sn,An,On,Ln,Mn,Rn=Bf,Pn=Bf;Wf(t,Dm,(function(t){return n(366,en=t)})),t.$$.on_destroy.push((function(){return Rn()})),t.$$.on_destroy.push((function(){return Pn()}));var In=od(),Tn=Bh(),Dn=e.class,Bn=void 0===Dn?void 0:Dn,jn=e.layout,Nn=void 0===jn?void 0:jn,Fn=e.stores,zn=e.locale,Zn=void 0===zn?void 0:zn,Hn=e.id,Vn=void 0===Hn?void 0:Hn,Un=e.util,Gn=void 0===Un?void 0:Un,Wn=e.utils,Kn=void 0===Wn?void 0:Wn,Xn=e.animations,Yn=void 0===Xn?"auto":Xn,qn=e.disabled,Jn=void 0!==qn&&qn,Qn=e.status,tr=void 0===Qn?void 0:Qn,er=e.previewUpscale,nr=void 0!==er&&er,rr=e.previewPad,ir=void 0!==rr&&rr,or=e.previewMaskOpacity,ar=void 0===or?.95:or,cr=e.previewImageDataMaxSize,ur=void 0===cr?void 0:cr,sr=e.previewImageTextPixelRatio,lr=void 0===sr?void 0:sr,dr=e.markupMaskOpacity,fr=void 0===dr?1:dr,hr=e.zoomMaskOpacity,pr=void 0===hr?.85:hr,vr=e.elasticityMultiplier,mr=void 0===vr?10:vr,gr=e.willRevert,yr=void 0===gr?function(){return Promise.resolve(!0)}:gr,br=e.willProcessImage,wr=void 0===br?function(){return Promise.resolve(!0)}:br,xr=e.willRenderCanvas,_r=void 0===xr?hu:xr,Cr=e.willRenderToolbar,Er=void 0===Cr?hu:Cr,kr=e.willSetHistoryInitialState,$r=void 0===kr?hu:kr,Sr=e.enableButtonExport,Ar=void 0===Sr||Sr,Or=e.enableButtonRevert,Lr=void 0===Or||Or,Mr=e.enableNavigateHistory,Rr=void 0===Mr||Mr,Pr=e.enableToolbar,Ir=void 0===Pr||Pr,Tr=e.enableUtils,Dr=void 0===Tr||Tr,Br=e.enableButtonClose,jr=void 0!==Br&&Br,Nr=e.enableDropImage,Fr=void 0!==Nr&&Nr,zr=e.enablePasteImage,Zr=void 0!==zr&&zr,Hr=e.enableBrowseImage,Vr=void 0!==Hr&&Hr,Ur=e.enableTransparencyGrid,Gr=void 0!==Ur&&Ur,Wr=e.layoutDirectionPreference,Kr=void 0===Wr?"auto":Wr,Xr=e.layoutHorizontalUtilsPreference,Yr=void 0===Xr?"left":Xr,qr=e.layoutVerticalUtilsPreference,Jr=void 0===qr?"bottom":qr,Qr=e.layoutVerticalToolbarPreference,ti=void 0===Qr?"top":Qr,ei=e.layoutVerticalControlGroupsPreference,ni=void 0===ei?"bottom":ei,ri=e.layoutVerticalControlTabsPreference,ii=void 0===ri?"bottom":ri,oi=e.markupEditorZoomLevel,ai=void 0===oi?null:oi,ci=e.markupEditorZoomLevels,ui=void 0===ci?void 0:ci,si=e.markupEditorZoomAdjustStep,li=void 0===si?void 0:si,di=e.markupEditorZoomAdjustFactor,fi=void 0===di?void 0:di,hi=e.markupEditorZoomAdjustWheelFactor,pi=void 0===hi?void 0:hi,vi=e.markupEditorInteractionMode,mi=void 0!==vi&&vi,gi=e.muteAudio,yi=void 0===gi||gi,bi=e.willSetMediaInitialTimeOffset,wi=void 0===bi?function(t,e){return t*(n=e[0],(r=n[0])+.5*(n[1]-r));var n,r}:bi,xi=e.enablePan,_i=void 0===xi||xi,Ci=e.enableZoom,Ei=void 0===Ci||Ci,ki=e.enableZoomControls,$i=void 0===ki||ki,Si=e.enableZoomInput,Ai=void 0===Si?void 0:Si,Oi=e.enablePanInput,Li=void 0===Oi?void 0:Oi,Mi=e.enableCanvasAlpha,Ri=void 0!==Mi&&Mi,Pi=e.enablePanLimit,Ii=void 0===Pi?void 0:Pi,Ti=e.panLimitGutterScalar,Di=void 0===Ti?void 0:Ti,Bi=e.zoomPresetOptions,ji=void 0===Bi?[.25,.5,1,1.25,1.5,2,3,4,6,8,16]:Bi,Ni=e.zoomAdjustStep,Fi=void 0===Ni?.25:Ni,zi=e.zoomAdjustFactor,Zi=void 0===zi?.1:zi,Hi=e.zoomAdjustWheelFactor,Vi=void 0===Hi?1:Hi,Ui=e.zoomLevel,Gi=void 0===Ui?null:Ui,Wi=e.imagePreviewSrc,Ki=void 0===Wi?void 0:Wi,Xi=e.imageOrienter,Yi=void 0===Xi?{read:function(){return 1},apply:function(t){return t}}:Xi,qi=e.pluginComponents,Ji=void 0===qi?void 0:qi,Qi=e.pluginOptions,to=void 0===Qi?{}:Qi,eo=In.sub,no={},ro=e.root,io=kp(yi);Wf(t,io,(function(t){return n(352,Se=t)}));var oo=kp({});Wf(t,oo,(function(t){return n(51,ne=t)})),jh("redrawTrigger",oo);var ao=kp(mr);Wf(t,ao,(function(t){return n(433,fn=t)})),jh("elasticityMultiplier",ao);var co=[],uo=Pm();Wf(t,uo,(function(t){return n(96,Mn=t)}));var so,lo,fo,ho=gm()||1024,po=rs(ho,ho),vo=dv(),mo=e.imageSourceToImageData,go=void 0===mo?function(t){return Wc(t)?function(t){return Promise.resolve(dn&&dn(t,{resourceType:"image"})).then((function(e){if(!1!==e){var n=e||{},r=n.headers,i=n.credentials;return fetch(t,{headers:r,credentials:i}).then((function(t){if(200!==t.status)throw t.status+" ("+t.statusText+")";return t.blob()})).then((function(t){return hw(t,Yi,vo)})).then((function(t){return pw(t,o)}))}}))}(t):Ys(t)?new Promise((function(e){return e(Rc(t))})):_l(t)||qs(t)?hw(t,Yi,vo).then((function(t){return pw(t,o)})):void 0}:mo,yo=(fo=ow.reduce((function(t,e){return t[e]=function(t,e,n){var r=[];return{set:e,update:n,publish:function(t){r.forEach((function(e){return e(t)}))},subscribe:function(e){return r.push(e),t(e),function(){r=r.filter((function(t){return t!==e}))}}}}((function(t){if(!lo)return t();lo.stores[e].subscribe(t)()}),(function(t){lo&&lo.stores[e].set(t)}),(function(t){lo&&lo.stores[e].update(t)})),t}),{}),{update:function(t){if(lo=t,so&&(so.forEach((function(t){return t()})),so=void 0),!t)return fo.file.publish(void 0),void fo.loadState.publish(void 0);so=ow.map((function(e){return t.stores[e].subscribe((function(t){fo[e].publish(t)}))}))},stores:fo,destroy:function(){so&&so.forEach((function(t){return t()}))}}),bo=yo.stores,wo=bo.file,xo=bo.size,_o=bo.duration,Co=bo.trim,Eo=bo.loadState,ko=bo.processState,$o=bo.cropAspectRatio,So=bo.cropLimitToImage,Ao=bo.crop,Oo=bo.cropMinSize,Lo=bo.cropMaxSize,Mo=bo.cropRange,Ro=bo.cropOrigin,Po=bo.cropRectAspectRatio,Io=bo.rotation,To=bo.rotationRange,Do=bo.targetSize,Bo=bo.flipX,jo=bo.flipY,No=bo.backgroundColor,Fo=bo.backgroundImage,zo=bo.colorMatrix,Zo=bo.convolutionMatrix,Ho=bo.gamma,Vo=bo.vignette,Uo=bo.noise,Go=bo.decoration,Wo=bo.annotation,Ko=bo.redaction,Xo=bo.frame,Yo=bo.state;Wf(t,wo,(function(t){return n(349,_e=t)})),Wf(t,xo,(function(t){return n(321,Bt=t)})),Wf(t,_o,(function(t){return n(418,Ae=t)})),Wf(t,Co,(function(t){return n(432,ln=t)})),Wf(t,Eo,(function(t){return n(341,fe=t)})),Wf(t,ko,(function(t){return n(340,de=t)})),Wf(t,$o,(function(t){return n(429,rn=t)})),Wf(t,So,(function(t){return n(81,mn=t)})),Wf(t,Ao,(function(t){return n(361,Ze=t)})),Wf(t,Io,(function(t){return n(324,Ft=t)})),Wf(t,Bo,(function(t){return n(323,Nt=t)})),Wf(t,jo,(function(t){return n(322,jt=t)})),Wf(t,No,(function(t){return n(331,qt=t)})),Wf(t,Go,(function(t){return n(48,Dt=t)})),Wf(t,Wo,(function(t){return n(49,zt=t)})),Wf(t,Ko,(function(t){return n(329,Xt=t)})),Wf(t,Xo,(function(t){return n(47,Tt=t)})),Wf(t,Yo,(function(t){return n(417,ke=t)}));var qo,Jo=function(t,e,n){return void 0===n&&(n=0),new Promise((function(r,i){if(dw(t)){(cd()?Lw(t):Promise.resolve()).then((function(e){var n=document.createElement("video");n.onerror=function(){},n.playsInline=!0,n.preload="auto",n.onloadeddata=function(){n.onloadeddata=void 0,n.dataset.rotation=e,hv(n).then((function(){var t=wi(n.duration,ln||[[0,1]]);t>0?(n.onseeked=function(){n.onseeked=void 0,r(n)},n.currentTime=t):(n.currentTime=t,r(n))}))},n.src=URL.createObjectURL(t),n.load()}))}else{var o,a=!1;e.cancel=function(){return a=!0};var c=Date.now();go(t).then((function(t){var e=Date.now()-c;clearTimeout(o),o=setTimeout((function(){a||r(t)}),Math.max(0,n-e))})).catch(i)}}))},Qo=Fn,ta=Qo.images,ea=Qo.shapePreprocessor,na=Qo.imageScrambler,ra=Qo.imageRedactionRendering,ia=Qo.willRequest,oa=Qo.willRequestResource;Wf(t,ta,(function(t){return n(370,sn=t)})),Wf(t,ea,(function(t){return n(369,un=t)})),Wf(t,na,(function(t){return n(332,Jt=t)})),Wf(t,ra,(function(t){return n(330,Yt=t)})),Wf(t,ia,(function(t){return n(77,dn=t)})),Wf(t,oa,(function(t){return n(87,_n=t)}));var aa=$p(Fo,(function(t,e){if(!t)return e(void 0);qo&&(qo.cancel(),qo=void 0),Jo(t,qo={cancel:Ec}).then(e).catch((function(t){}))})),ca=Yo.subscribe((function(t){return In.pub("update",t)})),ua=kp();jh("ui",kp({}));var sa=kp(!0);Wf(t,sa,(function(t){return n(89,En=t)}));var la=kp(!0);Wf(t,la,(function(t){return n(91,$n=t)}));var da=kp(!0);Wf(t,da,(function(t){return n(368,cn=t)}));var fa=kp(!0);Wf(t,fa,(function(t){return n(430,on=t)}));var ha=kp(!0);Wf(t,ha,(function(t){return n(92,Sn=t)}));var pa=kp();Wf(t,pa,(function(t){return n(93,An=t)}));var va=kp();Wf(t,va,(function(t){return n(431,an=t)}));var ma=$p([va,fa],(function(){return void 0!==an?an:on}));Wf(t,ma,(function(t){return n(90,kn=t)}));var ga=kp([0,0,0]);Wf(t,ga,(function(t){return n(55,Re=t)}));var ya=kp([1,1,1]);Wf(t,ya,(function(t){return n(414,Wt=t)}));var ba=Pm([1,1,1]);Wf(t,ba,(function(t){return n(413,Gt=t)}));var wa=kp(),xa=kp();Wf(t,xa,(function(t){return n(50,te=t)}));var _a=kp();Wf(t,_a,(function(t){return n(326,Ht=t)}));var Ca=kp(ms());Wf(t,Ca,(function(t){return n(76,$e=t)}));var Ea=kp(0);Wf(t,Ea,(function(t){return n(367,nn=t)}));var ka=kp(ms());Wf(t,ka,(function(t){return n(80,vn=t)}));var $a=kp();Wf(t,$a,(function(t){return n(411,It=t)}));var Sa=sw("(pointer: fine)",(function(t){return t?"pointer-fine":"pointer-coarse"}));Wf(t,Sa,(function(t){return n(347,we=t)}));var Aa=sw("(hover: hover)",(function(t){return t?"pointer-hover":"pointer-no-hover"}));Wf(t,Aa,(function(t){return n(346,be=t)}));var Oa=kp(!1),La=kp(!1);Wf(t,La,(function(t){return n(327,Ut=t)}));var Ma=Ep(void 0,(function(t){var e=Pm(0),n=[La.subscribe((function(t){e.set(t?1:0)})),e.subscribe(t)];return function(){return n.forEach((function(t){return t()}))}}));Wf(t,Ma,(function(t){return n(412,Vt=t)}));var Ra=kp();Wf(t,Ra,(function(t){return n(416,me=t)}));var Pa,Ia=kp();Wf(t,Ia,(function(t){return n(52,ie=t)})),jh("isAnimated",Ia);var Ta=kp(nr);Wf(t,Ta,(function(t){return n(350,Ce=t)}));var Da=kp(!1);Wf(t,Da,(function(t){return n(423,Ge=t)})),jh("imageIsStatic",Da);var Ba=kp();Wf(t,Ba,(function(t){return n(424,We=t)}));var ja=kp();Wf(t,ja,(function(t){return n(421,Ve=t)}));var Na=Ep(void 0,(function(t){var e=kp(void 0),n=[Ao.subscribe((function(){if(Ze){if(Ge)return e.set(vs(Ze));var t=Wg(Ze,Ve,5*mr);e.set(t)}})),e.subscribe(t)];return function(){return n.forEach((function(t){return t()}))}})),Fa=kp();Wf(t,Fa,(function(t){return n(420,ze=t)}));var za=kp();Wf(t,za,(function(t){return n(422,Ue=t)}));var Za=kp(void 0);Wf(t,Za,(function(t){return n(427,Je=t)}));var Ha=kp(Ou());Wf(t,Ha,(function(t){return n(428,Qe=t)}));var Va=function(t,e){if(!e||!t)return{top:0,right:0,bottom:0,left:0};var n=df(e,t,a),r=lf(n,t);return{top:Math.abs(r.top),right:Math.abs(r.right),bottom:Math.abs(r.bottom),left:Math.abs(r.left)}},Ua=kp({}),Ga=$p([$a,Ca,ka,Ua],(function(t,e){var n=t[0],i=t[1],o=t[2];t[3];if(!n)return e(void 0);var a=0;1!==x.length||r||"bottom"===ti||(a=o.y+o.height),e(xs(n.x+i.x,n.y+i.y+a,n.width,n.height))})),Wa={left:0,right:0,top:0,bottom:0},Ka=kp(!1),Xa=$p([Ka,Xo,Ga,La],(function(t,e){var n=t[0],r=t[1],i=t[2];t[3];if(!i)return e({left:0,right:0,top:0,bottom:0});if(n){var o=Math.min(i.width,i.height),a=Va({width:o,height:o},r);Su(Wa.top,4)===Su(a.top,4)&&Su(Wa.bottom,4)===Su(a.bottom,4)&&Su(Wa.right,4)===Su(a.right,4)&&Su(Wa.left,4)===Su(a.left,4)||(Wa=a,e(a))}}));Wf(t,Xa,(function(t){return n(359,je=t)}));var Ya=$p([Ka,Xa],(function(t,e){var n=t[0],r=t[1];if(!n)return e(!1);e(Object.values(r).some((function(t){return t>0})))}));Wf(t,Ya,(function(t){return n(360,Ne=t)}));var qa=$p([Ka,$a,Ya,Xa],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];if(r)return n&&i?void e(xs(r.x+o.left,r.y+o.top,r.width-o.left-o.right,r.height-o.top-o.bottom)):e(Object.assign({},r))})),Ja=$p([Ga,Ya,Xa],(function(t,e){var n=t[0],r=t[1],i=t[2];return n?r?void e(xs(n.x+i.left,n.y+i.top,n.width-i.left-i.right,n.height-i.top-i.bottom)):e(n):e(void 0)}));Wf(t,Ja,(function(t){return n(325,Zt=t)}));var Qa=$p([Da,xo,Io],(function(t,e){var n=t[0],r=t[1],i=t[2];if(!n||!r)return e(void 0);var o=gs(r);e(Rs(o,i))})),tc=$p([Qa],(function(t,e){var n=t[0];if(!n)return e(void 0);var r=bs(n);e(zs(r))}));Wf(t,tc,(function(t){return n(362,He=t)}));var ec=$p([Ja,Ao,tc,Ta],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];if(n&&r&&!!(!We&&!Ve)){var a=i||r,c=a.width,u=a.height,s=Math.min(n.width/c,n.height/u);e(o?s:Math.min(1,s))}}));Wf(t,ec,(function(t){return n(363,Xe=t)}));var nc=$p([Da,xo,Io,Ja,$a,ec],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5];if(!(n&&o&&a&&r))return e(void 0);var u=gs(r),s=zs(Es(u,c)),l=Ps(o,s);s.x=l.x,s.y=l.y,e(Rs(s,i))}));jh("imageStaticVisualCorners",nc);var rc=kp(void 0);Wf(t,rc,(function(t){return n(365,tn=t)}));var ic=$p([Ao,Ja],(function(t){var e=t[0],n=t[1];if(n&&e)return Math.min(n.width/e.width,n.height/e.height)})),oc=$p([Ao,Fa],(function(t){var e=t[0],n=t[1];return e&&n?Math.min(e.width/n.width,e.height/n.height):1}));Wf(t,oc,(function(t){return n(95,Ln=t)}));var ac=$p([rc,oc],(function(t){var e=t[0],n=t[1];return e&&n?n*e:1}));Wf(t,ac,(function(t){return n(426,Ye=t)}));var cc=kp(Ou());Wf(t,cc,(function(t){return n(364,qe=t)}));var uc=kp({scalar:Ye,translation:qe}),sc=function(){uc.set({scalar:void 0,translation:Ou()})},lc=Ep(void 0,(function(t){var e=Pm(void 0,{precision:1e-4}),n=1===my()?function(t){return Ns(t,Math.round)}:hu,r=function(){if(ze){var t=Ut||!me;if(Ge){var r=vs(ze);return Cs(r,Qe),Cs(r,Zt),e.set(r,{hard:t})}var i=Wg(ze,Je,ex*mr);i.width<0&&(i.width=0,i.x=ze.x),i.height<0&&(i.height=0,i.y=ze.y),Cs(i,Zt),Cs(i,qe),Es(i,Ye),!t&&n(i),e.set(i,{hard:t})}},i=[Ja.subscribe(r),Fa.subscribe(r),ac.subscribe(r),cc.subscribe(r),Xo.subscribe(r),e.subscribe(t)];return function(){return i.forEach((function(t){return t()}))}}));Wf(t,lc,(function(t){return n(57,Be=t)}));var dc=kp(1);Wf(t,dc,(function(t){return n(419,Fe=t)}));var fc=function(){if(Ze&&Zt){var t=Ss(vs(Ze),Xe||1),e=Ps(Zt,Ss(vs(He),Xe));Cs(t,e);var n=It.width/t.width,r=It.height/t.height,i=Math.min(1,n,r);dc.set(i),Es(t,i),function(t,e){var n=Bs(t),r=n[0],i=n[1],o=n[2],a=n[3];r<e.y&&(t.y=Math.max(e.y,t.y)),i>e.width&&(t.x=e.width-t.width),o>e.height&&(t.y=e.height-t.height),a<e.x&&(t.x=Math.max(e.x,t.x))}(t,Object.assign({},It,{x:0,y:0})),Fa.set(t)}},hc=$p([Ja,ec,Ao,xo],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n&&(i||o)&&e(gc(n,r||1,i||o))}));Wf(t,hc,(function(t){return n(94,On=t)}));var pc,vc,mc,gc=function(t,e,n){return n.width<=t.width&&n.height<=t.height?Ps(t,Ss(vs(n),e)):Ds(t,Os(n))},yc=function(t){if(!(r&&pc&&As(pc,t)&&vc===Xe)){if(Ge)return fc();pc=t,vc=Xe;var e=gc(t,Xe,Ze||Bt);Fa.set(e)}},bc=!1,wc=ec.subscribe((function(t){!bc&&void 0!==t&&Ze&&(yc(Zt),bc=!0)})),xc=Ja.subscribe((function(t){t&&void 0!==Xe&&Ze&&yc(t)})),_c=Da.subscribe((function(t){!t&&Zt&&yc(Zt)})),Cc=za.subscribe((function(t){if(!t)return mc=void 0,void eh(Ba,We=void 0,We);mc=Ke;var e=vs(Ze);Ba.set(e)})),kc=Fa.subscribe((function(t){if(t&&Ue){var e,n,r=(e=vs(t),n=Ue,e.x-=n.x,e.y-=n.y,e.width-=n.width,e.height-=n.height,e);!function(t,e){t.x/=e,t.y/=e,t.width/=e,t.height/=e}(r,mc);var i=function(t,e){return t.x+=e.x,t.y+=e.y,t.width+=e.width,t.height+=e.height,t}(vs(We),r);Ao.set(i)}})),$c=Ao.subscribe((function(t){if(t&&ze)if(Ge)Ue||fc();else if(!(Ut||Ue||Ve)){var e=Os(ze),n=Os(t);if(Su(e,6)!==Su(n,6)){var r=He||Ze,i=r.width,o=r.height,a=Math.min(Zt.width/i,Zt.height/o),c=rs(t.width*a,t.height*a),u=.5*(ze.width-c.width),s=.5*(ze.height-c.height),l=xs(ze.x+u,ze.y+s,c.width,c.height);Fa.set(l)}}})),Sc=$p([ec,Ao,Fa,Da],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];if(n&&r&&i){if(o)return e(Fe);var a=i.width/r.width,c=i.height/r.height;e(Math.max(a,c)/n)}})),Ac=$p([ec,Sc],(function(t,e){var n=t[0],r=t[1];r&&e(n*r)}));Wf(t,Ac,(function(t){return n(425,Ke=t)}));var Oc={left:0,right:0,top:0,bottom:0},Lc=$p([Xo,Fa],(function(t,e){var n=t[0],r=t[1];if(!r)return e(Oc);var i=Va(r,n);Su(Oc.top,4)===Su(i.top,4)&&Su(Oc.bottom,4)===Su(i.bottom,4)&&Su(Oc.right,4)===Su(i.right,4)&&Su(Oc.left,4)===Su(i.left,4)||(Oc=i,e(i))})),Mc=$p([Lc],(function(t,e){var n=t[0];e(Object.values(n).some((function(t){return t>0})))})),Pc=Pm(.075,{stiffness:.03,damping:.4,precision:.001}),Ic=$p([ba,ga,Pc,lc,ac,Xo,Mc,Lc,Ya],(function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],c=t[4],u=t[5],s=t[6],l=t[7],d=t[8];if(!a||r)return e([]);var f=a.x,h=a.y,p=a.width,v=a.height;f+=.5,h+=.5,p-=.5,v-=.5;var m=[];if(u){if(s){var g=l.left,y=l.right,b=l.top,w=l.bottom;g*=c,y*=c,b*=c,w*=c;var x=_w(i)?[1,1,1,.125]:[0,0,0,.075];m.push({x:f-g-.5,y:h-b-.5,width:p+g+y+1,height:v+b+w+1,strokeWidth:1,strokeColor:x,opacity:d?1:.5})}var _=_w(n);u&&u.frameColor&&_w(u.frameColor)||_||(m.push({x:f-1,y:h-1,width:p+2,height:v+2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:o}),m.push({x:f+1,y:h+1,width:p-2,height:v-2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:o}))}e([].concat(m,[{x:f,y:h,width:p,height:v,strokeWidth:1,strokeColor:n,opacity:o}]))})),Tc=kp([]);Wf(t,Tc,(function(t){return n(353,Oe=t)}));var Bc=$p([Ic,Tc],(function(t,e){var n=t[0],r=t[1];e([].concat(n,r))}));Wf(t,Bc,(function(t){return n(88,Cn=t)}));var jc=Pm(0,{precision:.001});Wf(t,jc,(function(t){return n(355,Me=t)}));var Nc=Pm();Wf(t,Nc,(function(t){return n(358,Te=t)}));var Zc=Pm();Wf(t,Zc,(function(t){return n(357,Ie=t)}));var Hc=Pm();Wf(t,Hc,(function(t){return n(356,Pe=t)}));var Vc=Pm();Wf(t,Vc,(function(t){return n(354,Le=t)}));var Uc=kp(!1);Wf(t,Uc,(function(t){return n(339,le=t)}));var Gc,Kc=kp();Wf(t,Kc,(function(t){return n(342,he=t)}));var Xc=$p([Uc,Kc],(function(t,e){var r=t[0],i=t[1];if(r&&i){if(Gc&&(Gc.cancel(),n(256,Gc=void 0)),vf(i))return e(zc(i));var o=yu.length?0:ie?250:0;n(256,Gc={cancel:Ec}),Jo(i,Gc,o).then(e).catch((function(t){eh(Eo,fe.error=t,fe)})).finally((function(){n(256,Gc=void 0)}))}else e(void 0)}));Rn(),Rn=Uf(Xc,(function(t){return n(328,Kt=t)}));var Yc=function(t){Ae&&Kt&&(t&&Kt.paused?Kt.play().catch((function(){})):t||Kt.paused||Kt.pause())},qc=e.imagePreviewCurrent,Jc=void 0===qc?void 0:qc,tu=kp({});Wf(t,tu,(function(t){return n(344,ge=t)}));var eu=kp([]);Wf(t,eu,(function(t){return n(82,gn=t)}));var nu=$p([Ja,_a,xo,Na,Fa,Ac,Io,Bo,jo,ac,cc,Oa],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5],u=t[6],s=t[7],l=t[8],d=t[9],f=t[10],h=t[11];if(n&&a){var p=Zv(n,r,i,o,a,d,f,c,u,s,l);!h&&y(p),e(p)}}));Wf(t,nu,(function(t){return n(345,ye=t)}));var ru,iu,ou=$p([zo,Zo,Ho,Vo,Uo],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=n&&Object.keys(n).map((function(t){return n[t]})).filter(Boolean);e({gamma:i||void 0,vignette:o||void 0,noise:a||void 0,convolutionMatrix:r||void 0,colorMatrix:c&&c.length&&Tf(c)})})),au=function(){if(!Al())return!1;var t=(navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/i)||[]).map((function(t){return parseInt(t,10)||0})),e=t[1],n=t[2];return e>13||13===e&&n>=4}(),cu=kp({});Wf(t,cu,(function(t){return n(333,ee=t)}));var uu=my(),su=Ep(uu,(function(t){var e=function(){return t(my())},n=matchMedia("(resolution: "+uu+"dppx)");return n.addListener(e),function(){return n.removeListener(e)}}));Wf(t,su,(function(t){return n(56,De=t)}));var lu=function(t,e){var n=od(),r=n.sub,i=n.pub,o=[],a=kp(0),c=[],u=function(){return c.forEach((function(t){return t({index:Gf(a),length:o.length})}))},s={get index(){return Gf(a)},set index(t){t=Number.isInteger(t)?t:0,t=Gp(t,0,o.length-1),a.set(t),e(o[s.index]),u()},get state(){return o[o.length-1]},length:function(){return o.length},undo:function(){var t=s.index--;return i("undo",t),t},redo:function(){var t=s.index++;return i("redo",s.index),t},revert:function(){o.length=1,s.index=0,i("revert")},write:function(n){n&&e(Object.assign({},t(),n));var r=t(),c=o[o.length-1];JSON.stringify(r)!==JSON.stringify(c)&&(o.length=s.index+1,o.push(r),a.set(o.length-1),u(),i("writehistory"))},set:function(t){void 0===t&&(t={}),o.length=0,s.index=0;var e=Array.isArray(t)?t:[t];o.push.apply(o,e),s.index=o.length-1},get:function(){return[].concat(o)},subscribe:function(t){return c.push(t),t({index:s.index,length:o.length}),function(){return c.splice(c.indexOf(t),1)}},on:r};return s}((function(){return ke}),(function(t){eh(Yo,ke=t,ke),Ca.set($e)}));Pn(),Pn=Uf(lu,(function(t){return n(351,Ee=t)}));var du=function(){var t=Object.assign({x:0,y:0},Bt),e=Ns(Ds(t,ke.cropAspectRatio),Math.round),n=$r(Object.assign({},ke,{rotation:0,crop:e}),ke),r=[n];JSON.stringify(n)!==JSON.stringify(ke)&&r.push(Object.assign({},ke)),lu.set(r)},fu=Eo.subscribe((function(t){t&&t.complete&&du()})),pu=function(){return yr().then((function(t){return t&&lu.revert()}))},vu=kp(!1);Wf(t,vu,(function(t){return n(334,re=t)}));var mu=function(){eh(vu,re=!0,re),wr().then((function(t){var e;t?e=Ku.subscribe((function(t){1===t&&(e&&e(),Tn("processImage"))})):eh(vu,re=!1,re)}))},gu=ko.subscribe((function(t){if(t){eh(vu,re=!0,re);var e=t.complete,n=t.abort;(e||n)&&eh(vu,re=!1,re)}else eh(vu,re=!1,re)})),yu=xw();Wf(t,yu,(function(t){return n(54,pe=t)}));var bu=$p([yu],(function(t,e){var n=t[0];if(!n.length)return e();var r=n[0];e({origin:r.origin,translation:r.translation,rotation:r.rotation,scale:r.scale})})),wu=kp();Wf(t,wu,(function(t){return n(348,xe=t)}));var xu,_u=[],Cu=kp(),Eu=kp(),ku=$p([rc,Eu,ec,ic],(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e||(n||r<1?i:1)})),$u=Object.assign({},Fn,{imageFile:wo,imageSize:xo,mediaDuration:_o,mediaTrim:Co,imageBackgroundColor:No,imageBackgroundImage:Fo,imageCropAspectRatio:$o,imageCropMinSize:Oo,imageCropMaxSize:Lo,imageCropLimitToImage:So,imageCropRect:Ao,imageCropRectOrigin:Ro,imageCropRectSnapshot:Ba,imageCropRectAspectRatio:Po,imageCropRange:Mo,imageRotation:Io,imageRotationRange:To,imageFlipX:Bo,imageFlipY:jo,imageOutputSize:Do,imageColorMatrix:zo,imageConvolutionMatrix:Zo,imageGamma:Ho,imageVignette:Vo,imageNoise:Uo,imageDecoration:Go,imageAnnotation:Wo,imageRedaction:Ko,imageFrame:Xo,imagePreview:Xc,imagePreviewSource:Kc,imageTransforms:nu,imagePreviewModifiers:tu,history:lu,animation:Ra,pixelRatio:su,elasticityMultiplier:mr,scrollElasticity:rx,rangeInputElasticity:5,redrawTrigger:oo,pointerAccuracy:Sa,pointerHoverable:Aa,env:cu,rootRect:_a,stageRect:Ja,stageRectBase:Ga,stageRecenter:Ua,stageScalar:ec,stagePadding:Xa,stagePadded:Ya,presentationScalar:Ac,imagePreviewUpscale:Eu,utilRect:$a,utilRectPadded:qa,allowPan:sa,allowZoom:la,allowZoomControls:da,enableZoomInput:ha,enablePanInput:fa,enablePanInputStatus:ma,imageSelectionMultiTouching:Cu,rootBackgroundColor:ga,rootForegroundColor:ya,rootLineColor:ba,rootColorSecondary:wa,imageOutlineOpacity:Pc,utilTools:wu,imageSelectionPan:cc,imageSelectionZoom:rc,imageSelectionZoomCurrent:ku,imageSelectionStageFitScalar:ic,imageSelectionStoredState:uc,muteAudioStore:io,imageOverlayMarkup:Tc,interfaceImages:eu,isInteracting:La,isTransformingImage:Oa,isInteractingFraction:Ma,imageCropRectIntent:ja,imageCropRectPresentation:Na,imageSelectionRect:Fa,imageSelectionRectIntent:Za,imageSelectionRectPresentation:lc,imageSelectionRectSnapshot:za,imageScalar:Sc,imageTransformsInterpolated:bu,imageEffects:ou});delete $u.image;var Au="util-"+Qc(),Mu=[],Ru=function(t){return _.find((function(e){var n=e[0];return t===n}))},Pu=[],Iu=Al(),Tu=function(t,e,n){var r=J.getPropertyValue(t);r=n?n(r):/^[0-9]+$/.test(r)?parseFloat(r):void 0,e.set(r,{hard:!ie})},Du=function(t,e,n){void 0===n&&(n=!1);var r,i,o=(r=t,i=J.getPropertyValue(r),vw(i));o&&0!==o[3]&&(n||(o.length=3),e.set(o,{hard:!ie}))},Bu=kp();Wf(t,Bu,(function(t){return n(83,yn=t)}));var Nu=kp();Wf(t,Nu,(function(t){return n(84,bn=t)}));var Fu=kp();Wf(t,Fu,(function(t){return n(85,wn=t)}));var zu=Pm(0,{damping:.9});Wf(t,zu,(function(t){return n(86,xn=t)}));var Zu=function(){Du("color",ya),Du(Ri?"--color-background":"background-color",ga),Du("outline-color",ba),Du("--color-secondary",wa),Du("--grid-color-even",Nu,!0),Du("--grid-color-odd",Fu,!0),Tu("--grid-size",Bu),Tu("--editor-inset-top",Ea,(function(t){return parseInt(t,10)}))},Hu=$p([nu,ou,No,aa],(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e&&Object.assign({},e,n,{backgroundColor:r,backgroundImage:i})}));Wf(t,Hu,(function(t){return n(343,ve=t)}));var Vu,Uu,Gu=function(){var t=yu.length?void 0:{resize:1.05},e=function(t,e,n){void 0===n&&(n={});var r,i=n,o=i.resize,a=void 0===o?1:o,c=i.opacity,u={opacity:[Pm(void 0===c?0:c,Object.assign({},bw,{stiffness:.1})),hu],resize:[Pm(a,Object.assign({},bw,{stiffness:.1})),hu],translation:[Pm(void 0,bw),hu],rotation:[Pm(void 0,ww),hu],origin:[Pm(void 0,bw),hu],scale:[Pm(void 0,ww),hu],gamma:[Pm(void 0,ww),function(t){return t||1}],vignette:[Pm(void 0,ww),function(t){return t||0}],colorMatrix:[Pm([].concat(yw),bw),function(t){return t||[].concat(yw)}],convolutionMatrix:[kp(void 0),function(t){return t&&t.clarity||void 0}],backgroundColor:[Pm(void 0,bw),function(t,e,n){if(Array.isArray(t)){if(Array.isArray(e)){var r=[].concat(t);0===e[3]?(r[3]=0,n(r)):0===r[3]&&((t=[].concat(e))[3]=0)}return t}}],backgroundImage:[kp(void 0),hu]},s=Object.entries(u).map((function(t){return[t[0],t[1][0]]})),l=s.map((function(t){return t[1]})),d=Object.entries(u).reduce((function(t,e){var n=e[0],i=e[1],o=i[0],a=i[1];return t[n]=function(t,e){return o.set(a(t,r[n],(function(t){o.set(t,{hard:!0})})),e)},t}),{}),f=$p(l,(function(n){return(r=n.reduce((function(t,e,n){return t[s[n][0]]=e,t}),{})).data=t,r.size=e,r.scale*=n[1],r}));return f.get=function(){return r},f.set=function(t,e){var n={hard:!e};Object.entries(t).forEach((function(t){var e=t[0],r=t[1];d[e]&&d[e](r,n)}))},f}(Kt,Bt,t);yu.unshift(e),Wu(ve)},Wu=function(t){yu.forEach((function(e,n){var r=0===n?1:0;e.set(Object.assign({},t,{opacity:r,resize:1}),me)}))},Ku=Mm(void 0,{duration:500});Wf(t,Ku,(function(t){return n(53,ue=t)}));var Xu,Yu=kp(!1);Wf(t,Yu,(function(t){return n(338,se=t)}));var qu=Pm(void 0,{stiffness:.1,damping:.7,precision:.25});Wf(t,qu,(function(t){return n(78,hn=t)}));var Ju=Pm(0,{stiffness:.1,precision:.05});Wf(t,Ju,(function(t){return n(79,pn=t)}));var Qu=Pm(0,{stiffness:.02,damping:.5,precision:.25});Wf(t,Qu,(function(t){return n(336,ae=t)}));var ts=Pm(void 0,{stiffness:.02,damping:.5,precision:.25});Wf(t,ts,(function(t){return n(337,ce=t)}));var es,ns=Pm(void 0,{stiffness:.02,damping:.5,precision:.25});Wf(t,ns,(function(t){return n(335,oe=t)}));var is=function(){Tn("abortLoadImage")},os=function(){Tn("abortProcessImage"),eh(vu,re=!1,re)},as=function(t){return t.preventDefault()},cs=au?function(t){var e=t.touches?t.touches[0]:t;e.pageX>20&&e.pageX<window.innerWidth-20||as(t)}:Ec,us=kp([]);Wf(t,us,(function(t){return n(415,Qt=t)})),jh("keysPressed",us);var ss,ls=function(t){!t||Yl(t)&&!function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)}(t)||!Yl(t)&&!/^http/.test(t)||Tn("loadImage",t)},ds=function(t){t&&ls(t)},fs=void 0,hs=[],ps=kp();jh("rootPortal",ps),jh("rootRect",_a);var ys,ws=function(){return{foregroundColor:[].concat(Wt),lineColor:[].concat(Gt),utilVisibility:Object.assign({},$),isInteracting:Ut,isInteractingFraction:Vt,rootRect:vs(Ht),stageRect:vs(Zt),annotationShapesDirty:Vs,decorationShapesDirty:Gs,frameShapesDirty:Ws,blendShapesDirty:Ks}},_s=function(t,e,n){return sf(t,rs(e.width/n,e.height/n))},ks=function(t,e,n){var r;return t._translate=Lu((r=e).x,r.y),t._scale=n,t},$s=function(t){var e=[];return t.forEach((function(t){return e.push(Ls(t))})),e.filter(Boolean)},Ls=function(t){return Hd(t)?(t.points=[Lu(t.x1,t.y1),Lu(t.x2,t.y2)],t):(!function(t){return jd(t)&&!t.text.length}(t)||t.backgroundColor&&0!==t.backgroundColor[3]||(Nd(t)&&(t.width=5,t.height=t.lineHeight),t.strokeWidth=1,t.strokeColor=[1,1,1,.5],t.backgroundColor=[0,0,0,.1]),t)},Ms=[],Is=[],Ts=[],js=[],Fs=[],Zs={},Hs=function(t,e,n,r,i,o){var c=t.annotationShapesDirty,u=t.decorationShapesDirty,s=t.frameShapesDirty,l=t.blendShapesDirty,d=t.selectionRect,f=t.scale,h=ys!==f,p=h||!As(Zs,d);p&&(ys=f,Zs=d),(c||n!==zt)&&(Ms=n.filter(Ud).map(Td).sort((function(t,e){return t.alwaysOnTop?1:e.alwaysOnTop?-1:0})).map((function(t){return sf(t,Bt)}))),(h||Us||c||n!==zt)&&(Is=$s(Ms.map((function(t){return a(t,{flipX:Nt,flipY:jt,rotation:Ft,scale:f,context:gs(Bt)})})).flat())),l&&(Ts=e.filter(Ud).map((function(t){return sf(t,Bt)}))),(u||r!==Dt||p)&&(js=$s(r.filter(Ud).map(Td).sort((function(t,e){return t.alwaysOnTop?1:e.alwaysOnTop?-1:0})).map((function(t){return _s(t,d,f)})).map((function(t){return a(t,{context:d})})).flat().map((function(t){return ks(t,d,f)})))),(s||o!==Tt||p)&&(Fs=o?$s([o].map(Td).map((function(t){return _s(t,d,f)})).map(a).flat().map((function(t){return ks(t,d,f)}))):[]);var v=$s(i.filter(Ud));return{blendShapesDirty:l,blendShapes:Ts,annotationShapesDirty:c,annotationShapes:Is,decorationShapesDirty:u,decorationShapes:js,frameShapesDirty:s,frameShapes:Fs,interfaceShapes:v}},Vs=!0,Us=!0,Gs=!0,Ws=!0,Ks=!0;Dh((function(){Yc(!1),ca(),xc(),wc(),_c(),Cc(),kc(),$c(),fu(),gu(),Sa.destroy(),Aa.destroy(),yo.destroy(),yu.clear(),Ms.length=0,Is.length=0,Ts.length=0,js.length=0,Fs.length=0;try{n(214,Jc=void 0),n(257,Vu=void 0)}catch(t){}}));var Xs,Js;return t.$$set=function(t){"class"in t&&n(215,Bn=t.class),"layout"in t&&n(216,Nn=t.layout),"stores"in t&&n(217,Fn=t.stores),"locale"in t&&n(3,Zn=t.locale),"id"in t&&n(4,Vn=t.id),"util"in t&&n(218,Gn=t.util),"utils"in t&&n(219,Kn=t.utils),"animations"in t&&n(220,Yn=t.animations),"disabled"in t&&n(221,Jn=t.disabled),"status"in t&&n(213,tr=t.status),"previewUpscale"in t&&n(222,nr=t.previewUpscale),"previewPad"in t&&n(223,ir=t.previewPad),"previewMaskOpacity"in t&&n(5,ar=t.previewMaskOpacity),"previewImageDataMaxSize"in t&&n(224,ur=t.previewImageDataMaxSize),"previewImageTextPixelRatio"in t&&n(6,lr=t.previewImageTextPixelRatio),"markupMaskOpacity"in t&&n(7,fr=t.markupMaskOpacity),"zoomMaskOpacity"in t&&n(225,pr=t.zoomMaskOpacity),"elasticityMultiplier"in t&&n(8,mr=t.elasticityMultiplier),"willRevert"in t&&n(226,yr=t.willRevert),"willProcessImage"in t&&n(227,wr=t.willProcessImage),"willRenderCanvas"in t&&n(9,_r=t.willRenderCanvas),"willRenderToolbar"in t&&n(228,Er=t.willRenderToolbar),"willSetHistoryInitialState"in t&&n(229,$r=t.willSetHistoryInitialState),"enableButtonExport"in t&&n(230,Ar=t.enableButtonExport),"enableButtonRevert"in t&&n(231,Lr=t.enableButtonRevert),"enableNavigateHistory"in t&&n(232,Rr=t.enableNavigateHistory),"enableToolbar"in t&&n(10,Ir=t.enableToolbar),"enableUtils"in t&&n(233,Dr=t.enableUtils),"enableButtonClose"in t&&n(234,jr=t.enableButtonClose),"enableDropImage"in t&&n(235,Fr=t.enableDropImage),"enablePasteImage"in t&&n(236,Zr=t.enablePasteImage),"enableBrowseImage"in t&&n(237,Vr=t.enableBrowseImage),"enableTransparencyGrid"in t&&n(11,Gr=t.enableTransparencyGrid),"layoutDirectionPreference"in t&&n(238,Kr=t.layoutDirectionPreference),"layoutHorizontalUtilsPreference"in t&&n(239,Yr=t.layoutHorizontalUtilsPreference),"layoutVerticalUtilsPreference"in t&&n(240,Jr=t.layoutVerticalUtilsPreference),"layoutVerticalToolbarPreference"in t&&n(241,ti=t.layoutVerticalToolbarPreference),"layoutVerticalControlGroupsPreference"in t&&n(242,ni=t.layoutVerticalControlGroupsPreference),"layoutVerticalControlTabsPreference"in t&&n(243,ii=t.layoutVerticalControlTabsPreference),"markupEditorZoomLevel"in t&&n(244,ai=t.markupEditorZoomLevel),"markupEditorZoomLevels"in t&&n(12,ui=t.markupEditorZoomLevels),"markupEditorZoomAdjustStep"in t&&n(13,li=t.markupEditorZoomAdjustStep),"markupEditorZoomAdjustFactor"in t&&n(14,fi=t.markupEditorZoomAdjustFactor),"markupEditorZoomAdjustWheelFactor"in t&&n(15,pi=t.markupEditorZoomAdjustWheelFactor),"markupEditorInteractionMode"in t&&n(245,mi=t.markupEditorInteractionMode),"muteAudio"in t&&n(246,yi=t.muteAudio),"willSetMediaInitialTimeOffset"in t&&n(247,wi=t.willSetMediaInitialTimeOffset),"enablePan"in t&&n(16,_i=t.enablePan),"enableZoom"in t&&n(17,Ei=t.enableZoom),"enableZoomControls"in t&&n(248,$i=t.enableZoomControls),"enableZoomInput"in t&&n(18,Ai=t.enableZoomInput),"enablePanInput"in t&&n(249,Li=t.enablePanInput),"enableCanvasAlpha"in t&&n(19,Ri=t.enableCanvasAlpha),"enablePanLimit"in t&&n(20,Ii=t.enablePanLimit),"panLimitGutterScalar"in t&&n(21,Di=t.panLimitGutterScalar),"zoomPresetOptions"in t&&n(22,ji=t.zoomPresetOptions),"zoomAdjustStep"in t&&n(23,Fi=t.zoomAdjustStep),"zoomAdjustFactor"in t&&n(24,Zi=t.zoomAdjustFactor),"zoomAdjustWheelFactor"in t&&n(25,Vi=t.zoomAdjustWheelFactor),"zoomLevel"in t&&n(0,Gi=t.zoomLevel),"imagePreviewSrc"in t&&n(250,Ki=t.imagePreviewSrc),"imageOrienter"in t&&n(251,Yi=t.imageOrienter),"pluginComponents"in t&&n(252,Ji=t.pluginComponents),"pluginOptions"in t&&n(26,to=t.pluginOptions),"root"in t&&n(2,ro=t.root),"imageSourceToImageData"in t&&n(27,go=t.imageSourceToImageData),"imagePreviewCurrent"in t&&n(214,Jc=t.imagePreviewCurrent)},t.$$.update=function(){if(1&t.$$.dirty[0]|134217728&t.$$.dirty[7]&&n(0,Gi=null===Gi?ai:Gi),536870912&t.$$.dirty[7]&&io.set(yi),256&t.$$.dirty[0]&&eh(ao,fn=mr,fn),1073741824&t.$$.dirty[6]&&n(317,r="overlay"===Nn),65536&t.$$.dirty[7]|128&t.$$.dirty[10]&&n(44,i=Dr&&!r),67108866&t.$$.dirty[0]&&to&&Object.entries(to).forEach((function(t){var e=t[0],r=t[1];Object.entries(r).forEach((function(t){var r=t[0],i=t[1];no[e]&&n(1,no[e][r]=i,no)}))})),2&t.$$.dirty[0]|16&t.$$.dirty[8]){var e=!1;Ji.forEach((function(t){var r=t[0];no[r]||(n(1,no[r]={},no),e=!0)})),e&&n(254,co=[].concat(Ji))}var y,Rt,It,Tt,Dt;if(16&t.$$.dirty[7]&&uo.set(Jn?1:0),128&t.$$.dirty[7]&&(o=ur?function(t,e){return rs(Math.min(t.width,e.width),Math.min(t.height,e.height))}(ur,po):po),536870912&t.$$.dirty[11]&&yo.update(sn[0]),268435456&t.$$.dirty[11]&&(a=un?function(t,e){return un(t,Object.assign({flipX:void 0,flipY:void 0,rotation:void 0},e,{isPreview:!0}))}:hu),1&t.$$.dirty[8]|134217728&t.$$.dirty[11]&&pa.set(cn&&$i),268435456&t.$$.dirty[7]|2&t.$$.dirty[8]&&va.set("pan"===mi||Li),524288&t.$$.dirty[1]&&te&&_a.set(xs(te.x,te.y,te.width,te.height)),65664&t.$$.dirty[10]|1&t.$$.dirty[11]&&Ht&&r&&fe&&fe.complete&&(y=rn,Rt=Os(Ht),y&&y===Rt||($o.set(Os(Ht)),du())),8&t.$$.dirty[0]|4&t.$$.dirty[7]|64&t.$$.dirty[8]&&n(307,x=Zn&&co.length?Kn||co.map((function(t){return t[0]})):[]),268435456&t.$$.dirty[9]&&n(45,L=x.length>1),16384&t.$$.dirty[1]&&(L||Ca.set(ms())),1024&t.$$.dirty[0]|67108864&t.$$.dirty[11]&&(Ir||ka.set(xs(0,nn,0,0))),131584&t.$$.dirty[10]&&n(320,u=!Ut&&c),33554432&t.$$.dirty[11]&&n(318,s=!en),524288&t.$$.dirty[1]&&n(264,At=te&&te.width>0&&te.height>0),67108864&t.$$.dirty[0]|64&t.$$.dirty[8]|268435456&t.$$.dirty[9]|256&t.$$.dirty[11]&&n(308,_=function(t,e,n,r){var i=e.filter((function(e){var n=e[0];return t.includes(n)})).filter((function(t){var e=t[0];return(0,t[1].isSupported)(Object.assign({},r,n[e]))})).map((function(t){return[t[0],t[1].Component]}));return qp(i,Mu,(function(t,e){return t[0]===e[0]&&t[1]===e[1]}))?Mu:(Mu=i,i)}(x,co,to,{src:_e})),536870912&t.$$.dirty[9]&&n(263,C=_.length),8&t.$$.dirty[0]|98304&t.$$.dirty[8]&&n(40,Ot=At&&Zn&&!!C),512&t.$$.dirty[1]&&setTimeout((function(){return n(255,Pa=Ot)}),1),8&t.$$.dirty[7]|128&t.$$.dirty[8]|1280&t.$$.dirty[10]&&eh(Ra,me="always"===Yn?u:"never"!==Yn&&(u&&Pa&&s),me),8&t.$$.dirty[7]|768&t.$$.dirty[10]&&eh(Ia,ie="always"===Yn?c:"never"!==Yn&&(c&&s),ie),32&t.$$.dirty[7]|128&t.$$.dirty[10]&&Ta.set(nr||r),64&t.$$.dirty[7]&&Ka.set(ir),4&t.$$.dirty[0]|20971520&t.$$.dirty[11]&&ro&&(ro.dispatchEvent(aw("markupzoom",tn)),ro.dispatchEvent(aw("zoom",Wl(tn)?tn:Xe))),4&t.$$.dirty[0]|8388608&t.$$.dirty[11]&&ro&&(ro.dispatchEvent(aw("markuppan",qe)),ro.dispatchEvent(aw("pan",qe))),1048576&t.$$.dirty[11]&&Ze&&sc(),2097152&t.$$.dirty[11]&&He&&fc(),2&t.$$.dirty[7]|32768&t.$$.dirty[8]&&n(43,k=C&&Gn&&"string"==typeof Gn&&Ru(Gn)?Gn:C>0?_[0][0]:void 0),2101248&t.$$.dirty[1]&&k&&Pc.set(.075,{hard:!ie}),256&t.$$.dirty[7]&&n(315,l=pr),786432&t.$$.dirty[11]&&n(316,d=Ne?-Math.max.apply(Math,Object.values(je)):0),69206016&t.$$.dirty[1]|32864&t.$$.dirty[10]&&Be){var jt=Be.x-Zt.x,Nt=Zt.x+Zt.width-(Be.x+Be.width),Ft=Be.y-Zt.y,zt=Zt.y+Zt.height-(Be.y+Be.height),Vt=Math.min(jt,Ft,Nt,zt);jc.set(Vt>d?0:Math.min(l,Math.abs(Vt/64)),{hard:!ie})}if(33554432&t.$$.dirty[1]&&n(314,f=.55/De),2097152&t.$$.dirty[1]|32784&t.$$.dirty[10]&&Zt&&Nc.set({x:0,y:Zt.y,width:Zt.x<64?0:Zt.x,height:Zt.height+f},{hard:!ie}),2097152&t.$$.dirty[1]|98320&t.$$.dirty[10]&&Zt&&Zc.set({x:0,y:0,width:Ht.width,height:Zt.y+f},{hard:!ie}),2097152&t.$$.dirty[1]|98320&t.$$.dirty[10]&&Zt){var Gt=Zt.x+Zt.width,Wt=Ht.width-(Zt.x+Zt.width);Wt<64&&(Gt+=Wt,Wt=0),Hc.set({x:Gt,y:Zt.y,width:Wt,height:Zt.height+f},{hard:!ie})}if(2097152&t.$$.dirty[1]|98304&t.$$.dirty[10]&&Zt&&Vc.set({x:0,y:Zt.y+Zt.height,width:Ht.width,height:Ht.height-(Zt.y+Zt.height)},{hard:!ie}),16777216&t.$$.dirty[1]|147456&t.$$.dirty[11]&&n(310,h=Te&&Object.assign({id:nx,backgroundColor:Re,opacity:Me},Te)),16777216&t.$$.dirty[1]|81920&t.$$.dirty[11]&&n(313,p=Ie&&Object.assign({id:nx,backgroundColor:Re,opacity:Me},Ie)),16777216&t.$$.dirty[1]|49152&t.$$.dirty[11]&&n(312,v=Pe&&Object.assign({id:nx,backgroundColor:Re,opacity:Me},Pe)),16777216&t.$$.dirty[1]|24576&t.$$.dirty[11]&&n(311,m=Le&&Object.assign({id:nx,backgroundColor:Re,opacity:Me},Le)),15&t.$$.dirty[10]&&n(309,g=[p,v,m,h].filter(Boolean)),1073741824&t.$$.dirty[9]|4096&t.$$.dirty[11]&&g&&Oe){var Qt=Oe.filter((function(t){return t.id!==nx}));Tc.set([].concat(Qt,g))}if(4&t.$$.dirty[8]|256&t.$$.dirty[11]&&Kc.set(Ki||(_e||void 0)),262144&t.$$.dirty[10]|2048&t.$$.dirty[11]&&Kt&&(It=Se,Ae&&Kt&&(Kt.muted=It)),4&t.$$.dirty[0]|268435456&t.$$.dirty[6]|262144&t.$$.dirty[10]&&(n(214,Jc=Kt),Kt&&ro.dispatchEvent(aw("loadpreview",Jc))),2&t.$$.dirty[11]&&he&&(cc.set(Ou()),rc.set(void 0),sc(),eu.set([])),1024&t.$$.dirty[11]&&n(268,b=Ee.index>0),1024&t.$$.dirty[11]&&n(267,w=Ee.index<Ee.length-1),4&t.$$.dirty[1]&&Cu.set(xu),512&t.$$.dirty[11]&&Eu.set(Ce),8&t.$$.dirty[0]|32768&t.$$.dirty[8]|268435456&t.$$.dirty[9]&&n(46,E=C&&x.map((function(t){var e=Ru(t);if(e)return{id:t,view:e[1],tabIcon:Zn[t+"Icon"],tabLabel:Zn[t+"Label"]}})).filter(Boolean)||[]),4096&t.$$.dirty[1]&&ua.set(k),32832&t.$$.dirty[1]&&n(37,$=E.reduce((function(t,e){return t[e.id]=$&&$[e.id]||0,t}),{})),4096&t.$$.dirty[1]&&n(75,S={name:Au,selected:k}),32768&t.$$.dirty[1]&&n(74,A=E.map((function(t){return{id:t.id,icon:t.tabIcon,label:t.tabLabel}}))),32768&t.$$.dirty[1]&&n(73,O=E.map((function(t){return t.id}))),536870912&t.$$.dirty[6]&&n(72,M=ag(["PinturaRoot","PinturaRootComponent",Bn])),65536&t.$$.dirty[10]&&n(303,R=Ht&&(Ht.width>1e3?"wide":Ht.width<600?"narrow":void 0)),65536&t.$$.dirty[10]&&n(290,P=Ht&&(Ht.width<=320||Ht.height<=460)),65536&t.$$.dirty[10]&&n(302,I=Ht&&(Ht.height>1e3?"tall":Ht.height<600?"short":void 0)),4&t.$$.dirty[0]&&n(270,T=ro&&ro.parentNode&&ro.parentNode.classList.contains("PinturaModal")),1073741824&t.$$.dirty[0]|4194304&t.$$.dirty[8]|65536&t.$$.dirty[10]&&n(295,D=T&&Ht&&ru>Ht.width),1&t.$$.dirty[1]|4194304&t.$$.dirty[8]|65536&t.$$.dirty[10]&&n(294,B=T&&Ht&&iu>Ht.height),98304&t.$$.dirty[9]&&n(296,j=D&&B),524288&t.$$.dirty[0]&&n(293,N=Ri),16777216&t.$$.dirty[9]&&n(265,F="narrow"===R),2097152&t.$$.dirty[7]|65536&t.$$.dirty[10]&&n(304,(Tt=Ht,Dt=Kr,z=Ht?"auto"===Dt?Tt.width>Tt.height?"landscape":"portrait":"horizontal"===Dt?Tt.width<500?"portrait":"landscape":"vertical"===Dt?Tt.height<400?"landscape":"portrait":void 0:"landscape")),33554432&t.$$.dirty[9]&&n(71,Z="landscape"===z),131072&t.$$.dirty[8]|8388608&t.$$.dirty[9]&&n(292,H=F||"short"===I),1073741824&t.$$.dirty[0]|65536&t.$$.dirty[10]&&n(291,V=Iu&&Ht&&ru===Ht.width&&!au),2&t.$$.dirty[1]|128&t.$$.dirty[11]&&n(266,U=[].concat(xe||[],_u).filter(Boolean)),4194304&t.$$.dirty[7]&&n(301,G="has-navigation-preference-"+Yr),8388608&t.$$.dirty[7]&&n(300,W="has-navigation-preference-"+Jr),16777216&t.$$.dirty[7]&&n(297,K="has-toolbar-preference-"+ti),33554432&t.$$.dirty[7]&&n(299,X="has-controlgroups-preference-"+ni),67108864&t.$$.dirty[7]&&n(298,Y="has-controltabs-preference-"+ii),65536&t.$$.dirty[10]&&n(306,q=void 0!==Ht&&Ht.width>0&&Ht.height>0),4&t.$$.dirty[0]|134217728&t.$$.dirty[9]&&n(305,J=q&&ro&&getComputedStyle(ro)),67108864&t.$$.dirty[9]&&J&&Zu(),1024&t.$$.dirty[0]|2121728&t.$$.dirty[1]|1073741824&t.$$.dirty[6]|16&t.$$.dirty[7]|4194304&t.$$.dirty[8]|67106816&t.$$.dirty[9]|8388608&t.$$.dirty[10]|96&t.$$.dirty[11]&&cu.set(Object.assign({},ee,{layoutMode:Nn,orientation:z,horizontalSpace:R,verticalSpace:I,navigationHorizontalPreference:G,navigationVerticalPreference:W,controlGroupsVerticalPreference:X,controlTabsVerticalpreference:Y,toolbarVerticalPreference:K,isModal:T,isDisabled:Jn,isCentered:j,isCenteredHorizontally:D,isCenteredVertically:B,isAnimated:ie,isTransparent:N,pointerAccuracy:we,pointerHoverable:be,isCompact:H,hasSwipeNavigation:V,hasLimitedSpace:P,hasToolbar:Ir,hasNavigation:L&&i,isIOS:Iu,browserVersion:ym()?"chrome-"+(navigator.userAgent.match(/Chrome\/([0-9]+)/)||[])[1]:void 0})),8388608&t.$$.dirty[10]&&n(70,Q=Object.entries(ee).map((function(t){var e=t[0],n=t[1];return/^is|has/.test(e)?n?uw(e):void 0:n})).filter(Boolean).join(" ")),4096&t.$$.dirty[1]&&k&&wu.set([]),24&t.$$.dirty[11]&&n(69,tt=ye&&Object.entries(ge).filter((function(t){return null!=t[1]})).reduce((function(t,e){var n=e[1];return t=Object.assign({},t,n)}),{})),1&t.$$.dirty[11]&&n(287,it=fe&&"any-to-file"===fe.task),256&t.$$.dirty[9]&&it&&yu&&yu.clear(),4&t.$$.dirty[11]&&n(289,et=!!ve&&!!ve.translation),512&t.$$.dirty[8]|1024&t.$$.dirty[9]|262144&t.$$.dirty[10]&&et&&Kt&&Kt!==Vu&&(n(257,Vu=Kt),Gu()),1024&t.$$.dirty[9]|4&t.$$.dirty[11]&&et&&Wu(ve),8388608&t.$$.dirty[1]&&pe&&pe.length>1){var ke=[];yu.forEach((function(t,e){0!==e&&t.get().opacity<=0&&ke.push(t)})),ke.forEach((function(t){return yu.remove(t)}))}if(8&t.$$.dirty[0]|512&t.$$.dirty[9]&&n(39,rt=Zn&&nt.length&&Zn.labelSupportError(nt)),1&t.$$.dirty[11]&&n(279,ot=fe&&!!fe.error),1&t.$$.dirty[11]&&n(42,at=!fe||!fe.complete&&void 0===fe.task),1&t.$$.dirty[11]&&n(280,ct=fe&&(fe.taskLengthComputable?fe.taskProgress:1/0)),256&t.$$.dirty[9]&&it&&eh(Uc,le=!1,le),2097152&t.$$.dirty[1]|1024&t.$$.dirty[8]|1&t.$$.dirty[11]&&fe&&fe.complete){var $e=ie?250:0;clearTimeout(Uu),n(258,Uu=setTimeout((function(){eh(Uc,le=!0,le)}),$e))}(2048&t.$$.dirty[1]|1&t.$$.dirty[9]|536870912&t.$$.dirty[10]|1&t.$$.dirty[11]&&n(284,ut=fe&&!ot&&!at&&!le),256&t.$$.dirty[8]|262144&t.$$.dirty[10]|2&t.$$.dirty[11]&&n(283,st=!(!he||Kt&&!Gc)),2097152&t.$$.dirty[1]|536870912&t.$$.dirty[10])&&(le?setTimeout((function(){return zu.set(1)}),ie?500:0):zu.set(0));if(1090519040&t.$$.dirty[10]&&n(278,lt=!!(re||de&&void 0!==de.progress&&!de.complete)),1073741824&t.$$.dirty[8]&&lt&&Yc(!1),2048&t.$$.dirty[1]|1&t.$$.dirty[11]&&n(281,dt=fe&&!(fe.error||at)),8&t.$$.dirty[0]|1&t.$$.dirty[11]&&n(282,ft=Zn&&(fe?!fe.complete||fe.error?Gv(Zn.statusLabelLoadImage(fe),fe.error&&fe.error.metadata,"{","}"):Zn.statusLabelLoadImage({progress:1/0,task:"blob-to-bitmap"}):Zn.statusLabelLoadImage(fe))),8&t.$$.dirty[0]|1073741824&t.$$.dirty[10]&&n(277,ht=de&&Zn&&Zn.statusLabelProcessImage(de)),1073741824&t.$$.dirty[10]&&n(275,pt=de&&(de.taskLengthComputable?de.taskProgress:1/0)),1073741824&t.$$.dirty[10]&&n(276,vt=de&&!de.error),1073741824&t.$$.dirty[10]&&n(274,mt=!(!de||!de.error)),8&t.$$.dirty[0]|2048&t.$$.dirty[1]|134217728&t.$$.dirty[6]|2080374784&t.$$.dirty[8]|63&t.$$.dirty[9])if(tr){var Fe,ze,Ve,Ue,Ge;if(Wc(tr)&&(Fe=tr),Wl(tr))ze=tr;else if(Array.isArray(tr)){var We=tr;Fe=We[0],ze=We[1],Ge=We[2],!1===ze&&(Ue=!0),Wl(ze)&&(Ve=!0)}n(34,Xu=(Fe||ze)&&{text:Fe,aside:Ue||Ve,progressIndicator:{visible:Ve,progress:ze},closeButton:Ue&&{label:Zn.statusLabelButtonClose,icon:Zn.statusIconButtonClose,onclick:Ge||function(){return n(213,tr=void 0)}}})}else n(34,Xu=Zn&&at||ot||ut||st?{text:ft,aside:ot||dt,progressIndicator:{visible:dt,progress:ct},closeButton:ot&&{label:Zn.statusLabelButtonClose,icon:Zn.statusIconButtonClose,onclick:is}}:Zn&&lt&&ht?{text:ht,aside:mt||vt,progressIndicator:{visible:vt,progress:pt},closeButton:mt&&{label:Zn.statusLabelButtonClose,icon:Zn.statusIconButtonClose,onclick:os}}:void 0);if(134217728&t.$$.dirty[6]&&n(286,gt=void 0!==tr),2097152&t.$$.dirty[1]|4194304&t.$$.dirty[8]|1073741824&t.$$.dirty[10]&&T&&de&&de.complete&&(Yu.set(!0),setTimeout((function(){return Yu.set(!1)}),ie?100:0)),4&t.$$.dirty[0]|4096&t.$$.dirty[1]|536870912&t.$$.dirty[10]&&le&&ro&&ro.dispatchEvent(aw("selectutil",k)),2304&t.$$.dirty[1]|1073741824&t.$$.dirty[8]|177&t.$$.dirty[9]|268435456&t.$$.dirty[10]&&n(285,yt=se||rt||at||ot||ut||st||lt||gt),64&t.$$.dirty[9]&&eh(Ku,ue=yt?1:0,ue),2097152&t.$$.dirty[1]|64&t.$$.dirty[9]&&Ku.set(yt?1:0,{duration:ie?500:1}),4194304&t.$$.dirty[1]&&n(41,bt=ue>0),8&t.$$.dirty[1]&&n(273,wt=!(!Xu||!Xu.aside)),2098184&t.$$.dirty[1]|33556480&t.$$.dirty[8]|134217728&t.$$.dirty[10]&&bt&&Xu){clearTimeout(es);var Ke={hard:!1===ie};if(wt){var Ye=!!Xu.error||!ie;Ju.set(1,Ke),qu.set(ce,{hard:Ye}),n(259,es=setTimeout((function(){Qu.set(16,Ke)}),1))}else Ju.set(0,Ke),n(259,es=setTimeout((function(){Qu.set(0,Ke)}),1))}if(1024&t.$$.dirty[1]&&(bt||(ns.set(void 0,{hard:!0}),qu.set(void 0,{hard:!0}),Qu.set(0,{hard:!0}))),67108864&t.$$.dirty[10]&&n(272,xt=.5*ae),16777216&t.$$.dirty[8]|33554432&t.$$.dirty[10]&&n(68,_t="transform: translateX("+(oe-xt)+"px)"),256&t.$$.dirty[1]|262144&t.$$.dirty[10]&&n(38,Pt=Kt&&!rt),128&t.$$.dirty[1]|12582912&t.$$.dirty[8]&&n(269,Et=Ct&&(Pt||T)?as:Ec),2097152&t.$$.dirty[8]&&n(67,kt=Et),2097152&t.$$.dirty[8]&&n(66,$t=Et),8&t.$$.dirty[0]|1048576&t.$$.dirty[1]|190464&t.$$.dirty[7]|1966080&t.$$.dirty[8]|8388608&t.$$.dirty[10]&&n(65,St=Zn&&ne&&Ew((function(){return Er([["div","alpha",{class:"PinturaNavGroup"},[["div","alpha-set",{class:"PinturaNavSet"},[jr&&["Button","close",{label:Zn.labelClose,icon:Zn.iconButtonClose,onclick:function(){return Tn("close")},hideLabel:!0}],Lr&&["Button","revert",{label:Zn.labelButtonRevert,icon:Zn.iconButtonRevert,disabled:!b,onclick:pu,hideLabel:!0}]]]]],["div","beta",{class:"PinturaNavGroup PinturaNavGroupFloat"},[Rr&&["div","history",{class:"PinturaNavSet"},[["Button","undo",{label:Zn.labelButtonUndo,icon:Zn.iconButtonUndo,disabled:!b,onclick:lu.undo,hideLabel:!0}],["Button","redo",{label:Zn.labelButtonRedo,icon:Zn.iconButtonRedo,disabled:!w,onclick:lu.redo,hideLabel:!0}]]],U.length&&["div","plugin-tools",{class:"PinturaNavSet"},U.filter(Boolean).map((function(t){var e=t[0],n=t[1],r=t[2];return[e,n,Object.assign({},r)]}))]]],["div","gamma",{class:"PinturaNavGroup"},[Ar&&["Button","export",{label:Zn.labelButtonExport,icon:F&&Zn.iconButtonExport,class:"PinturaButtonExport",onclick:mu,hideLabel:F}]]]],Object.assign({},ee),(function(){return oo.set({})}))}))),524288&t.$$.dirty[10]&&n(262,Lt=Xt&&!!Xt.length),16384&t.$$.dirty[8]|526336&t.$$.dirty[10]&&n(261,Mt=Lt&&Df(Bt,Xt)),24576&t.$$.dirty[8]|6553600&t.$$.dirty[10]&&Lt&&function(t,e,r,i){if(e){var o={dataSizeScalar:r};i&&i[3]>0&&(o.backgroundColor=[].concat(i)),e(t,o).then((function(t){fs&&Dc(fs),n(260,fs=t)}))}}(Kt,Jt,Mt,qt),4096&t.$$.dirty[8]|1574912&t.$$.dirty[10]&&Xt&&fs&&Bt){var Je=Bt,Qe=Je.width,on=Je.height,an=ol()?"pixelated":"auto"===Yt?"auto":"pixelated";n(35,hs=Xt.map((function(t){var e=xs(t.x,t.y,t.width,t.height),n=Rs(vs(e),t.rotation).map((function(t){return Lu(t.x/Qe,t.y/on)}));return Object.assign({},t,{id:"redaction",flipX:!1,flipY:!1,cornerRadius:0,strokeWidth:0,strokeColor:void 0,backgroundColor:[0,0,0,0],backgroundImage:fs,backgroundImageRendering:an,backgroundCorners:n})})))}32&t.$$.dirty[1]&&ss&&ps.set(ss),4&t.$$.dirty[0]|128&t.$$.dirty[1]&&Pt&&ro.dispatchEvent(aw("ready")),262144&t.$$.dirty[1]&&n(59,Vs=!0),30720&t.$$.dirty[10]&&n(60,Us=!0),131072&t.$$.dirty[1]&&n(61,Gs=!0),65536&t.$$.dirty[1]&&n(62,Ws=!0),16&t.$$.dirty[1]&&n(63,Ks=!0)},n(319,c=!eg()),y=1===my()?function(t){t&&(ju(t.origin,Math.round),ju(t.translation,Math.round))}:hu,n(288,nt=[!gw()&&"WebGL"].filter(Boolean)),n(271,Ct=Al()||Fc()&&cd()),n(64,(Xs=In.pub,void 0===Js&&(Js=!0),Rt=function(t){"ping"===t.type&&(Js&&t.stopPropagation(),Xs(t.detail.type,t.detail.data))})),[Gi,no,ro,Zn,Vn,ar,lr,fr,mr,_r,Ir,Gr,ui,li,fi,pi,_i,Ei,Ai,Ri,Ii,Di,ji,Fi,Zi,Vi,to,go,Xc,lu,ru,iu,_u,xu,Xu,hs,ss,$,Pt,rt,Ot,bt,at,k,i,L,E,Tt,Dt,zt,te,ne,ie,ue,pe,Re,De,Be,Pu,Vs,Us,Gs,Ws,Ks,Rt,St,$t,kt,_t,tt,Q,Z,M,O,A,S,$e,dn,hn,pn,vn,mn,gn,yn,bn,wn,xn,_n,Cn,En,kn,$n,Sn,An,On,Ln,Mn,io,oo,ao,uo,wo,xo,_o,Co,Eo,ko,$o,So,Ao,Io,Bo,jo,No,Go,Wo,Ko,Xo,Yo,ta,ea,na,ra,ia,oa,sa,la,da,fa,ha,pa,va,ma,ga,ya,ba,xa,_a,Ca,Ea,ka,$a,Sa,Aa,La,Ma,Ra,Ia,Ta,Da,Ba,ja,Fa,za,Za,Ha,Xa,Ya,Ja,tc,ec,rc,oc,ac,cc,lc,dc,hc,Ac,Tc,Bc,jc,Nc,Zc,Hc,Vc,Uc,Kc,tu,eu,nu,cu,su,vu,yu,wu,$u,Bu,Nu,Fu,zu,function(t){var e=t.target,n=t.propertyName;e===ro&&/background|outline/.test(n)&&J&&Zu()},Hu,Ku,Yu,qu,Ju,Qu,ts,ns,function(t){var e=!(!Xu||!Xu.closeButton)||!ie;ts.set(t.detail.width,{hard:e}),ns.set(Math.round(.5*-t.detail.width),{hard:e})},cs,us,function(t){var e=t.keyCode,n=t.metaKey,r=t.ctrlKey,i=t.shiftKey;if(9===e&&Jn)t.preventDefault();else if(t.target&&32===e&&ro.contains(t.target)&&!cw(t.target)&&t.preventDefault(),90!==e||!n&&!r){if(89===e&&r)lu.redo();else if(229!==e&&!n&&!r){var o=new Set([].concat(Qt,[e]));us.set(Array.from(o))}}else i&&n?lu.redo():lu.undo()},function(t){var e=t.key,n=t.keyCode;if("Meta"===e)return us.set([]);us.set(Qt.filter((function(t){return t!==n})))},function(){us.set([])},function(t){cw(t.target)||t.preventDefault()},function(t){Fr&&ls(t.detail.resources[0])},function(){Vr&&Cw().then(ds)},function(t){if(Zr){var e=Gp((window.innerWidth-Math.abs(Ht.x))/Ht.width,0,1),n=Gp((window.innerHeight-Math.abs(Ht.y))/Ht.height,0,1);e<.75&&n<.75||ls((t.clipboardData||window.clipboardData).files[0])}},ws,Hs,function(t){It&&As(t.detail,It)||eh($a,It=t.detail,It)},tr,Jc,Bn,Nn,Fn,Gn,Kn,Yn,Jn,nr,ir,ur,pr,yr,wr,Er,$r,Ar,Lr,Rr,Dr,jr,Fr,Zr,Vr,Kr,Yr,Jr,ti,ni,ii,ai,mi,yi,wi,$i,Li,Ki,Yi,Ji,eo,co,Pa,Gc,Vu,Uu,es,fs,Mt,Lt,C,At,F,U,w,b,Et,T,Ct,xt,wt,mt,pt,vt,ht,lt,ot,ct,dt,ft,st,ut,yt,gt,it,nt,et,P,V,H,N,B,D,j,K,Y,X,W,G,I,R,z,J,q,x,_,g,h,m,v,p,f,l,d,r,s,c,u,Bt,jt,Nt,Ft,Zt,Ht,Ut,Kt,Xt,Yt,qt,Jt,ee,re,oe,ae,ce,se,le,de,fe,he,ve,ge,ye,be,we,xe,_e,Ce,Ee,Se,Oe,Le,Me,Pe,Ie,Te,je,Ne,Ze,He,Xe,qe,tn,en,nn,cn,un,sn,function(){n(30,ru=Pw.innerWidth),n(31,iu=Pw.innerHeight)},function(t){return eh(ka,vn=t.detail,vn)},function(t){var e=t.detail;return n(43,k=e)},function(t,e){return e.id===t},function(e,r){t.$$.not_equal(no[r],e)&&(no[r]=e,n(1,no),n(26,to),n(252,Ji))},function(t){return n(58,Pu=Pu.concat(t))},function(t){return n(58,Pu=Pu.filter((function(e){return e!==t})))},function(t,e){var r=e.detail;return n(37,$[t]=r,$)},function(t){return eh(Ca,$e=t.detail,$e)},function(t){return t.id===k},function(e){t.$$.not_equal(no[k],e)&&(no[k]=e,n(1,no),n(26,to),n(252,Ji))},function(){return n(58,Pu=Pu.concat(k))},function(){return n(58,Pu=Pu.filter((function(t){return t!==k})))},function(t){var e=t.detail;return n(37,$[k]=e,$)},function(t){var e=Object.assign({},t,ws()),n=_r({annotationShapes:zt,decorationShapes:Dt,interfaceShapes:Cn,frameShapes:Tt},e),r=n.annotationShapes,i=n.decorationShapes,o=n.interfaceShapes,a=n.frameShapes;return Hs(e,hs,r,i,o,a)},function(){n(59,Vs=!1),n(60,Us=!1),n(61,Gs=!1),n(62,Ws=!1),n(63,Ks=!1)},function(t){Zh[t?"unshift":"push"]((function(){n(36,ss=t)}))},function(t){n(0,Gi=t),n(244,ai)},function(t){n(32,_u=t)},function(t){n(33,xu=t)},function(t){Zh[t?"unshift":"push"]((function(){n(2,ro=t)}))},function(t){return eh(xa,te=t.detail,te)}]}var ox,ax=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,ix,tx,Vf,{class:215,layout:216,stores:217,locale:3,id:4,util:218,utils:219,animations:220,disabled:221,status:213,previewUpscale:222,previewPad:223,previewMaskOpacity:5,previewImageDataMaxSize:224,previewImageTextPixelRatio:6,markupMaskOpacity:7,zoomMaskOpacity:225,elasticityMultiplier:8,willRevert:226,willProcessImage:227,willRenderCanvas:9,willRenderToolbar:228,willSetHistoryInitialState:229,enableButtonExport:230,enableButtonRevert:231,enableNavigateHistory:232,enableToolbar:10,enableUtils:233,enableButtonClose:234,enableDropImage:235,enablePasteImage:236,enableBrowseImage:237,enableTransparencyGrid:11,layoutDirectionPreference:238,layoutHorizontalUtilsPreference:239,layoutVerticalUtilsPreference:240,layoutVerticalToolbarPreference:241,layoutVerticalControlGroupsPreference:242,layoutVerticalControlTabsPreference:243,markupEditorZoomLevel:244,markupEditorZoomLevels:12,markupEditorZoomAdjustStep:13,markupEditorZoomAdjustFactor:14,markupEditorZoomAdjustWheelFactor:15,markupEditorInteractionMode:245,muteAudio:246,willSetMediaInitialTimeOffset:247,enablePan:16,enableZoom:17,enableZoomControls:248,enableZoomInput:18,enablePanInput:249,enableCanvasAlpha:19,enablePanLimit:20,panLimitGutterScalar:21,zoomPresetOptions:22,zoomAdjustStep:23,zoomAdjustFactor:24,zoomAdjustWheelFactor:25,zoomLevel:0,imagePreviewSrc:250,imageOrienter:251,pluginComponents:252,pluginOptions:26,sub:253,pluginInterface:1,root:2,imageSourceToImageData:27,imagePreview:28,imagePreviewCurrent:214,history:29},null,[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),n}return lc(e,t),ac(e,[{key:"class",get:function(){return this.$$.ctx[215]},set:function(t){this.$$set({class:t}),tp()}},{key:"layout",get:function(){return this.$$.ctx[216]},set:function(t){this.$$set({layout:t}),tp()}},{key:"stores",get:function(){return this.$$.ctx[217]},set:function(t){this.$$set({stores:t}),tp()}},{key:"locale",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({locale:t}),tp()}},{key:"id",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({id:t}),tp()}},{key:"util",get:function(){return this.$$.ctx[218]},set:function(t){this.$$set({util:t}),tp()}},{key:"utils",get:function(){return this.$$.ctx[219]},set:function(t){this.$$set({utils:t}),tp()}},{key:"animations",get:function(){return this.$$.ctx[220]},set:function(t){this.$$set({animations:t}),tp()}},{key:"disabled",get:function(){return this.$$.ctx[221]},set:function(t){this.$$set({disabled:t}),tp()}},{key:"status",get:function(){return this.$$.ctx[213]},set:function(t){this.$$set({status:t}),tp()}},{key:"previewUpscale",get:function(){return this.$$.ctx[222]},set:function(t){this.$$set({previewUpscale:t}),tp()}},{key:"previewPad",get:function(){return this.$$.ctx[223]},set:function(t){this.$$set({previewPad:t}),tp()}},{key:"previewMaskOpacity",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({previewMaskOpacity:t}),tp()}},{key:"previewImageDataMaxSize",get:function(){return this.$$.ctx[224]},set:function(t){this.$$set({previewImageDataMaxSize:t}),tp()}},{key:"previewImageTextPixelRatio",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({previewImageTextPixelRatio:t}),tp()}},{key:"markupMaskOpacity",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({markupMaskOpacity:t}),tp()}},{key:"zoomMaskOpacity",get:function(){return this.$$.ctx[225]},set:function(t){this.$$set({zoomMaskOpacity:t}),tp()}},{key:"elasticityMultiplier",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({elasticityMultiplier:t}),tp()}},{key:"willRevert",get:function(){return this.$$.ctx[226]},set:function(t){this.$$set({willRevert:t}),tp()}},{key:"willProcessImage",get:function(){return this.$$.ctx[227]},set:function(t){this.$$set({willProcessImage:t}),tp()}},{key:"willRenderCanvas",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({willRenderCanvas:t}),tp()}},{key:"willRenderToolbar",get:function(){return this.$$.ctx[228]},set:function(t){this.$$set({willRenderToolbar:t}),tp()}},{key:"willSetHistoryInitialState",get:function(){return this.$$.ctx[229]},set:function(t){this.$$set({willSetHistoryInitialState:t}),tp()}},{key:"enableButtonExport",get:function(){return this.$$.ctx[230]},set:function(t){this.$$set({enableButtonExport:t}),tp()}},{key:"enableButtonRevert",get:function(){return this.$$.ctx[231]},set:function(t){this.$$set({enableButtonRevert:t}),tp()}},{key:"enableNavigateHistory",get:function(){return this.$$.ctx[232]},set:function(t){this.$$set({enableNavigateHistory:t}),tp()}},{key:"enableToolbar",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({enableToolbar:t}),tp()}},{key:"enableUtils",get:function(){return this.$$.ctx[233]},set:function(t){this.$$set({enableUtils:t}),tp()}},{key:"enableButtonClose",get:function(){return this.$$.ctx[234]},set:function(t){this.$$set({enableButtonClose:t}),tp()}},{key:"enableDropImage",get:function(){return this.$$.ctx[235]},set:function(t){this.$$set({enableDropImage:t}),tp()}},{key:"enablePasteImage",get:function(){return this.$$.ctx[236]},set:function(t){this.$$set({enablePasteImage:t}),tp()}},{key:"enableBrowseImage",get:function(){return this.$$.ctx[237]},set:function(t){this.$$set({enableBrowseImage:t}),tp()}},{key:"enableTransparencyGrid",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({enableTransparencyGrid:t}),tp()}},{key:"layoutDirectionPreference",get:function(){return this.$$.ctx[238]},set:function(t){this.$$set({layoutDirectionPreference:t}),tp()}},{key:"layoutHorizontalUtilsPreference",get:function(){return this.$$.ctx[239]},set:function(t){this.$$set({layoutHorizontalUtilsPreference:t}),tp()}},{key:"layoutVerticalUtilsPreference",get:function(){return this.$$.ctx[240]},set:function(t){this.$$set({layoutVerticalUtilsPreference:t}),tp()}},{key:"layoutVerticalToolbarPreference",get:function(){return this.$$.ctx[241]},set:function(t){this.$$set({layoutVerticalToolbarPreference:t}),tp()}},{key:"layoutVerticalControlGroupsPreference",get:function(){return this.$$.ctx[242]},set:function(t){this.$$set({layoutVerticalControlGroupsPreference:t}),tp()}},{key:"layoutVerticalControlTabsPreference",get:function(){return this.$$.ctx[243]},set:function(t){this.$$set({layoutVerticalControlTabsPreference:t}),tp()}},{key:"markupEditorZoomLevel",get:function(){return this.$$.ctx[244]},set:function(t){this.$$set({markupEditorZoomLevel:t}),tp()}},{key:"markupEditorZoomLevels",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({markupEditorZoomLevels:t}),tp()}},{key:"markupEditorZoomAdjustStep",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({markupEditorZoomAdjustStep:t}),tp()}},{key:"markupEditorZoomAdjustFactor",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({markupEditorZoomAdjustFactor:t}),tp()}},{key:"markupEditorZoomAdjustWheelFactor",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({markupEditorZoomAdjustWheelFactor:t}),tp()}},{key:"markupEditorInteractionMode",get:function(){return this.$$.ctx[245]},set:function(t){this.$$set({markupEditorInteractionMode:t}),tp()}},{key:"muteAudio",get:function(){return this.$$.ctx[246]},set:function(t){this.$$set({muteAudio:t}),tp()}},{key:"willSetMediaInitialTimeOffset",get:function(){return this.$$.ctx[247]},set:function(t){this.$$set({willSetMediaInitialTimeOffset:t}),tp()}},{key:"enablePan",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({enablePan:t}),tp()}},{key:"enableZoom",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({enableZoom:t}),tp()}},{key:"enableZoomControls",get:function(){return this.$$.ctx[248]},set:function(t){this.$$set({enableZoomControls:t}),tp()}},{key:"enableZoomInput",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({enableZoomInput:t}),tp()}},{key:"enablePanInput",get:function(){return this.$$.ctx[249]},set:function(t){this.$$set({enablePanInput:t}),tp()}},{key:"enableCanvasAlpha",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({enableCanvasAlpha:t}),tp()}},{key:"enablePanLimit",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({enablePanLimit:t}),tp()}},{key:"panLimitGutterScalar",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({panLimitGutterScalar:t}),tp()}},{key:"zoomPresetOptions",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({zoomPresetOptions:t}),tp()}},{key:"zoomAdjustStep",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({zoomAdjustStep:t}),tp()}},{key:"zoomAdjustFactor",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({zoomAdjustFactor:t}),tp()}},{key:"zoomAdjustWheelFactor",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({zoomAdjustWheelFactor:t}),tp()}},{key:"zoomLevel",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({zoomLevel:t}),tp()}},{key:"imagePreviewSrc",get:function(){return this.$$.ctx[250]},set:function(t){this.$$set({imagePreviewSrc:t}),tp()}},{key:"imageOrienter",get:function(){return this.$$.ctx[251]},set:function(t){this.$$set({imageOrienter:t}),tp()}},{key:"pluginComponents",get:function(){return this.$$.ctx[252]},set:function(t){this.$$set({pluginComponents:t}),tp()}},{key:"pluginOptions",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({pluginOptions:t}),tp()}},{key:"sub",get:function(){return this.$$.ctx[253]}},{key:"pluginInterface",get:function(){return this.$$.ctx[1]}},{key:"root",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({root:t}),tp()}},{key:"imageSourceToImageData",get:function(){return this.$$.ctx[27]},set:function(t){this.$$set({imageSourceToImageData:t}),tp()}},{key:"imagePreview",get:function(){return this.$$.ctx[28]}},{key:"imagePreviewCurrent",get:function(){return this.$$.ctx[214]},set:function(t){this.$$set({imagePreviewCurrent:t}),tp()}},{key:"history",get:function(){return this.$$.ctx[29]}}]),e}(_p),cx=["klass","stores","isVisible","isActive","isActiveFraction","locale"],ux=["history","klass","stores","navButtons","pluginComponents","pluginInterface","pluginOptions","sub","imagePreviewSrc","imagePreview","imagePreviewCurrent"],sx=["locale"],lx=new Set([]),dx={},fx=new Map,hx=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.filter((function(t){return!!t.util})).forEach((function(t){var e=t.util,n=e[0],r=e[1],i=e[2],o=void 0===i?function(){return!0}:i;fx.has(n)||(fx.set(n,{Component:r,isSupported:o}),Sg(r).filter((function(t){return!cx.includes(t)})).forEach((function(t){lx.add(t),dx[t]?dx[t].push(n):dx[t]=[n]})))}))},px=[].concat(rv,["init","update","undo","redo","revert","writehistory","destroy","show","hide","close","ready","zoom","pan","loadpreview","selectshape","updateshape","addshape","removeshape","selectstyle","markuptap","markupzoom","markuppan","selectutil","selectcontrol"]),vx=function(t,e,n){void 0===n&&(n={});var r=n.prefix,i=void 0===r?"pintura:":r;return px.map((function(n){return t.on(n,(function(t){return Ys(e)?function(t,e,n){return t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}))}(e,""+i+n,t):e(n,t)}))}))};[["brightness",function(t){return t.finetuneLabelBrightness}],["contrast",function(t){return t.finetuneLabelContrast}],["saturation",function(t){return t.finetuneLabelSaturation}],["exposure",function(t){return t.finetuneLabelExposure}],["temperature",function(t){return t.finetuneLabelTemperature}],["gamma",function(t){return t.finetuneLabelGamma}],!eg()&&["clarity",function(t){return t.finetuneLabelClarity}],["vignette",function(t){return t.finetuneLabelVignette}]].filter(Boolean);var mx=function(t,e,n){var r=Math.max(t,e,n),i=r-Math.min(t,e,n),o=i&&(r==t?(e-n)/i:r==e?2+(n-t)/i:4+(t-e)/i);return[60*(o<0?o+6:o)/360,r&&i/r,r]},gx=function(t,e,n){var r,i,o,a=Math.floor(6*t),c=6*t-a,u=n*(1-e),s=n*(1-c*e),l=n*(1-(1-c)*e);switch(a%6){case 0:r=n,i=l,o=u;break;case 1:r=s,i=n,o=u;break;case 2:r=u,i=n,o=l;break;case 3:r=u,i=s,o=n;break;case 4:r=l,i=u,o=n;break;case 5:r=n,i=u,o=s}return[r,i,o]};function yx(t){var e,n,r;return{c:function(){e=ph("div"),n=ph("span"),xh(e,"class","PinturaColorPreview"),xh(e,"title",t[0]),xh(e,"style",r="--color:"+t[1])},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,n){var i=n[0];1&i&&xh(e,"title",t[0]),2&i&&r!==(r="--color:"+t[1])&&xh(e,"style",r)},i:Bf,o:Bf,d:function(t){t&&hh(e)}}}function bx(t,e,n){var r,i=e.color,o=void 0===i?void 0:i,a=e.title,c=void 0===a?void 0:a;return t.$$set=function(t){"color"in t&&n(2,o=t.color),"title"in t&&n(0,c=t.title)},t.$$.update=function(){4&t.$$.dirty&&n(1,r=o?ql(o):"transparent")},[c,r,o]}var wx=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,bx,yx,Vf,{color:2,title:0}),n}return lc(e,t),e}(_p);function xx(t){var e,n;return{c:function(){e=ph("span"),n=mh(t[0])},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,e){1&e[0]&&Ch(n,t[0])},d:function(t){t&&hh(e)}}}function _x(t){var e,n,r,i;n=new wx({props:{color:t[4],title:jy(t[8],t[10])}});var o=!t[9]&&xx(t);return{c:function(){e=ph("span"),yp(n.$$.fragment),r=gh(),o&&o.c(),xh(e,"slot","label"),xh(e,"class","PinturaButtonLabel")},m:function(t,a){fh(t,e,a),bp(n,e,null),sh(e,r),o&&o.m(e,null),i=!0},p:function(t,r){var i={};16&r[0]&&(i.color=t[4]),1280&r[0]&&(i.title=jy(t[8],t[10])),n.$set(i),t[9]?o&&(o.d(1),o=null):o?o.p(t,r):((o=xx(t)).c(),o.m(e,null))},i:function(t){i||(cp(n.$$.fragment,t),i=!0)},o:function(t){up(n.$$.fragment,t),i=!1},d:function(t){t&&hh(e),wp(n),o&&o.d()}}}function Cx(t){var e,n,r,i,o,a,c,u,s,l,d,f,h;s=new Nb({props:{class:"PinturaHuePicker",knobStyle:"background-color:"+t[19],onchange:t[24],value:t[14],min:0,max:1,step:.01}});var p=t[11]&&Ex(t);return{c:function(){e=ph("div"),n=ph("div"),r=ph("div"),i=ph("div"),u=gh(),yp(s.$$.fragment),l=gh(),p&&p.c(),xh(i,"role","button"),xh(i,"aria-label","Saturation slider"),xh(i,"class","PinturaPickerKnob"),xh(i,"tabindex","0"),xh(i,"style",o="background-color:"+t[18]+";"),xh(r,"class","PinturaPickerKnobController"),xh(r,"style",a="transform:translate("+t[22]+"%,"+t[21]+"%)"),xh(n,"class","PinturaSaturationPicker"),xh(n,"style",c="background-color: "+t[19]),xh(e,"class","PinturaPicker")},m:function(o,a){fh(o,e,a),sh(e,n),sh(n,r),sh(r,i),t[32](n),sh(e,u),bp(s,e,null),sh(e,l),p&&p.m(e,null),d=!0,f||(h=[bh(i,"nudge",t[27]),nh(Ug.call(null,i,{preventDefault:!0})),bh(n,"pointerdown",t[26])],f=!0)},p:function(t,u){(!d||262144&u[0]&&o!==(o="background-color:"+t[18]+";"))&&xh(i,"style",o),(!d||6291456&u[0]&&a!==(a="transform:translate("+t[22]+"%,"+t[21]+"%)"))&&xh(r,"style",a),(!d||524288&u[0]&&c!==(c="background-color: "+t[19]))&&xh(n,"style",c);var l={};524288&u[0]&&(l.knobStyle="background-color:"+t[19]),16384&u[0]&&(l.value=t[14]),s.$set(l),t[11]?p?(p.p(t,u),2048&u[0]&&cp(p,1)):((p=Ex(t)).c(),cp(p,1),p.m(e,null)):p&&(op(),up(p,1,1,(function(){p=null})),ap())},i:function(t){d||(cp(s.$$.fragment,t),cp(p),d=!0)},o:function(t){up(s.$$.fragment,t),up(p),d=!1},d:function(n){n&&hh(e),t[32](null),wp(s),p&&p.d(),f=!1,Zf(h)}}}function Ex(t){var e,n;return e=new Nb({props:{class:"PinturaOpacityPicker",knobStyle:"background-color:"+t[16],trackStyle:"background-image:linear-gradient(to right,"+t[17]+","+t[18]+")",onchange:t[25],value:t[15],min:0,max:1,step:.01}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};65536&n[0]&&(r.knobStyle="background-color:"+t[16]),393216&n[0]&&(r.trackStyle="background-image:linear-gradient(to right,"+t[17]+","+t[18]+")"),32768&n[0]&&(r.value=t[15]),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function kx(t){var e,n;return e=new fb({props:{label:jy(t[10].labelColorPalette,t[10]),class:ag(["PinturaColorPresets",t[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"]),hideLabel:!1,name:t[1],value:t[4],optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:t[2].map(t[33]),selectedIndex:t[3],optionMapper:t[7],optionLabelClass:t[6],onchange:t[34],$$slots:{option:[Ax,function(t){return{45:t.option}},function(t){return[0,t.option?16384:0]}],group:[$x,function(t){return{45:t.option}},function(t){return[0,t.option?16384:0]}]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};1024&n[0]&&(r.label=jy(t[10].labelColorPalette,t[10])),512&n[0]&&(r.class=ag(["PinturaColorPresets",t[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"])),2&n[0]&&(r.name=t[1]),16&n[0]&&(r.value=t[4]),1028&n[0]&&(r.options=t[2].map(t[33])),8&n[0]&&(r.selectedIndex=t[3]),128&n[0]&&(r.optionMapper=t[7]),64&n[0]&&(r.optionLabelClass=t[6]),512&n[0]|49152&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function $x(t){var e,n,r=t[45].label+"";return{c:function(){e=ph("span"),n=mh(r),xh(e,"slot","group")},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,e){16384&e[1]&&r!==(r=t[45].label+"")&&Ch(n,r)},d:function(t){t&&hh(e)}}}function Sx(t){var e,n,r=t[45].label+"";return{c:function(){e=ph("span"),n=mh(r),xh(e,"class","PinturaButtonLabel")},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,e){16384&e[1]&&r!==(r=t[45].label+"")&&Ch(n,r)},d:function(t){t&&hh(e)}}}function Ax(t){var e,n,r,i;n=new wx({props:{title:t[45].label,color:t[45].value}});var o=!t[9]&&Sx(t);return{c:function(){e=ph("span"),yp(n.$$.fragment),r=gh(),o&&o.c(),xh(e,"slot","option")},m:function(t,a){fh(t,e,a),bp(n,e,null),sh(e,r),o&&o.m(e,null),i=!0},p:function(t,r){var i={};16384&r[1]&&(i.title=t[45].label),16384&r[1]&&(i.color=t[45].value),n.$set(i),t[9]?o&&(o.d(1),o=null):o?o.p(t,r):((o=Sx(t)).c(),o.m(e,null))},i:function(t){i||(cp(n.$$.fragment,t),i=!0)},o:function(t){up(n.$$.fragment,t),i=!1},d:function(t){t&&hh(e),wp(n),o&&o.d()}}}function Ox(t){var e,n,r,i=t[13]&&Cx(t),o=t[12]&&kx(t);return{c:function(){e=ph("div"),i&&i.c(),n=gh(),o&&o.c(),xh(e,"slot","details"),xh(e,"class","PinturaColorPickerPanel")},m:function(t,a){fh(t,e,a),i&&i.m(e,null),sh(e,n),o&&o.m(e,null),r=!0},p:function(t,r){t[13]?i?(i.p(t,r),8192&r[0]&&cp(i,1)):((i=Cx(t)).c(),cp(i,1),i.m(e,n)):i&&(op(),up(i,1,1,(function(){i=null})),ap()),t[12]?o?(o.p(t,r),4096&r[0]&&cp(o,1)):((o=kx(t)).c(),cp(o,1),o.m(e,null)):o&&(op(),up(o,1,1,(function(){o=null})),ap())},i:function(t){r||(cp(i),cp(o),r=!0)},o:function(t){up(i),up(o),r=!1},d:function(t){t&&hh(e),i&&i.d(),o&&o.d()}}}function Lx(t){var e,n;return e=new My({props:{buttonClass:ag(["PinturaColorPickerButton",t[5]]),$$slots:{details:[Ox],label:[_x]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};32&n[0]&&(r.buttonClass=ag(["PinturaColorPickerButton",t[5]])),8388575&n[0]|32768&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Mx(t,e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b=e.label,w=void 0===b?void 0:b,x=e.name,_=void 0===x?void 0:x,C=e.options,E=void 0===C?[]:C,k=e.selectedIndex,$=void 0===k?-1:k,S=e.value,A=void 0===S?void 0:S,O=e.buttonClass,L=void 0===O?void 0:O,M=e.optionLabelClass,R=void 0===M?void 0:M,P=e.optionMapper,I=void 0===P?void 0:P,T=e.onchange,D=void 0===T?void 0:T,B=e.title,j=void 0===B?void 0:B,N=e.hidePresetLabel,F=void 0===N||N,z=e.locale,Z=void 0===z?void 0:z,H=e.enableOpacity,V=void 0===H||H,U=e.enablePresets,G=void 0===U||U,W=e.enablePicker,K=void 0===W||W,X=function(t,e){if(s=[t[0],t[1],t[2]],e){var r=mx.apply(void 0,s);n(14,o=r[0]),n(29,a=r[1]),n(30,c=r[2]),n(15,u=Wl(t[3])?t[3]:1)}n(16,l=ql(t)),n(17,d=ql([].concat(s,[0]))),n(18,f=ql([].concat(s,[1]))),n(19,h=ql(gx(o,1,1)))},Y=function(){var t=gx(o,a,c),e=[].concat(t,[u]);X(e),D(e)},q=function(t){var e=3===t.length?[].concat(t,[1]):t;X(e,!0),D(e)},J=function(t,e){var r,i=Gp(t.x/e.width,0,1),o=Gp(t.y/e.height,0,1);r=1-o,n(29,a=i),n(30,c=r),0===u&&n(15,u=1),Y()},Q=function(t){var e=Fu(Mu(t),y);J(Nu(Ru(g),e),m)},tt=function t(e){m=void 0,document.documentElement.removeEventListener("pointermove",Q),document.documentElement.removeEventListener("pointerup",t)};return t.$$set=function(t){"label"in t&&n(0,w=t.label),"name"in t&&n(1,_=t.name),"options"in t&&n(2,E=t.options),"selectedIndex"in t&&n(3,$=t.selectedIndex),"value"in t&&n(4,A=t.value),"buttonClass"in t&&n(5,L=t.buttonClass),"optionLabelClass"in t&&n(6,R=t.optionLabelClass),"optionMapper"in t&&n(7,I=t.optionMapper),"onchange"in t&&n(28,D=t.onchange),"title"in t&&n(8,j=t.title),"hidePresetLabel"in t&&n(9,F=t.hidePresetLabel),"locale"in t&&n(10,Z=t.locale),"enableOpacity"in t&&n(11,V=t.enableOpacity),"enablePresets"in t&&n(12,G=t.enablePresets),"enablePicker"in t&&n(13,K=t.enablePicker)},t.$$.update=function(){16&t.$$.dirty[0]|1&t.$$.dirty[1]&&(!A||p&&qp(A,p)||(n(31,p=[].concat(A)),X(A,!0))),536870912&t.$$.dirty[0]&&n(22,r=100*a),1073741824&t.$$.dirty[0]&&n(21,i=100-100*c)},[w,_,E,$,A,L,R,I,j,F,Z,V,G,K,o,u,l,d,f,h,v,i,r,q,function(t){n(14,o=t),0===u&&n(15,u=1),Y()},function(t){n(15,u=t),Y()},function(t){t.stopPropagation(),m=rs(v.offsetWidth,v.offsetHeight),g=function(t){return Lu(t.offsetX,t.offsetY)}(t),y=Mu(t),J(g,m),document.documentElement.addEventListener("pointermove",Q),document.documentElement.addEventListener("pointerup",tt)},function(t){m=rs(v.offsetWidth,v.offsetHeight);var e=r/100*m.width,n=i/100*m.height;J({x:e+t.detail.x,y:n+t.detail.y},m)},D,a,c,p,function(t){Zh[t?"unshift":"push"]((function(){n(20,v=t)}))},function(t){var e=t[0],n=t[1];return[e,Kc(n)?n(Z):n]},function(t){return q(t.value)}]}var Rx=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,Mx,Lx,Vf,{label:0,name:1,options:2,selectedIndex:3,value:4,buttonClass:5,optionLabelClass:6,optionMapper:7,onchange:28,title:8,hidePresetLabel:9,locale:10,enableOpacity:11,enablePresets:12,enablePicker:13},null,[-1,-1]),n}return lc(e,t),e}(_p),Px=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ix=null,Tx=function(){if(null===Ix)if(Oc())try{Ix=!1===document.fonts.check("16px TestNonExistingFont")}catch(t){Ix=!1}else Ix=!1;return Ix},Dx=function(t,e){return function(n){return n[e?""+e+Px(t):t]}},Bx=function(t){return[t,""+t]},jx=function(t,e){return function(n){return[t[n],Dx(n,e)]}},Nx=[1,.2549,.2118],Fx="0.5%",zx=[1,1,1,0],Zx={eraser:function(){return{eraseRadius:0}},path:function(){return{points:[]}},line:function(){return{x1:0,y1:0,x2:0,y2:0,disableErase:!1}},rectangle:function(){return{x:0,y:0,width:0,height:0}},ellipse:function(){return{x:0,y:0,rx:0,ry:0}},text:function(){return{x:0,y:0,text:"Text"}}},Hx=function(t,e,n){if(void 0===e&&(e={}),Zx[t]){var r=n||{},i=r.position,o=void 0===i?"relative":i,a=r.inputMode,c=void 0===a?"drag":a;return[Object.assign({},Zx[t](),e),{position:o,inputMode:c}]}},Vx=function(t){return Object.assign({sharpie:Hx("path",{strokeWidth:Fx,strokeColor:[].concat(Nx),disableErase:!1,disableResize:!0,disableMove:!0}),eraser:Hx("eraser"),path:Hx("path",{pathClose:void 0,strokeWidth:Fx,strokeColor:[].concat(Nx),backgroundColor:[0,0,0,0]},{inputMode:"step"}),line:Hx("line",{strokeColor:[].concat(Nx),strokeWidth:Fx}),arrow:Hx("line",{lineStart:"none",lineEnd:"arrow-solid",strokeColor:[].concat(Nx),strokeWidth:Fx}),rectangle:Hx("rectangle",{strokeColor:[].concat(zx),backgroundColor:[].concat(Nx)}),ellipse:Hx("ellipse",{strokeColor:[].concat(zx),backgroundColor:[].concat(Nx)}),text:Hx("text",{color:[].concat(Nx),fontSize:"2%"})},t)},Ux=function(t,e,n){return[t,e||Dx(t,"shapeLabelTool"),Object.assign({icon:Dx(t,"shapeIconTool")},n)]},Gx=function(t){return void 0===t&&(t=["move","view","sharpie","eraser","path","line","arrow","rectangle","ellipse","text","preset"]),t.map((function(t){return Wc(t)?Ux(t):Array.isArray(t)?Vc(t[1])?Ux(t[0],void 0,t[1]):Ux(t[0],t[1],t[2]):void 0})).filter(Boolean)},Wx=function(t,e){var n=e||{},r=n.defaultKey,i=n.defaultValue,o=n.defaultOptions,a=[];return r&&(a[0]=[i,function(t){return t[r]},Object.assign({},o)]),[].concat(a,t)},Kx=function(t){return t.split(",").map((function(t){return t.trim()})).some((function(t){return document.fonts.check("16px "+t)}))},Xx=function(t,e){return void 0===e&&(e={}),[Rx,Object.assign({title:function(t){return t.labelColor},options:Wx(t)},e)]},Yx=function(t){return void 0===t&&(t={}),[Gb,Object.assign({},t)]},qx="PinturaFontTest",Jx=function(t,e){return void 0===e&&(e={defaultKey:"labelDefault"}),[$b,{title:function(t){return t.shapeTitleFontFamily},onload:function(t){var e=t.options,n=void 0===e?[]:e;Tx()&&n.map((function(t){return t[0]})).filter(Boolean).filter((function(t){return!Kx(t)})).forEach((function(t){var e=qx+"-"+t.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase();document.getElementById(e)||document.body.append(Pc("span",{textContent:" ",id:e,class:qx,style:"font-family:"+t+";font-size:0;color:transparent;"}))}))},ondestroy:function(){Tx()&&document.querySelectorAll(".PinturaFontTest").forEach((function(t){return t.remove()}))},optionLabelStyle:function(t){return"font-family: "+t},options:Wx(t,e),optionFilter:function(t){if(!Tx())return!0;var e=t[0];return!e||Kx(e)}}]},Qx=function(t,e){return void 0===e&&(e={}),[Rx,Object.assign({title:function(t){return t.shapeTitleBackgroundColor},options:Wx(t)},e)]},t_=function(t,e){return void 0===e&&(e={}),[Rx,Object.assign({title:function(t){return t.shapeTitleStrokeColor},options:Wx(t),buttonClass:"PinturaColorPickerButtonStroke",onchange:function(t,n){var r=n.strokeWidth;(Wl(r)||Wc(r)?parseFloat(r):0)>0||(n.strokeWidth=e&&e.defaultStrokeWidth||"0.5%")}},e)]},e_=function(t,e,n){return[$b,{title:function(t){return t[e]},options:Wx(t,{defaultKey:"labelNone",defaultOptions:{icon:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H14"/></g>'}}),optionIconStyle:n}]},n_=function(t){return e_(t,"shapeTitleLineStart","transform: scaleX(-1)")},r_=function(t){return e_(t,"shapeTitleLineEnd")},i_=function(t){return[Rx,{title:function(t){return t.shapeTitleTextColor},options:Wx(t)}]},o_=function(t){return[$b,{title:function(t){return t.shapeTitleFontStyle},optionLabelStyle:function(t){return t&&"font-style:"+t[0]+";font-weight:"+t[1]},options:Wx(t,{defaultKey:"shapeLabelFontStyleNormal"})}]},a_=function(t,e){return e||t.find((function(t){return"4%"===t[0]}))||(e={defaultKey:"labelAuto",defaultValue:"4%"}),[$b,{title:function(t){return t.shapeTitleFontSize},options:Wx(t,e)}]},c_=function(t){return[fb,{title:function(t){return t.shapeTitleTextAlign},options:Wx(t)}]},u_=function(t,e){return e||t.find((function(t){return"120%"===t[0]}))||(e={defaultKey:"labelAuto",defaultValue:"120%"}),[$b,{title:function(t){return t.shapeTitleLineHeight},options:Wx(t,e)}]},s_=function(t){void 0===t&&(t={});var e,n,r=t,i=r.colorOptions,o=void 0===i?(e={transparent:[1,1,1,0],white:[1,1,1],silver:[.8667,.8667,.8667],gray:[.6667,.6667,.6667],black:[0,0,0],navy:[0,.1216,.2471],blue:[0,.4549,.851],aqua:[.498,.8588,1],teal:[.2235,.8,.8],olive:[.2392,.6,.4392],green:[.1804,.8,.251],yellow:[1,.8627,0],orange:[1,.5216,.1059],red:[1,.2549,.2118],maroon:[.5216,.0784,.2941],fuchsia:[.9412,.0706,.7451],purple:[.6941,.051,.7882]},Object.keys(e).map(jx(e,"shapeTitleColor"))):i,a=r.lineEndStyleOptions,c=void 0===a?function(t){return t.map((function(t){return[uw(t),function(e){return e["shapeTitleLineDecoration"+Px(t)]},{icon:function(e){return e["shapeIconLineDecoration"+Px(t)]}}]}))}(["bar","arrow","arrowSolid","circle","circleSolid","square","squareSolid"]):a,u=r.fontFamilyOptions,s=void 0===u?[].concat([["Helvetica, Arial, Verdana, 'Droid Sans', sans-serif","Sans Serif"],["'Arial Black', 'Avenir-Black', 'Arial Bold'","Black"],["'Arial Narrow', 'Futura-CondensedMedium'","Narrow"],["'Trebuchet MS'","Humanist"],["Georgia, 'Avenir-Black', 'Times New Roman', 'Droid Serif', serif","Serif"],["Palatino","Old-Style"],["'Times New Roman', 'TimesNewRomanPSMT'","Transitional"],["Menlo, Monaco, 'Lucida Console', monospace","Monospaced"],["'Courier New', monospace","Slab Serif"]]):u,l=r.fontStyleOptions,d=void 0===l?function(t){return t.map((function(t){return[t,function(e){return e["shapeLabelFontStyle"+t.filter((function(t){return"normal"!==t})).map(Px).join("")]}]}))}([["normal","bold"],["italic","normal"],["italic","bold"]]):l,f=r.textAlignOptions,h=void 0===f?function(t){return t.map((function(t){return[t,function(e){return e["shapeTitleTextAlign"+Px(t)]},{hideLabel:!0,icon:function(e){return e["shapeIconTextAlign"+Px(t)]}}]}))}(["left","center","right"]):f,p=t,v=p.strokeWidthOptions,m=void 0===v?(n={extraSmall:"0.25%",small:"0.5%",mediumSmall:"1%",medium:"1.75%",mediumLarge:"2.5%",large:"3.5%",extraLarge:"5%"},Object.keys(n).map(jx(n,"labelSize"))):v,g=p.fontSizeOptions,y=void 0===g?function(t){return Object.keys(t).map(jx(t,"labelSize"))}({extraSmall:"2%",small:"4%",mediumSmall:"8%",medium:"10%",mediumLarge:"15%",large:"20%",extraLarge:"25%"}):g,b=p.lineHeightOptions,w=void 0===b?function(t){return Object.keys(t).map(jx(t,"labelSize"))}({extraSmall:"40%",small:"60%",mediumSmall:"100%",medium:"120%",mediumLarge:"140%",large:"180%",extraLarge:"220%"}):b,x=[y,w,m].map((function(t){return Array.isArray(t)&&t.every(Wl)?t.map(Bx):t}));y=x[0],w=x[1],m=x[2];var _,C={defaultColor:o&&Xx(o),defaultNumber:Yx(),defaultPercentage:Yx({getValue:function(t){return parseFloat(t)},setValue:function(t){return t+"%"},step:.05,label:function(t,e,n){return Math.round(t/n*100)+"%"},labelClass:"PinturaPercentageLabel"}),backgroundColor:o&&Qx(o),strokeColor:o&&t_(o),strokeWidth:m&&(_=m,[$b,{title:function(t){return t.shapeTitleStrokeWidth},options:function(t){return Kl(t,"backgroundColor")?Wx(_,{defaultKey:"shapeLabelStrokeNone"}):Wx(_)},onchange:function(t,e){if(t){var n=e.strokeColor||[];if(!n[3]){var r=[].concat(n);r[3]=1,e.strokeColor=r}}}}]),lineStart:c&&n_(c),lineEnd:c&&r_(c),color:o&&i_(o),fontFamily:s&&Jx(s),fontStyle_fontWeight:d&&o_(d),fontSize:y&&a_(y),lineHeight:w&&u_(w),textAlign:h&&c_(h),cornerRadius:["defaultPercentage",{min:0,max:50,title:function(t){return t.shapeTitleCornerRadius}}],frameColor:["defaultColor"],frameSize:["defaultPercentage",{min:.2,max:10,title:function(t){return t.labelSize}}],frameInset:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelInset}}],frameOffset:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelOffset}}],frameRadius:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelRadius}}],frameAmount:["defaultNumber",{min:1,max:5,step:1,title:function(t){return t.labelAmount}}]};return Object.entries(t).forEach((function(t){var e=t[0],n=t[1];C[e]||(C[e]=n)})),C};function l_(t){var e,n,r,i,o=t[5].default,a=Kf(o,t,t[4],null);return{c:function(){e=ph("div"),a&&a.c(),xh(e,"class",t[0])},m:function(o,c){fh(o,e,c),a&&a.m(e,null),n=!0,r||(i=[bh(e,"measure",(function(){Hf(t[1]&&t[3])&&(t[1]&&t[3]).apply(this,arguments)})),nh(t[2].call(null,e))],r=!0)},p:function(r,i){var c=i[0];t=r,a&&a.p&&(!n||16&c)&&qf(a,o,t,t[4],n?Yf(o,t[4],c,null):Jf(t[4]),null),(!n||1&c)&&xh(e,"class",t[0])},i:function(t){n||(cp(a,t),n=!0)},o:function(t){up(a,t),n=!1},d:function(t){t&&hh(e),a&&a.d(t),r=!1,Zf(i)}}}function d_(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=Bh(),c=e.class,u=void 0===c?null:c,s=Nh("measurable"),l=!1;return Ih((function(){return n(1,l=!0)})),t.$$set=function(t){"class"in t&&n(0,u=t.class),"$$scope"in t&&n(4,o=t.$$scope)},[u,l,s,function(t){var e=t.detail;return a("measure",e)},o,i]}var f_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,d_,l_,Vf,{class:0}),n}return lc(e,t),e}(_p),h_=function(t){return{}},p_=function(t){return{}},v_=function(t){return{}},m_=function(t){return{}},g_=function(t){return{}},y_=function(t){return{}};function b_(t){var e,n,r=t[4].header,i=Kf(r,t,t[3],y_);return{c:function(){e=ph("div"),i&&i.c(),xh(e,"class","PinturaUtilHeader")},m:function(t,r){fh(t,e,r),i&&i.m(e,null),n=!0},p:function(t,e){i&&i.p&&(!n||8&e)&&qf(i,r,t,t[3],n?Yf(r,t[3],e,g_):Jf(t[3]),y_)},i:function(t){n||(cp(i,t),n=!0)},o:function(t){up(i,t),n=!1},d:function(t){t&&hh(e),i&&i.d(t)}}}function w_(t){var e,n,r=t[4].footer,i=Kf(r,t,t[3],p_);return{c:function(){e=ph("div"),i&&i.c(),xh(e,"class","PinturaUtilFooter")},m:function(t,r){fh(t,e,r),i&&i.m(e,null),n=!0},p:function(t,e){i&&i.p&&(!n||8&e)&&qf(i,r,t,t[3],n?Yf(r,t[3],e,h_):Jf(t[3]),p_)},i:function(t){n||(cp(i,t),n=!0)},o:function(t){up(i,t),n=!1},d:function(t){t&&hh(e),i&&i.d(t)}}}function x_(t){var e,n,r,i,o,a,c=t[1]&&b_(t),u=t[4].main,s=Kf(u,t,t[3],m_),l=s||function(t){var e,n;return(e=new f_({props:{class:"PinturaStage"}})).$on("measure",t[5]),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:Bf,i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}(t),d=t[2]&&w_(t);return{c:function(){c&&c.c(),e=gh(),n=ph("div"),l&&l.c(),r=gh(),d&&d.c(),i=gh(),o=yh(),xh(n,"class","PinturaUtilMain")},m:function(u,s){c&&c.m(u,s),fh(u,e,s),fh(u,n,s),l&&l.m(n,null),t[6](n),fh(u,r,s),d&&d.m(u,s),fh(u,i,s),fh(u,o,s),a=!0},p:function(t,n){var r=n[0];t[1]?c?(c.p(t,r),2&r&&cp(c,1)):((c=b_(t)).c(),cp(c,1),c.m(e.parentNode,e)):c&&(op(),up(c,1,1,(function(){c=null})),ap()),s&&s.p&&(!a||8&r)&&qf(s,u,t,t[3],a?Yf(u,t[3],r,v_):Jf(t[3]),m_),t[2]?d?(d.p(t,r),4&r&&cp(d,1)):((d=w_(t)).c(),cp(d,1),d.m(i.parentNode,i)):d&&(op(),up(d,1,1,(function(){d=null})),ap())},i:function(t){a||(cp(c),cp(l,t),cp(d),cp(false),a=!0)},o:function(t){up(c),up(l,t),up(d),up(false),a=!1},d:function(a){c&&c.d(a),a&&hh(e),a&&hh(n),l&&l.d(a),t[6](null),a&&hh(r),d&&d.d(a),a&&hh(i),a&&hh(o)}}}function __(t,e,n){var r=e,i=r.$$slots,o=void 0===i?{}:i,a=r.$$scope,c=e.hasHeader,u=void 0===c?!!e.$$slots.header:c,s=e.hasFooter,l=void 0===s?!!e.$$slots.footer:s,d=e.root,f=void 0===d?void 0:d;return t.$$set=function(t){n(7,e=Nf(Nf({},e),Qf(t))),"hasHeader"in t&&n(1,u=t.hasHeader),"hasFooter"in t&&n(2,l=t.hasFooter),"root"in t&&n(0,f=t.root),"$$scope"in t&&n(3,a=t.$$scope)},e=Qf(e),[f,u,l,a,o,function(e){Fh.call(this,t,e)},function(t){Zh[t?"unshift":"push"]((function(){n(0,f=t)}))}]}var C_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,__,x_,Vf,{hasHeader:1,hasFooter:2,root:0}),n}return lc(e,t),e}(_p);function E_(t){var e,n;return{c:function(){xh(e=ph("div"),"class","PinturaRangeInputMeter"),xh(e,"style",n="transform: translateX("+(t[9].x-t[11].x)+"px) translateY("+(t[9].y-t[11].y)+"px)")},m:function(n,r){fh(n,e,r),e.innerHTML=t[7]},p:function(t,r){128&r[0]&&(e.innerHTML=t[7]),512&r[0]&&n!==(n="transform: translateX("+(t[9].x-t[11].x)+"px) translateY("+(t[9].y-t[11].y)+"px)")&&xh(e,"style",n)},d:function(t){t&&hh(e)}}}function k_(t){var e,n,r,i,o,a,c,u,s,l,d,f=t[9]&&E_(t);return{c:function(){e=ph("div"),n=ph("span"),r=gh(),i=ph("button"),o=mh(t[1]),c=gh(),u=ph("div"),f&&f.c(),xh(n,"class","PinturaRangeInputValue"),xh(i,"class","PinturaRangeInputReset"),xh(i,"type","button"),i.disabled=a=t[0]===t[2],xh(u,"class","PinturaRangeInputInner"),xh(u,"style",t[8]),xh(u,"data-value-limited",t[5]),xh(e,"class","PinturaRangeInput"),xh(e,"tabindex","0")},m:function(a,h){fh(a,e,h),sh(e,n),n.innerHTML=t[3],sh(e,r),sh(e,i),sh(i,o),sh(e,c),sh(e,u),f&&f.m(u,null),l||(d=[bh(i,"click",t[16]),bh(u,"interactionstart",t[12]),bh(u,"interactionupdate",t[14]),bh(u,"interactionend",t[15]),bh(u,"interactionrelease",t[13]),nh(s=Vg.call(null,u,{inertia:t[6]})),bh(u,"measure",t[36]),nh(Xm.call(null,u)),bh(e,"wheel",t[18],{passive:!1}),bh(e,"nudge",t[19]),nh(Ug.call(null,e,{direction:"horizontal",preventDefault:!0}))],l=!0)},p:function(t,e){8&e[0]&&(n.innerHTML=t[3]),2&e[0]&&Ch(o,t[1]),5&e[0]&&a!==(a=t[0]===t[2])&&(i.disabled=a),t[9]?f?f.p(t,e):((f=E_(t)).c(),f.m(u,null)):f&&(f.d(1),f=null),256&e[0]&&xh(u,"style",t[8]),32&e[0]&&xh(u,"data-value-limited",t[5]),s&&Hf(s.update)&&64&e[0]&&s.update.call(null,{inertia:t[6]})},i:Bf,o:Bf,d:function(t){t&&hh(e),f&&f.d(),l=!1,Zf(d)}}}function $_(t,e,n){var r,i,o,a,c,u,s,l,d,f=e.labelReset,h=void 0===f?"Reset":f,p=e.direction,v=void 0===p?"x":p,m=e.min,g=void 0===m?0:m,y=e.max,b=void 0===y?1:y,w=e.base,x=void 0===w?g:w,_=e.value,C=void 0===_?0:_,E=e.valueLabel,k=void 0===E?0:E,$=e.valueMin,S=void 0===$?void 0:$,A=e.valueMax,O=void 0===A?void 0:A,L=e.oninputstart,M=void 0===L?Ec:L,R=e.oninputmove,P=void 0===R?Ec:R,I=e.oninputend,T=void 0===I?Ec:I,D=e.elasticity,B=void 0===D?0:D,j=e.nudgeMultiplier,N=void 0===j?void 0:j,F=e.step,z=void 0===F?8:F,Z=Nh("isAnimated");Wf(t,Z,(function(t){return n(6,l=t)}));var H,V,U,G=function(t,e,n){return Math.ceil((t-n)/e)*e+n},W={x:2,y:0},K=function(t,e,n){return"M "+(t-n)+" "+e+" a "+n+" "+n+" 0 1 0 0 -1"};var X,Y=void 0,q=!1,J={snap:!1,elastic:!1},Q=function(t,e,n){var r=t[v]+e[v],i=Gp(r,X[1][v],X[0][v]),o=B?i+Gg(r-i,B):i,a=n.elastic?o:i,c=Lu(0,0);return c[v]=a,tt.set(c,{hard:n.snap}),Gp(nt(c,v),g,b)},tt=Pm();Wf(t,tt,(function(t){return n(9,d=t)}));var et=function(t,e){var n=.5*(H[e]-a[e])-(Mb(t,g,b)*a[e]-.5*a[e]);return{x:"x"===e?n:0,y:"y"===e?n:0}},nt=function(t,e){var n=-(t[e]-.5*H[e])/a[e];return g+n*r},rt=tt.subscribe((function(t){t&&Y&&P(Gp(nt(t,v),g,b))})),it=function(t){var e,n=[et(null!=S?S:g,v),et(null!=O?O:b,v)],r={x:"x"===v?d.x+t:0,y:"y"===v?d.y+t:0},i=Gp(r[v],n[1][v],n[0][v]),o=Object.assign({},d,((e={})[v]=i,e));eh(tt,d=o,d);var a=Gp(nt(o,v),g,b);M(),P(a),T(a)};Dh((function(){rt()}));return t.$$set=function(t){"labelReset"in t&&n(1,h=t.labelReset),"direction"in t&&n(20,v=t.direction),"min"in t&&n(21,g=t.min),"max"in t&&n(22,b=t.max),"base"in t&&n(2,x=t.base),"value"in t&&n(0,C=t.value),"valueLabel"in t&&n(3,k=t.valueLabel),"valueMin"in t&&n(23,S=t.valueMin),"valueMax"in t&&n(24,O=t.valueMax),"oninputstart"in t&&n(25,M=t.oninputstart),"oninputmove"in t&&n(26,P=t.oninputmove),"oninputend"in t&&n(27,T=t.oninputend),"elasticity"in t&&n(28,B=t.elasticity),"nudgeMultiplier"in t&&n(29,N=t.nudgeMultiplier),"step"in t&&n(30,z=t.step)},t.$$.update=function(){if(6291456&t.$$.dirty[0]&&n(32,r=b-g),10485760&t.$$.dirty[0]&&n(34,i=null!=S?Math.max(S,g):g),20971520&t.$$.dirty[0]&&n(33,o=null!=O?Math.min(O,b):b),6291460&t.$$.dirty[0]&&n(35,c=Mb(x,g,b)),16&t.$$.dirty[0]|16&t.$$.dirty[1]&&H){for(var e,d=.5*H.y,f=40*c,h="",p=H.y,m="",y=0;y<=40;y++){var w=W.x+10*y,_=d;h+=K(w,_,y%5==0?2:.75)+" ",e=w+W.x,y===f&&(m='<path d="M'+w+" "+(_-4)+' l2 3 l-2 -1 l-2 1 z"/>')}n(7,V='<svg width="'+e+'" height="'+p+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+e+" "+p+'" aria-hidden="true" focusable="false">\n        '+m+'\n        <rect rx="4" ry="4" y="'+(d-4)+'"" height="8"/>\n        <path fill-rule="evenodd" d="'+h.trim()+'"/></svg>'),n(31,U={x:e-2*W.x,y:p})}16&t.$$.dirty[0]|1&t.$$.dirty[1]&&(a=H&&U),6291456&t.$$.dirty[0]|12&t.$$.dirty[1]&&n(5,u=i!==g||o!==b),32&t.$$.dirty[0]|12&t.$$.dirty[1]&&n(8,s=u?function(t,e){var n=1/40,r=Mb(t,g,b),i=Mb(e,g,b);return"--range-mask-from:"+100*Su(G(r,n,0)-.0125)+"%;--range-mask-to:"+100*Su(G(i,n,0)-.0125)+"%"}(i,o):""),1048657&t.$$.dirty[0]|2&t.$$.dirty[1]&&r&&H&&H.x&&H.y&&tt.set(et(C,v),{hard:!1===l})},[C,h,x,k,H,u,l,V,s,d,Z,W,function(){q=!1,Y=Gf(tt),X=[et(null!=S?S:g,v),et(null!=O?O:b,v)],M()},function(){q=!0},function(t){var e=t.detail;J.snap=!q,J.elastic=!q,Q(Y,e.translation,J)},function(t){var e=t.detail;J.snap=!1,J.elastic=!1;var n=Q(Y,e.translation,J);if(Y=void 0,X=void 0,Math.abs(n-x)<.01)return T(x);T(n)},function(){n(0,C=Gp(x,i,o)),M(),T(C)},tt,function(t){t.preventDefault(),t.stopPropagation();var e=Yg(t)*z;it(e)},function(t){var e=t.detail;it(e[v]*Math.abs(N||8))},v,g,b,S,O,M,P,T,B,N,z,U,r,o,i,c,function(t){return n(4,H=function(t){return Lu(t.width,t.height)}(t.detail))}]}var S_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,$_,k_,Vf,{labelReset:1,direction:20,min:21,max:22,base:2,value:0,valueLabel:3,valueMin:23,valueMax:24,oninputstart:25,oninputmove:26,oninputend:27,elasticity:28,nudgeMultiplier:29,step:30},null,[-1,-1]),n}return lc(e,t),e}(_p);function A_(t){var e,n,r,i,o,a=t[7].default,c=Kf(a,t,t[6],null);return{c:function(){e=ph("div"),n=ph("div"),c&&c.c(),xh(n,"class","PinturaToolbarInner"),xh(e,"class","PinturaToolbar"),xh(e,"data-layout",t[1]),xh(e,"data-overflow",t[0])},m:function(a,u){fh(a,e,u),sh(e,n),c&&c.m(n,null),r=!0,i||(o=[bh(n,"measure",t[3]),nh(Xm.call(null,n)),bh(e,"measure",t[2]),nh(Xm.call(null,e))],i=!0)},p:function(t,n){var i=n[0];c&&c.p&&(!r||64&i)&&qf(c,a,t,t[6],r?Yf(a,t[6],i,null):Jf(t[6]),null),(!r||2&i)&&xh(e,"data-layout",t[1]),(!r||1&i)&&xh(e,"data-overflow",t[0])},i:function(t){r||(cp(c,t),r=!0)},o:function(t){up(c,t),r=!1},d:function(t){t&&hh(e),c&&c.d(t),i=!1,Zf(o)}}}function O_(t,e,n){var r,i,o=e.$$slots,a=void 0===o?{}:o,c=e.$$scope,u=0,s=0,l=0,d=function(){n(0,i="compact"===r&&u>l?"overflow":void 0)};return t.$$set=function(t){"$$scope"in t&&n(6,c=t.$$scope)},t.$$.update=function(){48&t.$$.dirty&&n(1,r=s>l?"compact":"default")},[i,r,function(t){var e=t.detail.width;n(5,l=e),d()},function(t){var e=t.detail.width;e>s&&n(4,s=e),u=e,i||d()},s,l,c,a]}var L_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,O_,A_,Vf,{}),n}return lc(e,t),e}(_p),M_=((Ra={})[yu]=function(t){return{x:t.x,y:t.y}},Ra[Cu]=function(t){return{x:t.x+t.width,y:t.y}},Ra[bu]=function(t){return{x:t.x+t.width,y:t.y}},Ra[Eu]=function(t){return{x:t.x+t.width,y:t.y+t.height}},Ra[wu]=function(t){return{x:t.x,y:t.y+t.height}},Ra[ku]=function(t){return{x:t.x,y:t.y+t.height}},Ra[xu]=function(t){return{x:t.x,y:t.y}},Ra[_u]=function(t){return{x:t.x,y:t.y}},Ra);function R_(t,e,n){var r=t.slice();return r[14]=e[n].key,r[15]=e[n].translate,r[16]=e[n].scale,r[17]=e[n].type,r[18]=e[n].opacity,r}function P_(t,e){var n,r,i,o,a,c,u,s;return{key:t,first:null,c:function(){xh(n=ph("div"),"role","button"),xh(n,"aria-label",r="Drag "+e[17]+" "+e[14]),xh(n,"tabindex",i="edge"===e[17]?-1:0),xh(n,"class","PinturaRectManipulator"),xh(n,"data-direction",o=e[14]),xh(n,"data-shape",a="edge"===e[17]?"edge":""+e[0]),xh(n,"style",c="--tx:"+e[15].x+";--ty:"+e[15].y+";--sx:"+e[16].x+";--sy:"+e[16].y+";opacity:"+e[18]),this.first=n},m:function(t,r){fh(t,n,r),u||(s=[bh(n,"nudge",(function(){Hf(e[6](e[14]))&&e[6](e[14]).apply(this,arguments)})),nh(Ug.call(null,n,{preventDefault:!0})),bh(n,"interactionstart",(function(){Hf(e[5]("resizestart",e[14]))&&e[5]("resizestart",e[14]).apply(this,arguments)})),bh(n,"interactionupdate",(function(){Hf(e[5]("resizemove",e[14]))&&e[5]("resizemove",e[14]).apply(this,arguments)})),bh(n,"interactionend",(function(){Hf(e[5]("resizeend",e[14]))&&e[5]("resizeend",e[14]).apply(this,arguments)})),nh(Vg.call(null,n))],u=!0)},p:function(t,u){e=t,2&u&&r!==(r="Drag "+e[17]+" "+e[14])&&xh(n,"aria-label",r),2&u&&i!==(i="edge"===e[17]?-1:0)&&xh(n,"tabindex",i),2&u&&o!==(o=e[14])&&xh(n,"data-direction",o),3&u&&a!==(a="edge"===e[17]?"edge":""+e[0])&&xh(n,"data-shape",a),2&u&&c!==(c="--tx:"+e[15].x+";--ty:"+e[15].y+";--sx:"+e[16].x+";--sy:"+e[16].y+";opacity:"+e[18])&&xh(n,"style",c)},d:function(t){t&&hh(n),u=!1,Zf(s)}}}function I_(t){for(var e,n=[],r=new Map,i=t[1],o=function(t){return t[14]},a=0;a<i.length;a+=1){var c=R_(t,i,a),u=o(c);r.set(u,n[a]=P_(u,c))}return{c:function(){for(var t=0;t<n.length;t+=1)n[t].c();e=yh()},m:function(t,r){for(var i=0;i<n.length;i+=1)n[i].m(t,r);fh(t,e,r)},p:function(t,a){var c=a[0];99&c&&(i=t[1],n=pp(n,c,o,1,t,i,r,e.parentNode,fp,P_,e,R_))},i:Bf,o:Bf,d:function(t){for(var r=0;r<n.length;r+=1)n[r].d(t);t&&hh(e)}}}function T_(t,e,n){var r,i,o,a,c=e.rect,u=void 0===c?null:c,s=e.visible,l=void 0!==s&&s,d=e.style,f=void 0===d?void 0:d,h=Nh("isAnimated");Wf(t,h,(function(t){return n(11,a=t)}));var p=Pm(void 0,{precision:1e-4,stiffness:.2,damping:.4});Wf(t,p,(function(t){return n(10,o=t)}));var v,m=Pm(0,{precision:.001});Wf(t,m,(function(t){return n(9,i=t)}));var g=Bh();return t.$$set=function(t){"rect"in t&&n(7,u=t.rect),"visible"in t&&n(8,l=t.visible),"style"in t&&n(0,f=t.style)},t.$$.update=function(){2304&t.$$.dirty&&p.set(l?1:.5,{hard:!1===a}),2304&t.$$.dirty&&m.set(l?1:0,{hard:!1===a}),1664&t.$$.dirty&&n(1,r=Object.keys(gu).map((function(t,e){var n=gu[t],r=M_[n](u),a=1===n.length?"edge":"corner",c="corner"===a;return{key:n,type:a,scale:{x:/^(t|b)$/.test(n)?u.width:c?Gp(o,.5,1.25):1,y:/^(r|l)$/.test(n)?u.height:c?Gp(o,.5,1.25):1},translate:{x:r.x,y:r.y},opacity:i}})))},[f,r,h,p,m,function(t,e){return function(n){var r=n.detail;v&&e!==v||"resizestart"!==t&&void 0===v||("resizestart"===t&&(v=e),"resizeend"===t&&(v=void 0),g(t,{direction:e,translation:r&&r.translation}))}},function(t){return function(e){var n=e.detail;g("resizestart",{direction:t,translation:{x:0,y:0}}),g("resizemove",{direction:t,translation:n}),g("resizeend",{direction:t,translation:{x:0,y:0}})}},u,l,i,o,a]}var D_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,T_,I_,Vf,{rect:7,visible:8,style:0}),n}return lc(e,t),e}(_p),B_=function(t){function e(e,n){t.dispatchEvent(new CustomEvent(e,{detail:n}))}var n=function(n){n.preventDefault(),t.addEventListener("gesturechange",r),t.addEventListener("gestureend",i),e("gesturedown")},r=function(t){t.preventDefault(),e("gestureupdate",t.scale)},i=function(t){e("gestureup",t.scale),t.preventDefault(),o()},o=function(){t.removeEventListener("gesturechange",r),t.removeEventListener("gestureend",i)};return t.addEventListener("gesturestart",n),{destroy:function(){o(),t.removeEventListener("gesturestart",n)}}},j_=((Pa={})[yu]=wu,Pa[bu]=xu,Pa[wu]=yu,Pa[xu]=bu,Pa[_u]=Eu,Pa[Cu]=ku,Pa[Eu]=_u,Pa[ku]=Cu,Pa),N_=function(t){var e=t===xu||t===bu,n=t===yu||t===wu;return[t===bu||t===Cu||t===Eu,t===xu||t===ku||t===_u,t===yu||t===Cu||t===_u,t===wu||t===Eu||t===ku,e,n,e||n]},F_=function(t,e,n,r){void 0===r&&(r={});var i=e.target,o=e.translate,a=r,c=a.aspectRatio,u=a.minSize,s=a.maxSize,l=j_[i],d=$u[l],f=Nu(Lu(t.x,t.y),Lu(d[0]*t.width,d[1]*t.height)),h=$u[i],p=Nu(vs(t),Lu(h[0]*t.width,h[1]*t.height)),v=N_(i),m=v[0],g=v[1],y=v[2],b=v[3],w=v[4],x=v[5],_=v[6],C=o.x,E=o.y;w?E=0:x&&(C=0);var k=z_(f,i,n,{aspectRatio:c,minSize:u,maxSize:s}),$=k.inner,S=k.outer,A=Bs(t),O=A[0],L=A[1],M=A[2],R=A[3];if(m?R=f.x:g&&(L=f.x),b?O=f.y:y&&(M=f.y),m){var P=$.x+$.width,I=S.x+S.width;L=Gp(p.x+C,P,I)}else if(g){var T=S.x,D=$.x;R=Gp(p.x+C,T,D)}if(b){var B=$.y+$.height,j=S.y+S.height;M=Gp(p.y+E,B,j)}else if(y){var N=S.y,F=$.y;O=Gp(p.y+E,N,F)}if(R>$.x&&(R=$.x),L<$.x+$.width&&(L=$.x+$.width),O>$.y&&(O=$.y),M<$.y+$.height&&(M=$.y+$.height),R<S.x){var z=S.x-R;R=S.x,L+=z}if(L>S.x+S.width){var Z=L-(S.x+S.width);L=S.x+S.width,R-=Z}if(O<S.y){var H=S.y-O;O=S.y,M+=H}if(M>S.y+S.height){var V=M-(S.y+S.height);M=S.y+S.height,O-=V}if(c)if(_){var U=L-R,G=M-O;w?(G=U/c,O=f.y-.5*G,M=f.y+.5*G):x&&(U=G*c,R=f.x-.5*U,L=f.x+.5*U)}else{var W=Lu(p.x+C-f.x,p.y+E-f.y);i===Cu?(W.x=Math.max(0,W.x),W.y=Math.min(0,W.y)):i===Eu?(W.x=Math.max(0,W.x),W.y=Math.max(0,W.y)):i===ku?(W.x=Math.min(0,W.x),W.y=Math.max(0,W.y)):i===_u&&(W.x=Math.min(0,W.x),W.y=Math.min(0,W.y));var K=Tu(W),X=Tu(Lu($.width,$.height)),Y=Tu(Lu(S.width,S.height)),q=Gp(K,X,Y),J=Lu(c,1),Q=Zu(Du(J),q);i===Cu?(L=f.x+Q.x,O=f.y-Q.y):i===Eu?(L=f.x+Q.x,M=f.y+Q.y):i===ku?(R=f.x-Q.x,M=f.y+Q.y):i===_u&&(R=f.x-Q.x,O=f.y-Q.y)}return xs(R,O,L-R,M-O)},z_=function(t,e,n,r){var i=r.aspectRatio,o=r.minSize,a=r.maxSize,c=e===bu||e===Cu||e===Eu,u=e===xu||e===ku||e===_u,s=e===yu||e===Cu||e===_u,l=e===wu||e===Eu||e===ku,d=e===xu||e===bu,f=e===yu||e===wu,h=vs(n);c?(h.x=t.x,h.width-=t.x):u&&(h.width=t.x),l?(h.y=t.y,h.height-=t.y):s&&(h.height=t.y);var p=function(t,e){return ps(0,0,t,e)}(Math.min(h.width,a.width),Math.min(h.height,a.height));if(i)if(d){var v=Math.min(t.y,n.height-t.y);p.height=Math.min(2*v,p.height)}else if(f){var m=Math.min(t.x,n.width-t.x);p.width=Math.min(2*m,p.width)}var g,y,b,w,x=i?ts(Ts(gs(o),i)):o,_=i?ts(Ds(p,i)):p;c?g=t.x:u&&(y=t.x),l?b=t.y:s&&(w=t.y),c?y=g+x.width:u&&(g=y-x.width),l?w=b+x.height:s&&(b=w-x.height),d?(b=t.y-.5*x.height,w=t.y+.5*x.height):f&&(g=t.x-.5*x.width,y=t.x+.5*x.width);var C=bs([Lu(g,b),Lu(y,w)]);return c?y=g+_.width:u&&(g=y-_.width),l?w=b+_.height:s&&(b=w-_.height),d?(b=t.y-.5*_.height,w=t.y+.5*_.height):f&&(g=t.x-.5*_.width,y=t.x+.5*_.width),g=Math.max(n.x,g),y=Math.min(n.x+n.width,y),b=Math.max(n.y,b),w=Math.min(n.y+n.height,w),{inner:C,outer:bs([Lu(g,b),Lu(y,w)])}},Z_=function(t){return 180*t/Math.PI};function H_(t){var e,n,r;return n=new S_({props:{elasticity:t[5],min:t[9],max:t[10],value:t[11],valueMin:Math.max(t[9],t[0]),valueMax:Math.min(t[10],t[1]),labelReset:t[6],base:t[12],valueLabel:Math.round(Z_(t[11]))+"&deg;",oninputstart:t[2],oninputmove:t[17],oninputend:t[18]}}),{c:function(){e=ph("div"),yp(n.$$.fragment),xh(e,"class","PinturaImageRotator")},m:function(t,i){fh(t,e,i),bp(n,e,null),r=!0},p:function(t,e){var r=e[0],i={};32&r&&(i.elasticity=t[5]),512&r&&(i.min=t[9]),1024&r&&(i.max=t[10]),2048&r&&(i.value=t[11]),513&r&&(i.valueMin=Math.max(t[9],t[0])),1026&r&&(i.valueMax=Math.min(t[10],t[1])),64&r&&(i.labelReset=t[6]),4096&r&&(i.base=t[12]),2048&r&&(i.valueLabel=Math.round(Z_(t[11]))+"&deg;"),4&r&&(i.oninputstart=t[2]),392&r&&(i.oninputmove=t[17]),400&r&&(i.oninputend=t[18]),n.$set(i)},i:function(t){r||(cp(n.$$.fragment,t),r=!0)},o:function(t){up(n.$$.fragment,t),r=!1},d:function(t){t&&hh(e),wp(n)}}}function V_(t,e,n){var r,i,o,a,c,u,s,l=e.rotation,d=e.valueMin,f=e.valueMax,h=e.oninputstart,p=void 0===h?Ec:h,v=e.oninputmove,m=void 0===v?Ec:v,g=e.oninputend,y=void 0===g?Ec:g,b=e.elasticity,w=void 0===b?0:b,x=e.labelReset,_=void 0===x?void 0:x,C=e.rotationMin,E=void 0===C?void 0:C,k=e.rotationMax,$=void 0===k?void 0:k;return t.$$set=function(t){"rotation"in t&&n(13,l=t.rotation),"valueMin"in t&&n(0,d=t.valueMin),"valueMax"in t&&n(1,f=t.valueMax),"oninputstart"in t&&n(2,p=t.oninputstart),"oninputmove"in t&&n(3,m=t.oninputmove),"oninputend"in t&&n(4,y=t.oninputend),"elasticity"in t&&n(5,w=t.elasticity),"labelReset"in t&&n(6,_=t.labelReset),"rotationMin"in t&&n(14,E=t.rotationMin),"rotationMax"in t&&n(15,$=t.rotationMax)},t.$$.update=function(){16384&t.$$.dirty&&n(9,r=E+1e-9),32768&t.$$.dirty&&n(10,i=$-1e-9),1536&t.$$.dirty&&n(12,o=r+.5*(i-r)),32768&t.$$.dirty&&n(16,a=2*$),8192&t.$$.dirty&&n(8,c=Math.sign(l)),73728&t.$$.dirty&&n(7,u=Math.round(Math.abs(l)/a)*a),8576&t.$$.dirty&&n(11,s=l-c*u)},[d,f,p,m,y,w,_,u,c,r,i,s,o,l,E,$,a,function(t){return m(c*u+t)},function(t){return y(c*u+t)}]}var U_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,V_,H_,Vf,{rotation:13,valueMin:0,valueMax:1,oninputstart:2,oninputmove:3,oninputend:4,elasticity:5,labelReset:6,rotationMin:14,rotationMax:15}),n}return lc(e,t),e}(_p);function G_(t){var e,n,r,i,o;return{c:function(){e=ph("div"),n=ph("p"),r=mh(t[0]),i=mh("  "),o=mh(t[1]),xh(e,"class","PinturaImageInfo")},m:function(t,a){fh(t,e,a),sh(e,n),sh(n,r),sh(n,i),sh(n,o)},p:function(t,e){var n=e[0];1&n&&Ch(r,t[0]),2&n&&Ch(o,t[1])},i:Bf,o:Bf,d:function(t){t&&hh(e)}}}function W_(t,e,n){var r=e.width,i=e.height;return t.$$set=function(t){"width"in t&&n(0,r=t.width),"height"in t&&n(1,i=t.height)},[r,i]}var K_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,W_,G_,Vf,{width:0,height:1}),n}return lc(e,t),e}(_p);function X_(t){var e,n;return e=new fb({props:{class:"PinturaPresetListFilter",layout:"row",options:t[8],selectedIndex:t[7],onchange:t[10]}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};256&n&&(r.options=t[8]),128&n&&(r.selectedIndex=t[7]),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function Y_(t){var e,n;return e=new $b({props:{icon:t[0],label:t[1],labelClass:t[2],hideLabel:t[3],options:t[9],selectedIndex:t[4],onchange:t[5],optionMapper:t[6],$$slots:{controls:[X_]},$$scope:{ctx:t}}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r=n[0],i={};1&r&&(i.icon=t[0]),2&r&&(i.label=t[1]),4&r&&(i.labelClass=t[2]),8&r&&(i.hideLabel=t[3]),512&r&&(i.options=t[9]),16&r&&(i.selectedIndex=t[4]),32&r&&(i.onchange=t[5]),64&r&&(i.optionMapper=t[6]),262528&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}var q_='fill="none" stroke="currentColor"';function J_(t,e,n){var r,i,o,a=e.icon,c=e.label,u=e.labelClass,s=e.hideLabel,l=e.options,d=e.selectedIndex,f=e.onchange,h=e.optionMapper,p=e.filter,v=void 0===p?"landscape":p,m=e.onfilterchange,g=void 0===m?Ec:m,y=function(t,e,n,r,i){return"\n    <rect "+q_+' x="'+t+'" y="'+e+'" width="'+n+'" height="'+r+'" rx="'+i+'"/>'},b=function(t,e){return"<path "+q_+' d="M'+t+" "+e+' l2 2 l3 -4"/>'};return t.$$set=function(t){"icon"in t&&n(0,a=t.icon),"label"in t&&n(1,c=t.label),"labelClass"in t&&n(2,u=t.labelClass),"hideLabel"in t&&n(3,s=t.hideLabel),"options"in t&&n(12,l=t.options),"selectedIndex"in t&&n(4,d=t.selectedIndex),"onchange"in t&&n(5,f=t.onchange),"optionMapper"in t&&n(6,h=t.optionMapper),"filter"in t&&n(11,v=t.filter),"onfilterchange"in t&&n(13,g=t.onfilterchange)},t.$$.update=function(){6144&t.$$.dirty&&n(9,r=function(t,e){return(t||[]).map((function(t){return Wc(t[0])?(t[1]=t[1].map(e),t):e(t)}))}(l,function(t){return function(e){var n=e[0],r=e[1],i=e[2],o=void 0===i?{}:i;return Wl(n)&&(o.hidden="landscape"===t?n<1:n>1),[n,r,o]}}(v))),2048&t.$$.dirty&&n(7,i="landscape"===v?0:1),128&t.$$.dirty&&n(8,o=[["landscape","Landscape",{hideLabel:!0,icon:y(2,6,19,12,2)+(0===i?b(9,12):"")}],["portrait","Portrait",{hideLabel:!0,icon:y(5,3,13,18,2)+(1===i?b(9,12):"")}]])},[a,c,u,s,d,f,h,i,o,r,function(t){n(11,v=t.value),g(t.value)},v,l,g]}var Q_=function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,J_,Y_,Vf,{icon:0,label:1,labelClass:2,hideLabel:3,options:12,selectedIndex:4,onchange:5,optionMapper:6,filter:11,onfilterchange:13}),n}return lc(e,t),e}(_p),tC=function(t){return ju(t,(function(t){return Su(t,6)}))},eC=function(t){return Ns(t,(function(t){return Su(t,6)}))},nC=function(t,e,n){return void 0===n&&(n=1e-4),Math.abs(t-e)<n},rC=function(t,e,n,r,i){void 0===i&&(i={});var o=i.aspectRatio;t=eC(t),r=r.map(tC);var a=$s(t,j_[n.target]),c=ju(a,(function(t){return Su(t,6)})),u=o?Ts(i.minSize,o):i.minSize,s=o?Ds(i.maxSize,o):i.maxSize,l=$s(e,n.target);if(Gu(l,a)<1){e=vs(t);var d=Math.min(u.width/t.width,u.height/t.height);Es(e,d,a)}e=ks(vs(e),u,s,a);var f=vs(e);e=eC(e);var h,p=Ws(r,1),v=js(t),m=js(e),g=v.findIndex((function(t){return Bu(ju(t,(function(t){return Su(t,6)})),c)})),y=function(t){return p.map((function(e){return Hs(e,t)})).filter(Boolean).pop()};if(o){var b=m.map((function(t,e){if(e!==g){var n=Lu(a.x-t.x,a.y-t.y);Du(n),Zu(n,.5);var r=Lu(a.x-n.x,a.y-n.y),i=ls(r,tC(t)),o=y(i);if(o){var c=v[e];return{intersection:o,cornerDist:Gu(a,c),intersectionDist:Gu(a,o)}}}})).filter(Boolean);if(b.length){var w=b.reduce((function(t,e){var n=e.intersectionDist/e.cornerDist;return n<t?n:t}),Number.MAX_SAFE_INTEGER);f=vs(t),Es(f,w,a)}}else{var x=1===n.target.length,_=!(r[0].y===r[1].y||r[0].x===r[1].x),C=v.map((function(t,e){if(e!==g){var n=m[e],r=!nC(n.x,c.x)&&!nC(n.y,c.y);if((x||_||!r)&&(!x||!nC(n.x,c.x)&&!nC(n.y,c.y))){var i=Ru(x?t:a),o=Fu(Ru(i),n);Du(o),Zu(o,.5),x?Nu(i,o):Fu(i,o);var u=ls(i,n),s=y(u);if(s)return s}}})).filter(Boolean);if(C.length){var E=N_(n.target),k=E[0],$=E[1],S=E[2],A=E[3],O=Bs(e),L=O[0],M=O[1],R=O[2],P=O[3];C.forEach((function(t){var e=t.x,n=t.y,r=Su(e,6),i=Su(n,6);S&&!nC(i,c.y)&&(L=Math.max(L,n)),k&&!nC(r,c.x)&&(M=Math.min(M,e)),A&&!nC(i,c.y)&&(R=Math.min(R,n)),$&&!nC(r,c.x)&&(P=Math.max(P,e))})),f=ps((h=[L,M,R,P])[3],h[0],h[1]-h[3],h[2]-h[0]),Es(f,.9999,a)}}return ks(f,u,s,a),f};function iC(t){var e,n;return e=new rw({props:{items:t[11]}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};2048&n[0]&&(r.items=t[11]),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function oC(t){var e,n,r;return n=new L_({props:{$$slots:{default:[iC]},$$scope:{ctx:t}}}),{c:function(){e=ph("div"),yp(n.$$.fragment),xh(e,"slot","header")},m:function(t,i){fh(t,e,i),bp(n,e,null),r=!0},p:function(t,e){var r={};2048&e[0]|1&e[7]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){r||(cp(n.$$.fragment,t),r=!0)},o:function(t){up(n.$$.fragment,t),r=!1},d:function(t){t&&hh(e),wp(n)}}}function aC(t){var e,n;return e=new Zg({props:{onclick:t[88],label:t[4].cropLabelButtonRecenter,icon:t[4].cropIconButtonRecenter,class:"PinturaButtonCenter",disabled:!t[9],hideLabel:!0,style:"opacity: "+t[29]+"; transform: translate3d("+t[30].x+"px, "+t[30].y+"px, 0)"}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]&&(r.label=t[4].cropLabelButtonRecenter),16&n[0]&&(r.icon=t[4].cropIconButtonRecenter),512&n[0]&&(r.disabled=!t[9]),1610612736&n[0]&&(r.style="opacity: "+t[29]+"; transform: translate3d("+t[30].x+"px, "+t[30].y+"px, 0)"),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function cC(t){var e,n;return(e=new D_({props:{rect:t[8],visible:t[12],style:t[1]}})).$on("resizestart",t[68]),e.$on("resizemove",t[69]),e.$on("resizeend",t[70]),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};256&n[0]&&(r.rect=t[8]),4096&n[0]&&(r.visible=t[12]),2&n[0]&&(r.style=t[1]),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function uC(t){var e,n;return e=new K_({props:{width:Math.round(t[13].width),height:Math.round(t[13].height)}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};8192&n[0]&&(r.width=Math.round(t[13].width)),8192&n[0]&&(r.height=Math.round(t[13].height)),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function sC(t){var e,n,r,i,o,a,c,u,s=t[21]&&t[10]&&aC(t),l=t[21]&&cC(t),d=t[22]&&uC(t);return{c:function(){e=ph("div"),n=ph("div"),s&&s.c(),r=gh(),l&&l.c(),o=gh(),d&&d.c(),xh(n,"class","PinturaStage"),xh(e,"slot","main")},m:function(f,h){fh(f,e,h),sh(e,n),s&&s.m(n,null),sh(n,r),l&&l.m(n,null),t[162](n),sh(e,o),d&&d.m(e,null),a=!0,c||(u=[nh(Xm.call(null,n)),bh(n,"measure",t[160]),bh(n,"wheel",(function(){Hf(t[2]&&t[87])&&(t[2]&&t[87]).apply(this,arguments)}),{passive:!1}),bh(n,"interactionstart",t[74]),bh(n,"interactionupdate",t[75]),bh(n,"interactionrelease",t[77]),bh(n,"interactionend",t[76]),nh(i=Vg.call(null,n,{drag:!0,inertia:!0,pinch:t[2],shouldStartInteraction:bC,getEventPosition:t[163]})),bh(n,"gesturedown",t[84]),bh(n,"gestureupdate",t[85]),bh(n,"gestureup",t[86]),nh(B_.call(null,n))],c=!0)},p:function(o,a){(t=o)[21]&&t[10]?s?(s.p(t,a),2098176&a[0]&&cp(s,1)):((s=aC(t)).c(),cp(s,1),s.m(n,r)):s&&(op(),up(s,1,1,(function(){s=null})),ap()),t[21]?l?(l.p(t,a),2097152&a[0]&&cp(l,1)):((l=cC(t)).c(),cp(l,1),l.m(n,null)):l&&(op(),up(l,1,1,(function(){l=null})),ap()),i&&Hf(i.update)&&16777220&a[0]&&i.update.call(null,{drag:!0,inertia:!0,pinch:t[2],shouldStartInteraction:bC,getEventPosition:t[163]}),t[22]?d?(d.p(t,a),4194304&a[0]&&cp(d,1)):((d=uC(t)).c(),cp(d,1),d.m(e,null)):d&&(op(),up(d,1,1,(function(){d=null})),ap())},i:function(t){a||(cp(s),cp(l),cp(d),a=!0)},o:function(t){up(s),up(l),up(d),a=!1},d:function(n){n&&hh(e),s&&s.d(),l&&l.d(),t[162](null),d&&d.d(),c=!1,Zf(u)}}}function lC(t){for(var e,n,r,i,o=[{class:"PinturaControlList"},{tabs:t[7]},t[18]],a={$$slots:{default:[dC,function(t){return{216:t.tab}},function(t){return[0,0,0,0,0,0,t.tab?1073741824:0]}]},$$scope:{ctx:t}},c=0;c<o.length;c+=1)a=Nf(a,o[c]);(e=new pg({props:a})).$on("select",t[161]);for(var u=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:t[17]},t[18]],s={$$slots:{default:[pC,function(t){return{215:t.panel}},function(t){return[0,0,0,0,0,0,t.panel?536870912:0]}]},$$scope:{ctx:t}},l=0;l<u.length;l+=1)s=Nf(s,u[l]);return r=new $g({props:s}),{c:function(){yp(e.$$.fragment),n=gh(),yp(r.$$.fragment)},m:function(t,o){bp(e,t,o),fh(t,n,o),bp(r,t,o),i=!0},p:function(t,n){var i=262272&n[0]?vp(o,[o[0],128&n[0]&&{tabs:t[7]},262144&n[0]&&mp(t[18])]):{};1073741824&n[6]|1&n[7]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);var a=393216&n[0]?vp(u,[u[0],u[1],131072&n[0]&&{panels:t[17]},262144&n[0]&&mp(t[18])]):{};511721496&n[0]|536870912&n[6]|1&n[7]&&(a.$$scope={dirty:n,ctx:t}),r.$set(a)},i:function(t){i||(cp(e.$$.fragment,t),cp(r.$$.fragment,t),i=!0)},o:function(t){up(e.$$.fragment,t),up(r.$$.fragment,t),i=!1},d:function(t){wp(e,t),t&&hh(n),wp(r,t)}}}function dC(t){var e,n,r=t[216].label+"";return{c:function(){e=ph("span"),n=mh(r)},m:function(t,r){fh(t,e,r),sh(e,n)},p:function(t,e){1073741824&e[6]&&r!==(r=t[216].label+"")&&Ch(n,r)},d:function(t){t&&hh(e)}}}function fC(t){var e,n;return e=new S_({props:{elasticity:t[25]*t[43],base:yC,min:t[23],max:gC,valueMin:t[27][0],valueMax:t[27][1],value:t[28],labelReset:t[4].labelReset,valueLabel:Math.round(100*t[28])+"%",oninputstart:t[81],oninputmove:t[82],oninputend:t[83]}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};33554432&n[0]&&(r.elasticity=t[25]*t[43]),8388608&n[0]&&(r.min=t[23]),134217728&n[0]&&(r.valueMin=t[27][0]),134217728&n[0]&&(r.valueMax=t[27][1]),268435456&n[0]&&(r.value=t[28]),16&n[0]&&(r.labelReset=t[4].labelReset),268435456&n[0]&&(r.valueLabel=Math.round(100*t[28])+"%"),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function hC(t){var e,n;return e=new U_({props:{elasticity:t[25]*t[43],rotation:t[14],labelReset:t[4].labelReset,valueMin:t[26][0],valueMax:t[26][1],rotationMin:-t[3],rotationMax:t[3],oninputstart:t[71],oninputmove:t[72],oninputend:t[73]}}),{c:function(){yp(e.$$.fragment)},m:function(t,r){bp(e,t,r),n=!0},p:function(t,n){var r={};33554432&n[0]&&(r.elasticity=t[25]*t[43]),16384&n[0]&&(r.rotation=t[14]),16&n[0]&&(r.labelReset=t[4].labelReset),67108864&n[0]&&(r.valueMin=t[26][0]),67108864&n[0]&&(r.valueMax=t[26][1]),8&n[0]&&(r.rotationMin=-t[3]),8&n[0]&&(r.rotationMax=t[3]),e.$set(r)},i:function(t){n||(cp(e.$$.fragment,t),n=!0)},o:function(t){up(e.$$.fragment,t),n=!1},d:function(t){wp(e,t)}}}function pC(t){var e,n,r,i,o=[hC,fC],a=[];function c(t,e){return t[215]===t[93]+"-rotation"?0:t[215]===t[93]+"-zoom"?1:-1}return~(e=c(t))&&(n=a[e]=o[e](t)),{c:function(){n&&n.c(),r=yh()},m:function(t,n){~e&&a[e].m(t,n),fh(t,r,n),i=!0},p:function(t,i){var u=e;(e=c(t))===u?~e&&a[e].p(t,i):(n&&(op(),up(a[u],1,1,(function(){a[u]=null})),ap()),~e?((n=a[e])?n.p(t,i):(n=a[e]=o[e](t)).c(),cp(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){i||(cp(n),i=!0)},o:function(t){up(n),i=!1},d:function(t){~e&&a[e].d(t),t&&hh(r)}}}function vC(t){var e,n,r=t[19]&&lC(t);return{c:function(){e=ph("div"),r&&r.c(),xh(e,"slot","footer"),xh(e,"style",t[16])},m:function(t,i){fh(t,e,i),r&&r.m(e,null),n=!0},p:function(t,i){t[19]?r?(r.p(t,i),524288&i[0]&&cp(r,1)):((r=lC(t)).c(),cp(r,1),r.m(e,null)):r&&(op(),up(r,1,1,(function(){r=null})),ap()),(!n||65536&i[0])&&xh(e,"style",t[16])},i:function(t){n||(cp(r),n=!0)},o:function(t){up(r),n=!1},d:function(t){t&&hh(e),r&&r.d()}}}function mC(t){var e,n,r;function i(e){t[164](e)}var o={hasHeader:t[20],$$slots:{footer:[vC],main:[sC],header:[oC]},$$scope:{ctx:t}};return void 0!==t[15]&&(o.root=t[15]),e=new C_({props:o}),Zh.push((function(){return gp(e,"root",i)})),e.$on("measure",t[165]),{c:function(){yp(e.$$.fragment)},m:function(t,n){bp(e,t,n),r=!0},p:function(t,r){var i={};1048576&r[0]&&(i.hasHeader=t[20]),2146402302&r[0]|1&r[7]&&(i.$$scope={dirty:r,ctx:t}),!n&&32768&r[0]&&(n=!0,i.root=t[15],Yh((function(){return n=!1}))),e.$set(i)},i:function(t){r||(cp(e.$$.fragment,t),r=!0)},o:function(t){up(e.$$.fragment,t),r=!1},d:function(t){wp(e,t)}}}var gC=1,yC=0,bC=function(t,e){return t.target===e};function wC(t,e,n){var r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w,x,_,C,E,k,$,S,A,O,L,M,R,P,I,T,D,B,j,N,F,z,Z,H,V,U,G,W,K,X,Y,q,J,Q,tt,et,nt,rt,it,ot,at,ct,ut,st,lt,dt,ft,ht,pt,vt,mt,gt,yt,bt,wt,xt=Bf,_t=function(){return xt(),xt=Uf(Ct,(function(t){return n(12,M=t)})),Ct};t.$$.on_destroy.push((function(){return xt()}));var Ct=e.isActive;_t();var Et=e.stores,kt=e.cropImageSelectionCornerStyle,$t=void 0===kt?"circle":kt,St=e.cropWillRenderImageSelectionGuides,At=void 0===St?function(t,e){var n="rotate"==t;return{rows:n?5:3,cols:n?5:3,opacity:.25*e}}:St,Ot=e.cropAutoCenterImageSelectionTimeout,Lt=void 0===Ot?void 0:Ot,Mt=e.cropEnableZoomMatchImageAspectRatio,Rt=void 0===Mt||Mt,Pt=e.cropEnableRotateMatchImageAspectRatio,It=void 0===Pt?"never":Pt,Tt=e.cropEnableRotationInput,Dt=void 0===Tt||Tt,Bt=e.cropEnableZoom,jt=void 0===Bt||Bt,Nt=e.cropEnableZoomInput,Ft=void 0===Nt||Nt,zt=e.cropEnableZoomAutoHide,Zt=void 0===zt||zt,Ht=e.cropEnableImageSelection,Vt=void 0===Ht||Ht,Ut=e.cropEnableInfoIndicator,Gt=void 0!==Ut&&Ut,Wt=e.cropEnableZoomTowardsWheelPosition,Kt=void 0===Wt||Wt,Xt=e.cropEnableLimitWheelInputToCropSelection,Yt=void 0===Xt||Xt,qt=e.cropEnableCenterImageSelection,Jt=void 0===qt||qt,Qt=e.cropEnableButtonRotateLeft,te=void 0===Qt||Qt,ee=e.cropEnableButtonRotateRight,ne=void 0!==ee&&ee,re=e.cropEnableButtonFlipHorizontal,ie=void 0===re||re,oe=e.cropEnableButtonFlipVertical,ae=void 0!==oe&&oe,ce=e.cropSelectPresetOptions,ue=void 0===ce?void 0:ce,se=e.cropEnableSelectPreset,le=void 0===se||se,de=e.cropEnableFilterMatchAspectRatio,fe=void 0===de||de,he=e.cropSelectPresetFilter,pe=void 0!==he&&he,ve=e.cropEnableButtonToggleCropLimit,me=void 0!==ve&&ve,ge=e.cropWillRenderTools,ye=void 0===ge?hu:ge,be=e.cropActiveTransformTool,we=void 0===be?"rotation":be,xe=e.cropMinimizeToolbar,_e=void 0===xe?"auto":xe,Ce=e.cropInteractionFocus,Ee=void 0===Ce?"image":Ce,ke=e.cropRotationRange,$e=void 0===ke?vu:ke,Se=e.cropMaskOpacity,Ae=void 0===Se?.85:Se,Oe=e.locale,Le=void 0===Oe?{}:Oe,Me=Nh("isAnimated");Wf(t,Me,(function(t){return n(139,R=t)}));var Re=Nh("elasticityMultiplier");Wf(t,Re,(function(t){return n(25,vt=t)}));var Pe=Nh("redrawTrigger");Wf(t,Pe,(function(t){return n(159,pt=t)}));var Ie=Nh("imageIsStatic");Wf(t,Ie,(function(t){return n(145,F=t)}));var Te=Nh("imageStaticVisualCorners");Wf(t,Te,(function(t){return n(181,at=t)}));var De="idle",Be=kp();Wf(t,Be,(function(t){return n(156,dt=t)}));var je,Ne=function(){return void 0===it},Fe=function(t){return 1/t},ze=function(t){fe&&pe!==t&&(n(95,pe=t),it&&1!==it&&Ze()&&eh(kn,it=Fe(it),it))},Ze=function(){if(1===it||!r)return!1;var t=Fe(it);return!!Dy(dt).find((function(e){return e[0]===t}))},He=function(t,e,n){return mu(n)?e.width===Math.round(t.height)||e.height===Math.round(t.width):e.width===Math.round(t.width)||e.height===Math.round(t.height)},Ve=function(){return(Ne()||"always"===It&&Ze())&&function(t,e,n){var r=ss(cs(Ju(e),n),(function(t){return Math.abs(Math.round(t))})),i=as(r),o=_s(t);return Bu(i,o)}(z,Y,q)&&He(z,Y,q)},Ue=function(t){if("never"!==It&&Ve()){eh(fn,q+=t,q);var e=mu(q),n=e?Y.height:Y.width,r=e?Y.width:Y.height;eh(xn,z=xs(0,0,n,r),z),Ne()||eh(kn,it=fu(n,r),it)}else eh(fn,q+=t,q)},Ge=Et,We=Ge.history,Ke=Ge.env,Xe=Ge.isInteracting,Ye=Ge.isInteractingFraction,qe=Ge.isTransformingImage,Je=Ge.rootRect,Qe=Ge.stageRect,tn=(Ge.utilRect,Ge.utilRectPadded),en=Ge.rootLineColor,nn=Ge.allowPan,rn=Ge.allowZoom,on=Ge.rangeInputElasticity,an=Ge.presentationScalar,cn=Ge.utilTools,un=Ge.imagePreviewModifiers,sn=Ge.imageOutlineOpacity,ln=Ge.imageFlipX,dn=Ge.imageFlipY,fn=Ge.imageRotation,hn=Ge.imageRotationRange,pn=Ge.imageOutputSize,vn=Ge.imageSelectionRect,mn=Ge.imageSelectionRectSnapshot,gn=Ge.imageSelectionRectIntent,yn=Ge.imageSelectionRectPresentation,bn=Ge.imageCropRectIntent,wn=Ge.imageCropRectOrigin,xn=Ge.imageCropRect,_n=Ge.imageCropMinSize,Cn=Ge.imageCropMaxSize,En=Ge.imageCropRange,kn=Ge.imageCropAspectRatio,$n=Ge.imageCropLimitToImage,Sn=Ge.imageSize,An=Ge.imageScalar,On=Ge.imageOverlayMarkup,Ln=Ge.stagePadded,Mn=Ge.stageRecenter;Wf(t,Ke,(function(t){return n(140,P=t)})),Wf(t,Xe,(function(t){return n(144,N=t)})),Wf(t,qe,(function(t){return n(174,K=t)})),Wf(t,Je,(function(t){return n(24,tt=t)})),Wf(t,Qe,(function(t){return n(151,W=t)})),Wf(t,tn,(function(t){return n(148,V=t)})),Wf(t,an,(function(t){return n(147,H=t)})),Wf(t,cn,(function(t){return n(183,ut=t)})),Wf(t,un,(function(t){return n(173,B=t)})),Wf(t,ln,(function(t){return n(158,ht=t)})),Wf(t,dn,(function(t){return n(157,ft=t)})),Wf(t,fn,(function(t){return n(14,q=t)})),Wf(t,hn,(function(t){return n(26,mt=t)})),Wf(t,pn,(function(t){return n(184,st=t)})),Wf(t,vn,(function(t){return n(150,G=t)})),Wf(t,mn,(function(t){return n(149,U=t)})),Wf(t,gn,(function(t){return n(182,ct=t)})),Wf(t,yn,(function(t){return n(143,j=t)})),Wf(t,bn,(function(t){return n(176,et=t)})),Wf(t,wn,(function(t){return n(178,rt=t)})),Wf(t,xn,(function(t){return n(13,z=t)})),Wf(t,_n,(function(t){return n(154,Q=t)})),Wf(t,Cn,(function(t){return n(180,ot=t)})),Wf(t,En,(function(t){return n(177,nt=t)})),Wf(t,kn,(function(t){return n(179,it=t)})),Wf(t,$n,(function(t){return n(153,J=t)})),Wf(t,Sn,(function(t){return n(152,Y=t)})),Wf(t,An,(function(t){return n(146,Z=t)})),Wf(t,On,(function(t){return n(172,T=t)})),Wf(t,Ln,(function(t){return n(142,D=t)}));var Rn=function(t,e){var n={target:t,translate:e},r=os(Ju(Q),H),i=os(Ju(ot),H),o=F_(U,n,Object.assign({},V,{x:0,y:0}),{aspectRatio:it,minSize:r,maxSize:i});if(o=function(t,e,n){var r=Bs(t),i=r[0],o=r[1],a=r[2],c=r[3],u=Object.assign({},t);if(i<e.y&&(t.height=t.height-(e.y-i),t.y=e.y),o>e.x+e.width&&(t.width=e.x+e.width-t.x),a>e.y+e.height&&(t.height=e.y+e.height-t.y),c<e.x&&(t.width=t.width-(e.x-c),t.x=e.x),n){var s=Math.min(1,u.width/t.width,u.height/t.height);return Ss(u,s)}return t}(o,Object.assign({},V,{x:0,y:0}),it),!J)return{boundsLimited:o,boundsIntent:o};var a=rC(U,o,n,at,{aspectRatio:it,minSize:r,maxSize:i});return{boundsLimited:a,boundsIntent:a}},Pn=function(t,e){var n={target:t,translate:e},r=os(Ju(Q),H),i=os(Ju(ot),H),o=function(t,e,n){void 0===n&&(n={});var r=e.target,i=e.translate,o=n,a=o.aspectRatio,c=o.minSize,u=j_[r],s=$u[u],l=Nu(vs(t),Lu(s[0]*t.width,s[1]*t.height)),d=$u[r],f=Nu(vs(t),Lu(d[0]*t.width,d[1]*t.height)),h=N_(r),p=h[0],v=h[1],m=h[2],g=h[3],y=h[4],b=h[5],w=h[6],x=i.x,_=i.y;y?_=0:b&&(x=0);var C=Bs(t),E=C[0],k=C[1],$=C[2],S=C[3];if(p?S=l.x:v&&(k=l.x),g?E=l.y:m&&($=l.y),p?k=f.x+x:v&&(S=f.x+x),g?$=f.y+_:m&&(E=f.y+_),c&&y&&$-E<c.height){var A=c.height-($-E);E-=.5*A,$+=.5*A}if(c&&b&&k-S<c.width){var O=c.width-(k-S);S-=.5*O,k+=.5*O}if(a)if(w){var L=k-S,M=$-E;y?(M=L/a,E=l.y-.5*M,$=l.y+.5*M):b&&(L=M*a,S=l.x-.5*L,k=l.x+.5*L)}else{var R=Lu(f.x+x-l.x,f.y+_-l.y);r===Cu?(R.x=Math.max(0,R.x),R.y=Math.min(0,R.y)):r===Eu?(R.x=Math.max(0,R.x),R.y=Math.max(0,R.y)):r===ku?(R.x=Math.min(0,R.x),R.y=Math.max(0,R.y)):r===_u&&(R.x=Math.min(0,R.x),R.y=Math.min(0,R.y));var P=Tu(R),I=Lu(a,1),T=Zu(Du(I),P);r===Cu?(k=l.x+T.x,E=l.y-T.y):r===Eu?(k=l.x+T.x,$=l.y+T.y):r===ku?(S=l.x-T.x,$=l.y+T.y):r===_u&&(S=l.x-T.x,E=l.y-T.y)}return xs(S,E,k-S,$-E)}(U,n,{aspectRatio:it,minSize:r});return{boundsLimited:F_(U,n,Object.assign({},V,{x:0,y:0}),{aspectRatio:it,minSize:r,maxSize:i}),boundsIntent:o}},In=void 0,Tn=void 0,Dn=function(t){var e=t.translation,n=t.scalar;F&&(n=1,e=Pu(Ru(e)));var r,i=Math.min(G.width/z.width,G.height/z.height),o=Zu(Ru(e),1/i);if(Tn){var a=Fu(Ru(Tn),e);Tn=e,r=Cs(vs(z),a)}else r=Cs(vs(In),Pu(Ru(o))),void 0!==n&&Es(r,1/n);eh(bn,et=r,et),eh(xn,z=r,z)},Bn=$p([En,xn],(function(t,e){var n=t[0],r=t[1];if(r){var i=n[0],o=n[1],a=Os(r);e([ts(Ns(Ts(i,a),Su)),ts(Ns(Ds(o,a),Su))])}}));Wf(t,Bn,(function(t){return n(175,X=t)}));var jn=$p([Sn,$n,_n,Cn,En,fn],(function(t,e){var n=t[0],r=t[1],i=t[2],o=(t[3],t[4]),a=t[5];if(n){var c,u,s=o[0],l=o[1];r?(c=function(t,e,n){return mu(n)?1-1/Math.min(t.height/e.width,t.width/e.height):1-1/Math.min(t.width/e.width,t.height/e.height)}(n,l,a),u=Math.min(s.width/i.width,s.height/i.height)):(c=-1,u=1),e([c,u].map((function(t){return Su(t)})))}}));Wf(t,jn,(function(t){return n(27,gt=t)}));var Nn=$p([Sn,xn,En,fn],(function(t,e){var n,r=t[0],i=t[1],o=t[2],a=t[3];if(!r||!i)return e(0);var c=o[0],u=o[1],s=i.width,l=i.height,d=Os(i),f=mu(a)?rs(r.height,r.width):r,h=Ds(f,d);if(s<=h.width||l<=h.height){var p=h.width-c.width,v=h.height-c.height;n=0===p||0===v?1:1-Math.min((s-c.width)/p,(l-c.height)/v)}else{var m=u.width-h.width,g=u.height-h.height,y=Ds({width:m,height:g},d);n=-Math.min((s-h.width)/y.width,(l-h.height)/y.height)}e(n)}));Wf(t,Nn,(function(t){return n(28,yt=t)}));var Fn,zn,Zn,Hn=function(t){var e,n,r,i=Os(In),o=mu(q)?rs(Y.height,Y.width):Y,a=Ds(o,i);if(t>=0){var c=a.width-nt[0].width,u=a.height-nt[0].height;e=a.width-c*t,n=a.height-u*t,r=Ts({width:e,height:n},i)}else{var s=nt[1].width-a.width,l=nt[1].height-a.height;e=a.width+s*-t,n=a.height+l*-t,r=Ds({width:e,height:n},i)}e=r.width,n=r.height;var d=In.x+.5*In.width-.5*e,f=In.y+.5*In.height-.5*n;eh(xn,z={x:d,y:f,width:e,height:n},z)},Vn=function(t){var e=Es(vs(Fn),1/t);eh(bn,et=e,et),eh(xn,z=e,z)},Un=function(){Mn.set({})},Gn=Pm(0,{precision:1e-4});Wf(t,Gn,(function(t){return n(29,bt=t)}));var Wn=Pm();Wf(t,Wn,(function(t){return n(30,wt=t)}));var Kn=$p([kn,pn,Be],(function(t,e){var n=t[0],i=t[1],o=t[2];if(r){var a=Dy(o),c=[].concat(a).map((function(t){return t[0]})).sort((function(t,e){return Xl(t[0])&&!Xl(e[0])?1:-1})).find((function(t){if(Xl(t)&&i){var e=t[0],r=t[1],o=i.width===e&&i.height===r,a=n===fu(e,r);return o&&a}return t===n}));if(!c)return e(void 0);e(a.map((function(t){return t[0]})).findIndex((function(t){return Xl(t)?qp(t,c):t===c})))}}));Wf(t,Kn,(function(t){return n(155,lt=t)}));var Xn=function(t,e){if(r&&-1!==t&&void 0!==t){var n=Dy(e)[t][0];return n?Xl(n)?fu(n[0],n[1]):n:void 0}},Yn=$p([en,yn,Ye],(function(t,e){var n=t[0],r=t[1],i=t[2],o=At(De,i),a=o.rows,c=o.cols,u=o.opacity;if(!r||u<=0)return e([]);for(var s=r.x,l=r.y,d=r.width,f=r.height,h=d/c,p=f/a,v=[],m=1;m<=a-1;m++){var g=l+p*m;v.push({id:"image-selection-guide-row-"+m,points:[Lu(s,g),Lu(s+d,g)],opacity:u,strokeWidth:1,strokeColor:n})}for(var y=1;y<=c-1;y++){var b=s+h*y;v.push({id:"image-selection-guide-col-"+y,points:[Lu(b,l),Lu(b,l+f)],opacity:u,strokeWidth:1,strokeColor:n})}e(v)}));Wf(t,Yn,(function(t){return n(141,I=t)}));var qn,Jn="crop-"+Qc(),Qn=Jn+"-"+(Dt?we:"zoom"),tr=Qn,er=void 0,nr=Pm(R?20:0);Wf(t,nr,(function(t){return n(138,L=t)}));return t.$$set=function(t){"isActive"in t&&_t(n(0,Ct=t.isActive)),"stores"in t&&n(97,Et=t.stores),"cropImageSelectionCornerStyle"in t&&n(1,$t=t.cropImageSelectionCornerStyle),"cropWillRenderImageSelectionGuides"in t&&n(98,At=t.cropWillRenderImageSelectionGuides),"cropAutoCenterImageSelectionTimeout"in t&&n(99,Lt=t.cropAutoCenterImageSelectionTimeout),"cropEnableZoomMatchImageAspectRatio"in t&&n(100,Rt=t.cropEnableZoomMatchImageAspectRatio),"cropEnableRotateMatchImageAspectRatio"in t&&n(101,It=t.cropEnableRotateMatchImageAspectRatio),"cropEnableRotationInput"in t&&n(102,Dt=t.cropEnableRotationInput),"cropEnableZoom"in t&&n(2,jt=t.cropEnableZoom),"cropEnableZoomInput"in t&&n(103,Ft=t.cropEnableZoomInput),"cropEnableZoomAutoHide"in t&&n(104,Zt=t.cropEnableZoomAutoHide),"cropEnableImageSelection"in t&&n(105,Vt=t.cropEnableImageSelection),"cropEnableInfoIndicator"in t&&n(106,Gt=t.cropEnableInfoIndicator),"cropEnableZoomTowardsWheelPosition"in t&&n(107,Kt=t.cropEnableZoomTowardsWheelPosition),"cropEnableLimitWheelInputToCropSelection"in t&&n(108,Yt=t.cropEnableLimitWheelInputToCropSelection),"cropEnableCenterImageSelection"in t&&n(109,Jt=t.cropEnableCenterImageSelection),"cropEnableButtonRotateLeft"in t&&n(110,te=t.cropEnableButtonRotateLeft),"cropEnableButtonRotateRight"in t&&n(111,ne=t.cropEnableButtonRotateRight),"cropEnableButtonFlipHorizontal"in t&&n(112,ie=t.cropEnableButtonFlipHorizontal),"cropEnableButtonFlipVertical"in t&&n(113,ae=t.cropEnableButtonFlipVertical),"cropSelectPresetOptions"in t&&n(114,ue=t.cropSelectPresetOptions),"cropEnableSelectPreset"in t&&n(115,le=t.cropEnableSelectPreset),"cropEnableFilterMatchAspectRatio"in t&&n(116,fe=t.cropEnableFilterMatchAspectRatio),"cropSelectPresetFilter"in t&&n(95,pe=t.cropSelectPresetFilter),"cropEnableButtonToggleCropLimit"in t&&n(117,me=t.cropEnableButtonToggleCropLimit),"cropWillRenderTools"in t&&n(118,ye=t.cropWillRenderTools),"cropActiveTransformTool"in t&&n(119,we=t.cropActiveTransformTool),"cropMinimizeToolbar"in t&&n(120,_e=t.cropMinimizeToolbar),"cropInteractionFocus"in t&&n(121,Ee=t.cropInteractionFocus),"cropRotationRange"in t&&n(3,$e=t.cropRotationRange),"cropMaskOpacity"in t&&n(122,Ae=t.cropMaskOpacity),"locale"in t&&n(4,Le=t.locale)},t.$$.update=function(){var e;4096&t.$$.dirty[0]|268435456&t.$$.dirty[3]&&Ie.set("selection"===Ee&&M),2097152&t.$$.dirty[3]&&n(129,r=ue&&Array.isArray(ue)&&ue.length),2097152&t.$$.dirty[3]|32&t.$$.dirty[4]&&Be.set(r?ue:[]),4096&t.$$.dirty[0]&&M&&sn.set(1),4096&t.$$.dirty[0]&&nn.set(!M),4096&t.$$.dirty[0]&&rn.set(!M),65536&t.$$.dirty[4]&&n(124,h="overlay"===P.layoutMode),4194304&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(128,x=le&&!h),83886080&t.$$.dirty[4]&&n(137,u=V&&G&&Ps(V,G)),67117056&t.$$.dirty[4]&&n(135,s=!(!G||!u)),67119104&t.$$.dirty[4]&&n(133,l=s&&As(G,u,(function(t){return Su(t,5)}))),16400&t.$$.dirty[0]|52297732&t.$$.dirty[3]|1879114288&t.$$.dirty[4]|31&t.$$.dirty[5]&&n(11,i=pt&&ye([te&&["Button","rotate-left",{label:Le.cropLabelButtonRotateLeft,labelClass:"PinturaToolbarContentWide",icon:Le.cropIconButtonRotateLeft,onclick:function(){Ue(-Math.PI/2),We.write()}}],ne&&["Button","rotate-right",{label:Le.cropLabelButtonRotateRight,labelClass:"PinturaToolbarContentWide",icon:Le.cropIconButtonRotateRight,onclick:function(){Ue(Math.PI/2),We.write()}}],ie&&["Button","flip-horizontal",{label:Le.cropLabelButtonFlipHorizontal,labelClass:"PinturaToolbarContentWide",icon:Le.cropIconButtonFlipHorizontal,onclick:function(){mu(q)?eh(dn,ft=!ft,ft):eh(ln,ht=!ht,ht),We.write()}}],ae&&["Button","flip-vertical",{label:Le.cropLabelButtonFlipVertical,labelClass:"PinturaToolbarContentWide",icon:Le.cropIconButtonFlipVertical,onclick:function(){mu(q)?eh(ln,ht=!ht,ht):eh(dn,ft=!ft,ft),We.write()}}],x&&r&&[!1===pe?"Dropdown":Q_,"select-preset",{icon:jy(Le.cropIconSelectPreset,Le,Xn(lt,dt)),label:jy(Le.cropLabelSelectPreset,Le,Xn(lt,dt)),labelClass:"PinturaToolbarContentWide",options:dt,filter:pe,onfilterchange:ze,selectedIndex:lt,onchange:function(t){var e=t.value;Xl(e)?(eh(kn,it=fu(e[0],e[1]),it),eh(pn,st=es(e),st)):eh(kn,it=e,it),l&&Un(),We.write()},optionMapper:function(t){var e=!1,n=Xl(t.value)?t.value[0]/t.value[1]:t.value;if(n){var r=Hp(Y,q,n);e=r.width<Q.width||r.height<Q.height}return t.icon=function(t,e){void 0===e&&(e={});var n,r,i,o,a=e,c=a.width,u=void 0===c?24:c,s=a.height,l=void 0===s?24:s,d=a.bounds,f=void 0===d?16:d,h=a.radius,p=void 0===h?3:h,v=Xl(t)?fu(t[0],t[1]):t,m=!!v;return o=(i=(v=m?v:1)>1?f:v*f)/v,n=Math.round(.5*(u-i)),r=Math.round(.5*(l-o)),'<rect fill="'+(m?"currentColor":"none")+'" stroke="'+(m?"none":"currentColor")+'" stroke-width="'+u/16+'" stroke-dasharray="'+[u/12,u/6].join(" ")+'" x="'+n+'" y="'+r+'" width="'+i+'" height="'+o+'" rx="'+p+'"/>'}(t.value,{bounds:14}),Object.assign({},t,{disabled:e})}}],me&&["Dropdown","select-crop-limit",{icon:jy(Le.cropIconCropBoundary,Le,J),label:Le.cropLabelCropBoundary,labelClass:"PinturaToolbarContentWide",onchange:function(t){var e=t.value;eh($n,J=e,J),We.write()},options:[[!0,Le.cropLabelCropBoundaryEdge,{icon:jy(Le.cropIconCropBoundary,Le,!0)}],[!1,Le.cropLabelCropBoundaryNone,{icon:jy(Le.cropIconCropBoundary,Le,!1)}]]}]].filter(Boolean),P,(function(){return Pe.set({})})).filter(Boolean)),6144&t.$$.dirty[0]|134217728&t.$$.dirty[3]|65537&t.$$.dirty[4]&&eh(cn,ut=M&&"never"!==_e&&("always"===_e||"short"===P.verticalSpace||h)?i.map((function(t){var e=t[0],n=t[1],r=t[2];return Array.isArray(r)?[e,n,r]:[e,n,Object.assign({},r,{hideLabel:!0})]})):[],ut),536870912&t.$$.dirty[4]&&n(23,o=J?0:-1),150994944&t.$$.dirty[4]&&n(130,a=V&&Lu(-(W.x-V.x),-(W.y-V.y))),524352&t.$$.dirty[4]&&n(131,c=j&&Lu(yy(j.x+.5*j.width+a.x),yy(j.y+.5*j.height+a.y))),33554432&t.$$.dirty[4]&&n(134,d=null!=U),16785408&t.$$.dirty[4]&&n(136,f=V&&u&&(u.height===V.height||u.width===V.width)),12587008&t.$$.dirty[4]&&n(132,p=!f&&H<1&&Z<1),3840&t.$$.dirty[4]&&n(9,v=s&&!d&&(!l||p)),8192&t.$$.dirty[0]|8192&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(22,m=Gt&&!!z&&!h),524352&t.$$.dirty[4]&&n(8,b=j&&a&&{x:j.x+a.x,y:j.y+a.y,width:j.width,height:j.height}),256&t.$$.dirty[0]|4096&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(21,g=Vt&&!!b&&!h),65600&t.$$.dirty[3]|2097280&t.$$.dirty[4]&&n(10,y=Jt&&!!c&&!Lt&&!F),512&t.$$.dirty[0]|1073741888&t.$$.dirty[3]|1048576&t.$$.dirty[4]&&v&&Lt&&!N&&(clearTimeout(Zn),n(123,Zn=setTimeout(Un,Lt))),1073741824&t.$$.dirty[3]|1048576&t.$$.dirty[4]&&N&&clearTimeout(Zn),1536&t.$$.dirty[0]|32768&t.$$.dirty[4]&&Gn.set(y&&v?1:0,{hard:!1===R}),32896&t.$$.dirty[4]&&Wn.set(c,{hard:!1===R}),4096&t.$$.dirty[0]|262144&t.$$.dirty[4]&&(M&&!D?(eh(un,B.crop={maskOpacity:Ae,maskMarkupOpacity:Ae},B),un.set(B)):(delete B.crop,un.set(B))),131072&t.$$.dirty[4]&&I&&(e=T.filter((function(t){return!/^image\-selection\-guide/.test(t.id)})),eh(On,T=M?[].concat(e,I):e,T)),65536&t.$$.dirty[4]&&n(127,w="short"!==P.verticalSpace),134217728&t.$$.dirty[3]|9&t.$$.dirty[4]&&n(20,_="never"===_e&&!h||w&&"always"!==_e),4&t.$$.dirty[0]|1024&t.$$.dirty[3]&&n(126,C=jt&&Ft),2048&t.$$.dirty[3]|12&t.$$.dirty[4]&&n(125,E=Zt?w&&C:C),512&t.$$.dirty[3]|2&t.$$.dirty[4]&&n(19,k=Dt||E),2&t.$$.dirty[4]&&(E||n(5,tr=Qn)),32&t.$$.dirty[0]&&n(18,$={name:Jn,selected:tr}),16&t.$$.dirty[0]|512&t.$$.dirty[3]|2&t.$$.dirty[4]&&n(7,S=[Dt&&{id:Jn+"-rotation",label:Le.cropLabelTabRotation},E&&{id:Jn+"-zoom",label:Le.cropLabelTabZoom}].filter(Boolean)),128&t.$$.dirty[0]&&n(17,A=S.map((function(t){return t.id}))),64&t.$$.dirty[0]|1&t.$$.dirty[4]&&qn&&!qn.children.length&&h&&qn.dispatchEvent(new CustomEvent("measure",{detail:qn.rect})),4096&t.$$.dirty[0]|32768&t.$$.dirty[4]&&R&&nr.set(M?0:20),16384&t.$$.dirty[4]&&n(16,O=L?"transform: translateY("+L+"px)":void 0)},[Ct,$t,jt,$e,Le,tr,qn,S,b,v,y,i,M,z,q,er,O,A,$,k,_,g,m,o,tt,vt,mt,gt,yt,bt,wt,Me,Re,Pe,Ie,Te,Be,Ke,Xe,qe,Je,Qe,tn,on,an,cn,un,ln,dn,fn,hn,pn,vn,mn,gn,yn,bn,wn,xn,_n,Cn,En,kn,$n,Sn,An,On,Ln,function(){De="select",eh(Xe,N=!0,N),eh(mn,U=vs(G),U),je=F?Rn:Pn},function(t){var e=t.detail,n=je(e.direction,e.translation),r=n.boundsLimited,i=n.boundsIntent;eh(qe,K=!0,K),eh(gn,ct=i,ct),eh(vn,G=r,G)},function(t){var e=t.detail,n=je(e.direction,e.translation).boundsLimited;eh(qe,K=!1,K),eh(Xe,N=!1,N),eh(gn,ct=void 0,ct),Tu(e.translation)&&(eh(vn,G=n,G),We.write()),eh(mn,U=void 0,U),De=void 0},function(){De="rotate",eh(Xe,N=!0,N),eh(wn,rt=vs(z),rt)},function(t){eh(qe,K=!0,K),eh(fn,q=t,q)},function(t){eh(qe,K=!1,K),eh(Xe,N=!1,N),eh(fn,q=t,q),We.write(),eh(wn,rt=void 0,rt)},function(){De="pan",Tn=void 0,eh(Xe,N=!0,N),In=vs(z)},function(t){var e=t.detail;eh(qe,K=!0,K),Dn(e)},function(t){var e=t.detail;eh(qe,K=!1,K),eh(Xe,N=!1,N),(Tu(e.translation)>0||0!==e.scalar)&&(Dn(e),We.write()),eh(bn,et=void 0,et),In=void 0},function(t){var e=t.detail.translation;F&&(e=Pu(Ru(e))),Tn=e,eh(Xe,N=!1,N)},Bn,jn,Nn,function(){De="zoom",eh(Xe,N=!0,N),In=vs(z)},function(t){eh(qe,K=!1,K),Hn(t)},function(t){Hn(t),We.write(),eh(qe,K=!1,K),eh(Xe,N=!1,N),In=void 0},function(){De="zoom",In||(Fn=vs(z),eh(Xe,N=!0,N))},function(t){var e=t.detail;Fn&&(eh(qe,K=!0,K),Vn(e))},function(t){var e=t.detail;Fn&&(eh(qe,K=!1,K),eh(Xe,N=!1,N),Vn(e),eh(bn,et=void 0,et),Fn=void 0,We.write())},function(t){var e=Sw(t,tt,W);if(!Yt||Is(G,e)){De="zoom",eh(Xe,N=!0,N),eh(qe,K=!0,K),t.preventDefault(),t.stopPropagation();var n=Yg(t),r=1+n/100,i=vs(z),o=1===Math.min(z.width/Q.width,z.height/Q.height);if(Rt&&J){var a=He(z,Y,q);if(Ne()&&a&&n>0&&l){eh(Xe,N=!1,N),eh(qe,K=!1,K);var c=mu(q)?gs({height:Y.width,width:Y.height}):gs(Y);if(As(i,c))return;if(clearTimeout(zn),As(We.state.crop,c))return;return eh(xn,z=c,z),void We.write()}}var u=_s(z);if(Kt&&"selection"!==Ee&&n<0&&!o){var s=Fu(Ru(e),G),d=Math.min(G.width/z.width,G.height/z.height),f=Es(vs(G),1.1);u=Is(f,e)?Nu(vs(z),Zu(s,1/d)):u}var h=Es(vs(z),r,u);if(us(X[1],h)||(h=ws(_s(h),X[1])),us(h,X[0])||(h=ws(_s(h),X[0])),As(i,h,Su))return eh(Xe,N=!1,N),void eh(qe,K=!1,K);eh(xn,z=Ns(h,(function(t){return Su(t,5)})),z),eh(Xe,N=!1,N),eh(qe,K=!1,K),clearTimeout(zn),zn=setTimeout((function(){We.write()}),500)}},Un,Gn,Wn,Kn,Yn,Jn,nr,pe,"crop",Et,At,Lt,Rt,It,Dt,Ft,Zt,Vt,Gt,Kt,Yt,Jt,te,ne,ie,ae,ue,le,fe,me,ye,we,_e,Ee,Ae,Zn,h,E,C,w,x,r,a,c,p,l,d,s,f,u,L,R,P,I,D,j,N,F,Z,H,V,U,G,W,Y,J,Q,lt,dt,ft,ht,pt,function(e){Fh.call(this,t,e)},function(t){var e=t.detail;return n(5,tr=e)},function(t){Zh[t?"unshift":"push"]((function(){n(6,qn=t)}))},function(t){return $w(t)},function(t){n(15,er=t)},function(e){Fh.call(this,t,e)}]}var xC={util:["crop",function(t){function e(e){var n;return xp(cc(n=t.call(this)||this),e,wC,mC,Vf,{name:96,isActive:0,stores:97,cropImageSelectionCornerStyle:1,cropWillRenderImageSelectionGuides:98,cropAutoCenterImageSelectionTimeout:99,cropEnableZoomMatchImageAspectRatio:100,cropEnableRotateMatchImageAspectRatio:101,cropEnableRotationInput:102,cropEnableZoom:2,cropEnableZoomInput:103,cropEnableZoomAutoHide:104,cropEnableImageSelection:105,cropEnableInfoIndicator:106,cropEnableZoomTowardsWheelPosition:107,cropEnableLimitWheelInputToCropSelection:108,cropEnableCenterImageSelection:109,cropEnableButtonRotateLeft:110,cropEnableButtonRotateRight:111,cropEnableButtonFlipHorizontal:112,cropEnableButtonFlipVertical:113,cropSelectPresetOptions:114,cropEnableSelectPreset:115,cropEnableFilterMatchAspectRatio:116,cropSelectPresetFilter:95,cropEnableButtonToggleCropLimit:117,cropWillRenderTools:118,cropActiveTransformTool:119,cropMinimizeToolbar:120,cropInteractionFocus:121,cropRotationRange:3,cropMaskOpacity:122,locale:4},null,[-1,-1,-1,-1,-1,-1,-1,-1]),n}return lc(e,t),ac(e,[{key:"name",get:function(){return this.$$.ctx[96]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),tp()}},{key:"stores",get:function(){return this.$$.ctx[97]},set:function(t){this.$$set({stores:t}),tp()}},{key:"cropImageSelectionCornerStyle",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({cropImageSelectionCornerStyle:t}),tp()}},{key:"cropWillRenderImageSelectionGuides",get:function(){return this.$$.ctx[98]},set:function(t){this.$$set({cropWillRenderImageSelectionGuides:t}),tp()}},{key:"cropAutoCenterImageSelectionTimeout",get:function(){return this.$$.ctx[99]},set:function(t){this.$$set({cropAutoCenterImageSelectionTimeout:t}),tp()}},{key:"cropEnableZoomMatchImageAspectRatio",get:function(){return this.$$.ctx[100]},set:function(t){this.$$set({cropEnableZoomMatchImageAspectRatio:t}),tp()}},{key:"cropEnableRotateMatchImageAspectRatio",get:function(){return this.$$.ctx[101]},set:function(t){this.$$set({cropEnableRotateMatchImageAspectRatio:t}),tp()}},{key:"cropEnableRotationInput",get:function(){return this.$$.ctx[102]},set:function(t){this.$$set({cropEnableRotationInput:t}),tp()}},{key:"cropEnableZoom",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({cropEnableZoom:t}),tp()}},{key:"cropEnableZoomInput",get:function(){return this.$$.ctx[103]},set:function(t){this.$$set({cropEnableZoomInput:t}),tp()}},{key:"cropEnableZoomAutoHide",get:function(){return this.$$.ctx[104]},set:function(t){this.$$set({cropEnableZoomAutoHide:t}),tp()}},{key:"cropEnableImageSelection",get:function(){return this.$$.ctx[105]},set:function(t){this.$$set({cropEnableImageSelection:t}),tp()}},{key:"cropEnableInfoIndicator",get:function(){return this.$$.ctx[106]},set:function(t){this.$$set({cropEnableInfoIndicator:t}),tp()}},{key:"cropEnableZoomTowardsWheelPosition",get:function(){return this.$$.ctx[107]},set:function(t){this.$$set({cropEnableZoomTowardsWheelPosition:t}),tp()}},{key:"cropEnableLimitWheelInputToCropSelection",get:function(){return this.$$.ctx[108]},set:function(t){this.$$set({cropEnableLimitWheelInputToCropSelection:t}),tp()}},{key:"cropEnableCenterImageSelection",get:function(){return this.$$.ctx[109]},set:function(t){this.$$set({cropEnableCenterImageSelection:t}),tp()}},{key:"cropEnableButtonRotateLeft",get:function(){return this.$$.ctx[110]},set:function(t){this.$$set({cropEnableButtonRotateLeft:t}),tp()}},{key:"cropEnableButtonRotateRight",get:function(){return this.$$.ctx[111]},set:function(t){this.$$set({cropEnableButtonRotateRight:t}),tp()}},{key:"cropEnableButtonFlipHorizontal",get:function(){return this.$$.ctx[112]},set:function(t){this.$$set({cropEnableButtonFlipHorizontal:t}),tp()}},{key:"cropEnableButtonFlipVertical",get:function(){return this.$$.ctx[113]},set:function(t){this.$$set({cropEnableButtonFlipVertical:t}),tp()}},{key:"cropSelectPresetOptions",get:function(){return this.$$.ctx[114]},set:function(t){this.$$set({cropSelectPresetOptions:t}),tp()}},{key:"cropEnableSelectPreset",get:function(){return this.$$.ctx[115]},set:function(t){this.$$set({cropEnableSelectPreset:t}),tp()}},{key:"cropEnableFilterMatchAspectRatio",get:function(){return this.$$.ctx[116]},set:function(t){this.$$set({cropEnableFilterMatchAspectRatio:t}),tp()}},{key:"cropSelectPresetFilter",get:function(){return this.$$.ctx[95]},set:function(t){this.$$set({cropSelectPresetFilter:t}),tp()}},{key:"cropEnableButtonToggleCropLimit",get:function(){return this.$$.ctx[117]},set:function(t){this.$$set({cropEnableButtonToggleCropLimit:t}),tp()}},{key:"cropWillRenderTools",get:function(){return this.$$.ctx[118]},set:function(t){this.$$set({cropWillRenderTools:t}),tp()}},{key:"cropActiveTransformTool",get:function(){return this.$$.ctx[119]},set:function(t){this.$$set({cropActiveTransformTool:t}),tp()}},{key:"cropMinimizeToolbar",get:function(){return this.$$.ctx[120]},set:function(t){this.$$set({cropMinimizeToolbar:t}),tp()}},{key:"cropInteractionFocus",get:function(){return this.$$.ctx[121]},set:function(t){this.$$set({cropInteractionFocus:t}),tp()}},{key:"cropRotationRange",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({cropRotationRange:t}),tp()}},{key:"cropMaskOpacity",get:function(){return this.$$.ctx[122]},set:function(t){this.$$set({cropMaskOpacity:t}),tp()}},{key:"locale",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({locale:t}),tp()}}]),e}(_p)]};["i","b","u","strike"].map((function(t){return{tag:t,tagOpen:new RegExp("<"+t+">","g"),tagClose:new RegExp("</"+t+">","g"),placeholderOpen:new RegExp("___"+t+"O___","g"),placeholderClose:new RegExp("___"+t+"C___","g")}}));dp.document;var _C='<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M18 6L6 18M6 6l12 12"></path></path></g>',CC={labelReset:"Reset",labelDefault:"Default",labelAuto:"Auto",labelNone:"None",labelEdit:"Edit",labelClose:"Close",labelSupportError:function(t){return t.join(", ")+" not supported on this browser"},labelColor:"Color",labelWidth:"Width",labelSize:"Size",labelOffset:"Offset",labelAmount:"Amount",labelInset:"Inset",labelRadius:"Radius",labelColorPalette:"Color palette",labelSizeExtraSmall:"Extra small",labelSizeSmall:"Small",labelSizeMediumSmall:"Medium small",labelSizeMedium:"Medium",labelSizeMediumLarge:"Medium large",labelSizeLarge:"Large",labelSizeExtraLarge:"Extra large",labelButtonCancel:"Cancel",labelButtonUndo:"Undo",labelButtonRedo:"Redo",labelButtonRevert:"Revert",labelButtonExport:"Done",labelZoomIn:"Zoom in",labelZoomOut:"Zoom out",labelZoomFit:"Fit to view",labelZoomActual:"Actual size",iconZoomIn:'<path stroke="currentColor" stroke-width=".125em" d="M8 12 h8 M12 8 v8" />',iconZoomOut:'<path stroke="currentColor" stroke-width=".125em" d="M9 12 h6" />',iconSupportError:'<g fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><g><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></g>',iconButtonClose:_C,iconButtonRevert:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M7.388 18.538a8 8 0 10-2.992-9.03"/><path fill="currentColor" d="M2.794 11.696L2.37 6.714l5.088 3.18z"/><path d="M12 8v4M12 12l4 2"/></g>',iconButtonUndo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M10 8h4c2.485 0 5 2 5 5s-2.515 5-5 5h-4"/><path fill="currentColor" d="M5 8l4-3v6z"/></g>',iconButtonRedo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M14 8h-4c-2.485 0-5 2-5 5s2.515 5 5 5h4"/><path fill="currentColor" d="M19 8l-4-3v6z"/></g>',iconButtonExport:'<polyline points="20 6 9 17 4 12" fill="none" stroke="currentColor" stroke-width=".125em"></polyline>',statusLabelButtonClose:"Close",statusIconButtonClose:_C,statusLabelLoadImage:function(t){return t&&t.task?t.error?"IMAGE_TOO_SMALL"===t.error.code?"Minimum image size is {minWidth} &times; {minHeight}":"Error loading image":"blob-to-bitmap"===t.task?"Preparing image&hellip;":"Loading image&hellip;":"Waiting for image"},statusLabelProcessImage:function(t){if(t&&t.task)return"store"===t.task?t.error?"Error uploading image":"Uploading image&hellip;":t.error?"Error processing image":"Processing image&hellip;"}},EC=function(t,e){var n=Object.getOwnPropertyDescriptors(t);Object.keys(n).forEach((function(r){n[r].get?Object.defineProperty(e,r,{get:function(){return t[r]},set:function(e){return t[r]=e}}):e[r]=t[r]}))},kC=function(t){var e={},n=od(),r=n.sub,i=n.pub;!Oc()||document.doctype;var o=sv();EC(o,e);var a=function(t,e){var n={},r=new ax({target:t,props:{stores:e,pluginComponents:Array.from(fx)}}),i=!1,o=function t(){i||(Oc()&&window.removeEventListener("pagehide",t),r&&(i=!0,r.$destroy()))};ox||(ox=new Set(Sg(ax).filter((function(t){return!ux.includes(t)})))),ox.forEach((function(t){Object.defineProperty(n,t,{get:function(){return r[t]},set:sx.includes(t)?function(e){r[t]=Object.assign({},r[t],e)}:function(e){return r[t]=e}})})),Object.defineProperty(n,"previewImageData",{get:function(){return r.imagePreviewCurrent}}),lx.forEach((function(t){var e=dx[t],i=e[0];Object.defineProperty(n,t,{get:function(){return r.pluginInterface[i][t]},set:function(n){var i=e.reduce((function(e,i){var o;return e[i]=Object.assign({},r.pluginOptions[i],((o={})[t]=n,o)),e}),{});r.pluginOptions=Object.assign({},r.pluginOptions,i)}})})),Object.defineProperty(n,"element",{get:function(){return r.root},set:function(){}});var a=r.history;return Bp(n,{on:function(t,e){if(i)return function(){};if(/undo|redo|revert|writehistory/.test(t))return a.on(t,e);var n=[r.sub(t,e),r.$on(t,(function(t){return e(t instanceof CustomEvent&&!t.detail?void 0:t)}))].filter(Boolean);return function(){return n.forEach((function(t){return t()}))}},updateImagePreview:function(t){r.imagePreviewSrc=t},close:function(){return!i&&r.pub("close")},destroy:o}),Object.defineProperty(n,"history",{get:function(){return{undo:function(){return a.undo()},redo:function(){return a.redo()},revert:function(){return a.revert()},get:function(){return a.get()},getCollapsed:function(){return a.get().splice(0,a.index+1)},set:function(t){return a.set(t)},write:function(t){return a.write(t)},get length(){return a.length()},get index(){return a.index},set index(t){a.index=t}}}}),Oc()&&window.addEventListener("pagehide",o),n}(t,o.stores);EC(a,e);var c=["loadImage","processImage","abortProcessImage","abortLoadImage"].map((function(t){return a.on(t,(function(e){var n=o[t](e&&e.detail);n instanceof Promise&&n.catch(Ec)}))})),u=function(t,e){var n=r(t,e),i=o.on(t,e),c=a.on(t,e);return function(){n(),i(),c()}};e.handleEvent=Ec;var s=px.map((function(t){return u(t,(function(n){return e.handleEvent(t,n)}))}));return Bp(e,{on:u,updateImage:function(t){return new Promise((function(n,r){var i=e.history.get(),a=e.history.index,c=e.imageState;o.loadImage(t).then((function(t){e.history.set(i),e.history.index=a,e.imageState=c,n(t)})).catch(r)}))},close:function(){i("close")},destroy:function(){[].concat(c,s).forEach((function(t){return t()})),a.destroy(),o.destroy(),i("destroy")}}),setTimeout((function(){return i("init",e)}),0),e},$C=(Oc()&&HTMLElement,"pintura-editor"),SC=function(t,e){void 0===e&&(e={});var n=Wc(t)?document.querySelector(t):t;if(Ys(n)){e.class=e.class?$C+" "+e.class:$C;var r=kC(n);return Object.assign(r,e)}};dp.document,dp.window;var AC=Nv,OC=zv,LC=(Gx(),Vx(),s_(),hx),MC=xC,RC=CC,PC={cropLabel:"Crop",cropIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M23 17H9a2 2 0 0 1-2-2v-5m0-3V1 M1 7h14a2 2 0 0 1 2 2v7m0 4v3"/></g>',cropIconButtonRecenter:'<path stroke="currentColor" fill="none" stroke-width="2" stroke-linejoin="bevel" d="M1.5 7.5v-6h6M1.5 16.5v6h6M22.5 16.5v6h-6M22.5 7.5v-6h-6"/><circle cx="12" cy="12" r="3.5" fill="currentColor" stroke="none"/>',cropIconButtonRotateLeft:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><rect x="3" rx="1" height="12" width="12" y="9"/><path d="M15 5h-1a5 5 0 015 5 1 1 0 002 0 7 7 0 00-7-7h-1.374l.747-.747A1 1 0 0011.958.84L9.603 3.194a1 1 0 000 1.415l2.355 2.355a1 1 0 001.415-1.414l-.55-.55H15z"/></g>',cropIconButtonRotateRight:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M11.177 5H10a5 5 0 00-5 5 1 1 0 01-2 0 7 7 0 017-7h1.374l-.747-.747A1 1 0 0112.042.84l2.355 2.355a1 1 0 010 1.415l-2.355 2.354a1 1 0 01-1.415-1.414l.55-.55z"/><rect rx="1" height="12" width="12" y="9" x="9"/></g>',cropIconButtonFlipVertical:'<g stroke="none" fill="currentColor"><path d="M19.993 12.143H7a1 1 0 0 1-1-1V5.994a1 1 0 0 1 1.368-.93l12.993 5.15a1 1 0 0 1-.368 1.93z"/><path d="M19.993 14a1 1 0 0 1 .368 1.93L7.368 21.078A1 1 0 0 1 6 20.148V15a1 1 0 0 1 1-1h12.993z" opacity=".6"/></g>',cropIconButtonFlipHorizontal:'<g stroke="none" fill="currentColor"><path d="M11.93 7.007V20a1 1 0 0 1-1 1H5.78a1 1 0 0 1-.93-1.368l5.15-12.993a1 1 0 0 1 1.929.368z"/><path d="M14 7.007V20a1 1 0 0 0 1 1h5.149a1 1 0 0 0 .93-1.368l-5.15-12.993A1 1 0 0 0 14 7.007z" opacity=".6"/></g>',cropIconSelectPreset:function(t,e){var n=e?[e<1?1:.3,1===e?.85:.5,e>1?1:.3]:[.2,.3,.4];return'<g fill="currentColor">\n            <rect opacity="'+n[0]+'" x="2" y="4" width="10" height="18" rx="1"/>\n            <rect opacity="'+n[1]+'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="'+n[2]+'" x="6" y="12" width="17" height="10" rx="1"/>\n        </g>'},cropIconCropBoundary:function(t,e){var n=e?[.3,1,0,0]:[0,0,.3,1];return'<g fill="currentColor">\n            <rect opacity="'+n[0]+'" x="2" y="3" width="20" height="20" rx="1"/>\n            <rect opacity="'+n[1]+'" x="7" y="8" width="10" height="10" rx="1"/>\n            <rect opacity="'+n[2]+'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="'+n[3]+'" x="12" y="4" width="10" height="10" rx="1"/>\n        </g>'},cropLabelButtonRecenter:"Recenter",cropLabelButtonRotateLeft:"Rotate left",cropLabelButtonRotateRight:"Rotate right",cropLabelButtonFlipHorizontal:"Flip horizontal",cropLabelButtonFlipVertical:"Flip vertical",cropLabelSelectPreset:"Crop shape",cropLabelCropBoundary:"Crop boundary",cropLabelCropBoundaryEdge:"Edge of image",cropLabelCropBoundaryNone:"None",cropLabelTabRotation:"Rotation",cropLabelTabZoom:"Scale"},IC=SC,TC=function(t){var e=t.imageState,n=t.assetId,r=t.imageSize;return X().patch("/components/asset-mod/api/edit-details/"+n,{editDetails:Object.assign({},e,{imageSize:r})})},DC=function(t){var e=new Map;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(t){return t.map((function(t){return"object"==typeof t?t.toString():t})).join(",")}(r);if(e.has(o))return e.get(o);var a=t.apply(void 0,r);return e.set(o,a),a}},BC=function(t){var e,n,r=null==t||null==(e=t.current)||null==(n=e.editor)?void 0:n.imageSize;return null!=r},jC=function(t,e,n,r,i){var o,a,c,u,s,l=999999,d=i%Math.PI,f=d<0?d+Math.PI:d,h=Math.floor(2*f/Math.PI);return h%2?(o=n*Math.cos(f)+r*Math.sin(f),a=n*Math.sin(f)-r*Math.cos(f),c=-Math.cos(f),t*(u=-Math.sin(f))-e*c!=0&&(s=(o*u-a*c)/(t*u-e*c),h>=2&&(s=-s),s>0&&(l=Math.min(l,s))),-t*c+e*u!=0&&(s=(o*c+a*u)/(-t*c+e*u),h>=2&&(s=-s),s>0&&(l=Math.min(l,s)))):(o=n*Math.cos(f)-r*Math.sin(f),a=n*Math.sin(f)+r*Math.cos(f),c=Math.sin(f),t*(u=-Math.cos(f))-e*c!=0&&(s=(o*u-a*c)/(t*u-e*c),h>=2&&(s=-s),s>0&&(l=Math.min(l,s))),-t*c+e*u!=0&&(s=(o*c+a*u)/(-t*c+e*u),h>=2&&(s=-s),s>0&&(l=Math.min(l,s)))),{width:t*l,height:e*l}},NC=DC((function(t,e){return 100*(1-t/e)/.75})),FC=DC((function(t,e){return t*(1-.75*e/100)})),zC=DC((function(t,e){return t/e})),ZC=function(t){return/^on[A-Z]/.test(t)},HC=function(t){return t.substr(2).toLowerCase()},VC=function(t,e){void 0===e&&(e=void 0),(t.unsubs||[]).filter((function(t){var n=t[0];return!e||e.includes(n)})).forEach((function(t){return(0,t[1])()}))},UC=function(t,e){VC(t,function(t){return Object.keys(t).filter(ZC).map(HC)}(e)),t.unsubs=Object.keys(e).filter(ZC).map((function(n){var r=HC(n);return[r,t.editor.on(r,e[n])]}))};function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},GC(t,e)}var WC=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).elementRef=i().createRef(),n.editor=void 0,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,GC(e,n);var o=r.prototype;return o.componentDidMount=function(){if(this.elementRef.current){var t=Object.assign({},this.props);this.editor=IC(this.elementRef.current,t),UC(this,t)}},o.componentDidUpdate=function(){var t=Object.assign({},this.props);Object.assign(this.editor,t),UC(this,t)},o.componentWillUnmount=function(){this.editor&&(VC(this),this.editor.destroy(),this.editor=void 0)},o.render=function(){return i().createElement("div",{className:("PinturaRootWrapper "+(this.props.className?this.props.className:"")).trim(),ref:this.elementRef})},r}(i().Component),KC=WC,XC="fOHmgAkkFIeJPX0tN0gs",YC=function(t){var e=t.assetId,n=t.imageState,r=t.imageSize;return X().post("/components/asset-mod/api/watermarked-edit-image/"+e,{editDetails:Object.assign({},n,{imageSize:r})},{responseType:"blob"})};function qC(){qC=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function JC(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function QC(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){JC(o,r,i,a,c,"next",t)}function c(t){JC(o,r,i,a,c,"throw",t)}a(void 0)}))}}LC(MC);var tE={imageReader:AC(),imageWriter:OC(),locale:Object.assign({},RC,PC)},eE=function(t){var e=t.onClose,n=t.onWriteHistory,o=t.imagePath,a=t.assetId,c=t.cropEditorRef,u=$t(),s=u.imageFlipX,l=u.setZoomLevel,d=u.zoomLevel,f=u.cropRatio,h=u.activePreset,p=u.topRotate,v=u.bottomRotate,m=u.setBottomRotate,g=u.setImageFlipX,y=u.setTopRotate,b=u.setActivePresetAndRatio,w=u.setShowEditorError,x=kt(),_=x.setEditDetails,C=x.setWatermarkedCropImage,E=kt().setShowImageEditor,k=te({key:"istock-image-edit-state",initialValue:JSON.stringify({preset:null,bottomRotate:0,topRotate:0,editDetails:{},imageFlipX:!1,zoomLevel:0}),storageId:a,expiryTimeInHours:72}),$=k[0],S=k[1],A=function(){var t=QC(qC().mark((function t(e){var n,r,i,o,u;return qC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(e),n=e.imageState,r=c.current.editor.imageSize,t.prev=3,t.next=6,TC({assetId:a,imageState:n,imageSize:r});case 6:return t.next=8,YC({assetId:a,imageState:n,imageSize:r});case 8:i=t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(3),w(!0),t.abrupt("return");case 15:o=new Blob([i.data],{type:i.headers["content-type"]}),u=new File([o],"watermarked.jpeg",{type:"image/jpeg"}),C(u),S(JSON.stringify({preset:h,bottomRotate:v,topRotate:p,editDetails:n,imageFlipX:s,zoomLevel:d})),E(!1);case 20:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=QC(qC().mark((function t(e){return qC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=Ii((function(t){t!==d&&O(t)}));return(0,r.useEffect)((function(){if(BC(c)){var t=c.current.editor.imageCrop,e=t.width/t.height,n=void 0===f?e:f,r=cm(p+v),i=jC(10,10/n,c.current.editor.imageSize.width,c.current.editor.imageSize.height,r),o=FC(i.width,d),a=zC(o,n),u=t.x+(t.width-o)/2,s=t.y+(t.height-a)/2;c.current.editor.imageCrop={x:u,y:s,width:o,height:a},c.current.editor.imageCropAspectRatio=f}}),[d,f,p,v]),i().createElement("div",{"data-testid":"crop-editing-area",className:XC},i().createElement(KC,Object.assign({},tE,{src:o,ref:c,imageFlipX:s,imageRotation:cm(p+v),onWriteHistory:n,enableToolbar:!1,onProcess:A,onUpdate:function(t){if(BC(c)&&function(t){var e=null==t?void 0:t.crop;return null!=e}(t)){var e=jC(t.crop.width,t.crop.height,c.current.editor.imageSize.width,c.current.editor.imageSize.height,t.rotation),n=NC(t.crop.width,e.width);L(Math.round(n))}},onClose:e,onLoad:function(){var t=JSON.parse($);BC(c)&&t.editDetails&&(m(t.bottomRotate),y(t.topRotate),g(t.imageFlipX),l(t.zoomLevel||0),t.preset&&b(t.preset),c.current.editor.imageState=Object.assign({},t.editDetails))}})))},nE=n(57561),rE="rrv43TuBF625xCWJXPl_",iE="rmqfsPsKQXsZBGkPdxwH",oE="BnN8BiDIuOXpXrlLV20z",aE="FV75zTdzohIJZcLfFu7A",cE=n(20056),uE="yaeQ6INjqCTrlvXl0ale",sE="nXaY8uIYF1BaWzGqO_8z",lE="MULs8_YNrHRTLgzoerSn",dE="ttO5UvTZuFNXZJ7fBnr0",fE="eQHFlRh8cyF0AcGP7s6R",hE="IlJaG0l72tyRxP8zOh0c",pE=function(t){var e=t.id,n=t.Icon,r=t.text,o=(0,Ht.T)();return i().createElement(cE.H,{className:hE,"data-testid":e},i().createElement(n,null),i().createElement(nE.ZT,{component:nE.dh.SPAN,variant:nE.bu.body.small},o(r)))},vE=function(t){var e=t.recommendations,n=t.id,r=(0,Ht.T)();return i().createElement("div",{className:uE,"data-testid":"hover-container"},i().createElement("div",{className:sE}),i().createElement("div",{"data-testid":"hover-container-body",className:lE},i().createElement(nE.ZT,{component:nE.dh.SPAN,variant:nE.bu.body.small,className:dE},r("good_for")),i().createElement(cE.a,{className:fE},null==e?void 0:e.map((function(t){var e=t.Icon,r=t.text,o=n+"-"+r.replace("_","-");return i().createElement(pE,{key:o,id:o,Icon:e,text:r})})))))},mE=function(t){var e,n=t.label,r=t.Icon,o=t.onClick,a=t.id,c=t.active,u=t.recommendedUses,s="Image_ADP_Crop_"+n.replace(":","_")+"_Click";return i().createElement("div",{className:rE},i().createElement("button",{"data-testid":"crop-editor-preset-"+a,className:fe()(oE,(e={},e[aE]=c,e)),type:"button",onClick:function(){lt({adpInteraction:s,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP}),o()},tabIndex:0,"aria-label":n},i().createElement("div",null,r&&i().createElement(r,null)),i().createElement(nE.ZT,{component:nE.dh.SPAN,variant:nE.bu.body.small},n)),(null==u?void 0:u.length)&&i().createElement("div",{className:iE},i().createElement(vE,{recommendations:u,id:a})))},gE=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"arrow-down-icon"},i().createElement("path",{d:"M4.88291 9.16799L6.13291 7.91799L11.7629 13.544L17.3889 7.91699L18.7389 9.16699L11.7589 16.15L4.87891 9.16799H4.88291Z",fill:"#0C0D0D"}))},yE=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"arrow-up-icon"},i().createElement("path",{d:"M11.762 7.91723L18.744 14.8992L17.389 16.1492L11.759 10.5192L6.12903 16.1412L4.87903 14.8912L11.759 7.90723L11.762 7.91723Z",fill:"#0C0D0D"}))},bE=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"green-tick-icon"},i().createElement("path",{d:"M9.31738 18.335L3 12.0146L4.27344 10.7422L9.31738 15.7891L19.1084 6L20.3818 7.27246L9.31738 18.335Z",fill:"#02A388"}))},wE=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x1-icon"},i().createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},xE=[{ratio:1,label:"1:1",Icon:wE,favorited:!0},{ratio:16/9,label:"16:9",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-16x9-icon"},i().createElement("rect",{x:"2",y:"7",width:"20",height:"11",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:1.4,label:"7:5",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-7x5-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"14.2857",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:2,label:"2:1",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-2x1-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:5/4,label:"5:4",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-5x4-icon"},i().createElement("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:4/3,label:"4:3",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-4x3-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"15",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:1.5,label:"3:2",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-3x2-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"13.3333",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:3,label:"3:1",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-3x1-icon"},i().createElement("rect",{x:"2",y:"9",width:"20",height:"6.66667",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1}],_E=[{ratio:1,label:"1:1",Icon:wE,favorited:!0},{ratio:9/16,label:"9:16",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-9x16-icon"},i().createElement("rect",{x:"6",y:"22",width:"20",height:"11",rx:"2",transform:"rotate(-90 6 22)",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:.8,label:"4:5",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-4x5-icon"},i().createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:5/7,label:"5:7",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-5x7-icon"},i().createElement("rect",{x:"5",y:"2",width:"14.29",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:3/4,label:"3:4",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-3x4-icon"},i().createElement("rect",{x:"3",y:"2",width:"17.33",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:2/3,label:"2:3",Icon:function(){return i().createElement("svg",{width:"16",height:"22",viewBox:"0 0 16 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-2x3-icon"},i().createElement("rect",{x:"1",y:"1",width:"13.33",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:1/3,label:"1:3",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x3-icon"},i().createElement("rect",{x:"9",y:"2",width:"6.67",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:.5,label:"1:2",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x2-icon"},i().createElement("rect",{x:"6",y:"2",width:"11",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1}],CE="zjUAsNzwIVfim2LCS5Is",EE="xhRJXWyBItAjrjcObwPn",kE=function(t){var e=t.activePreset,n=t.handleSelectPreset,o=(0,Ht.T)(),a=(0,r.useCallback)((function(t){n(t)}),[]);return i().createElement("div",{className:CE,"data-testid":"crop-editor-more-presets-dropdown"},i().createElement(nE.ZT,{component:nE.dh.SPAN,variant:nE.bu.body.large,className:EE},o("landscape")),xE.map((function(t){return i().createElement(SE,{key:t.ratio,label:t.label,Icon:t.Icon,onClick:function(){return a(t)},id:t.ratio,active:e&&e.ratio===t.ratio})})),i().createElement(nE.ZT,{component:nE.dh.SPAN,variant:nE.bu.body.large,className:EE},o("portrait")),_E.map((function(t){return i().createElement(SE,{key:t.ratio,label:t.label,Icon:t.Icon,onClick:function(){return a(t)},id:t.ratio,active:e&&e.ratio===t.ratio})})))},$E={DropdownPreset:"qvx8oA0rzRUdCsplUc0A",button:"FarfkOVigR5FbxF_AEfm",title:"vivneg2BRrYeqOIeQQg8"},SE=function(t){var e,n=t.label,r=t.Icon,o=t.onClick,a=t.id,c=t.active,u="Image_ADP_Crop_"+n.replace(":","_")+"_Click";return i().createElement("div",{className:$E.DropdownPreset},i().createElement("button",{"data-testid":"crop-editor-dropdown-preset-"+a,className:fe()($E.button,(e={},e[$E.active]=c,e)),type:"button",onClick:function(){lt({adpInteraction:u,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP}),o()},tabIndex:0,"aria-label":n},i().createElement("div",{className:$E.icon},i().createElement(r,null)),i().createElement(nE.ZT,{component:nE.dh.SPAN,variant:nE.bu.body.small,className:$E.title},n),c&&i().createElement(bE,null)))},AE="rBZ4iOgJKlavvc6XNFN2",OE="euwtp0rS6EQkLvuAmCBR",LE="IqnIj7AsgakAeWwu3f8i",ME="Jnlzxjqm8pyi3IufMrEk",RE=function(t){var e,n=t.handleSelectPreset,o=t.activePreset,a=(0,r.useState)(!1),c=a[0],u=a[1],s=(0,Ht.T)(),l=qt({onOutsideClick:function(){return u(!1)},listenForClicks:c}).containerRef,d=(0,r.useCallback)((function(){lt({adpInteraction:rt.IMAGE_ADP_CROP_MORE_CLICK,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP}),u(!c)}),[c]),f=c?i().createElement(yE,null):i().createElement(gE,null),h=c?i().createElement(kE,{activePreset:o,handleSelectPreset:n}):null,p=void 0===(null==o?void 0:o.ratio),v=!(null!=o&&o.favorited||p);return i().createElement("div",{className:AE,ref:l},i().createElement("button",{type:"button",onClick:d,tabIndex:0,"aria-label":s("more_presets")},i().createElement("div",{"data-testid":"crop-editor-more-presets-button",className:fe()((e={},e[LE]=v,e))},i().createElement(nE.ZT,{component:nE.dh.SPAN,variant:nE.bu.body.large,className:OE},v?o.label:s("more")),i().createElement("div",{className:ME},f))),h)},PE="BXAo4jcfwvQaBm1vu2ZO",IE=function(t){var e=t.handleSelectPreset,n=t.activePreset;return i().createElement("div",{"data-testid":"crop-editor-presets",className:PE},wt.map((function(t){return i().createElement(mE,{key:t.label,label:t.label,Icon:t.Icon,onClick:function(){return e(t)},id:t.ratio,active:n&&n.ratio===t.ratio,recommendedUses:t.recommendedUses})})),i().createElement(RE,{handleSelectPreset:e,activePreset:n}))},TE=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"flip-icon"},i().createElement("path",{d:"M10.0001 3.00002V21H2.50006L10.0001 3.00002Z",stroke:"#0C0D0D",strokeWidth:"2"}),i().createElement("path",{d:"M14.9231 2.61541C14.5027 1.60642 13 1.90695 13 3.00002V21C13 21.5523 13.4477 22 14 22H21.5C22.2136 22 22.6975 21.2741 22.4231 20.6154L14.9231 2.61541Z",fill:"#0C0D0D"}))},DE=function(){return i().createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"rotate-icon"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 4.02158L1.5 7.60939e-05L0 7.60283e-05L-2.29488e-07 5.25008L0.75 6.00008L6 6.00008L6 4.50008L3 4.50008C4.00873 3.15566 5.43981 2.18904 7.06365 1.75529C8.68749 1.32155 10.41 1.44583 11.9547 2.10819C13.4995 2.77055 14.777 3.93259 15.5823 5.4079C16.3875 6.8832 16.6739 8.58623 16.3955 10.2438C16.117 11.9013 15.2899 13.4173 14.0467 14.5485C12.8036 15.6797 11.2165 16.3605 9.54009 16.4817C7.8637 16.603 6.19517 16.1576 4.8022 15.217C3.40922 14.2765 2.37255 12.8953 1.8585 11.2951L0.4275 11.7481C1.05019 13.69 2.31394 15.3629 4.01172 16.4927C5.7095 17.6225 7.74064 18.1421 9.77239 17.9666C11.8041 17.7911 13.7161 16.9307 15.1949 15.5265C16.6737 14.1222 17.6318 12.2574 17.9122 10.2374C18.1926 8.21745 17.7787 6.16215 16.7382 4.40822C15.6977 2.65428 14.0924 1.3057 12.1853 0.583411C10.2782 -0.138881 8.18229 -0.19206 6.24099 0.432585C4.29968 1.05723 2.62807 2.32266 1.5 4.02158Z",fill:"#0C0D0D"}))},BE=function(){return i().createElement("svg",{"data-testid":"reset-icon",width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{clipPath:"url(#clip0_1464_65082)"},i().createElement("path",{d:"M12.4722 14.4876C9.47725 15.5905 6.15992 14.0251 5.07563 10.9951H5.09908L7.801 9.99305L4.78258 8.16675L2.40888 6.7318L2.15099 6.57764L0 12.863L2.60815 11.9024C4.19648 16.308 9.01423 18.585 13.3748 16.9781C14.928 16.4029 16.2116 15.4127 17.1493 14.1793L14.5822 13.1298C14.002 13.7168 13.2928 14.1852 12.4722 14.4876Z",fill:"#0C0D0D"}),i().createElement("path",{d:"M7.62517 1.01586C6.072 1.5851 4.78844 2.57533 3.85068 3.80868L6.4178 4.87007C6.99804 4.28304 7.70722 3.81461 8.52776 3.5122C11.5227 2.4093 14.8342 3.9747 15.9244 7.0047H15.9009L13.199 8.00679L16.2174 9.83309L18.5911 11.268L18.849 11.4222L21 5.13096L18.3918 6.09155C16.8035 1.6859 11.9858 -0.591044 7.62517 1.01586Z",fill:"#0C0D0D"})),i().createElement("defs",null,i().createElement("clipPath",{id:"clip0_1464_65082"},i().createElement("rect",{width:"21",height:"17",fill:"white",transform:"translate(0 0.5)"}))))},jE="YiCuB9iW0p_f3WtGIKUZ",NE="jWeA9KglpOMW1zZtvViL",FE="jsyR9q4UKHwetGwcHQKv",zE="QBtZHEPkwZL6sd_R58VP",ZE="nLuItDGNZbD4m70uakWQ",HE="_XGsgQe0d76DDkw9vzsI",VE="QuvwtoXfxQfhXhTRtM25",UE="OAuK4mfrDBaBIYSrLh8W",GE=function(t){var e=t.onApply,n=t.onCancel,r=t.onRotate,o=t.onFlip,a=t.onReset,c=t.showReset,u=t.showApplyButtonTooltip,s=(0,Ht.T)(),l=i().createElement("button",{"data-testid":"crop-rotate",className:zE,type:"button",onClick:r},i().createElement(DE,null),s("rotate_90")),d=i().createElement("button",{className:zE,"data-testid":"crop-flip",type:"button",onClick:o},i().createElement(TE,null),s("flip")),f=c?i().createElement("button",{className:zE,"data-testid":"crop-reset",type:"button",onClick:a},i().createElement(BE,null),s("reset")):null,h=i().createElement("button",{"data-testid":"crop-cancel",className:FE,type:"button",onClick:n},s("cancel")),p=i().createElement("div",{"data-testid":"unapplied-changes-tooltip",className:fe()(HE,u&&UE)},i().createElement(eo.u,{placement:"top",name:"unapplied_changes_tooltip",className:VE},i().createElement("span",null,i().createElement(Ye,null),s("exit_crop_mode")),i().createElement("span",null,s("unapplied_changes")))),v=i().createElement("div",{className:ZE},p,i().createElement(Dr.zx,{"data-testid":"crop-apply",size:Dr.tS.EXTRA_SMALL,variant:Dr.hZ.SECONDARY,onClick:e},s("apply")));return i().createElement("div",{className:jE,"data-testid":"crop-editor-topBar"},i().createElement("div",{className:NE},l,d,f),i().createElement("div",{className:NE},h,v))},WE={CropSlider:"v491WkdTaYAr7Y8ESyNv"},KE=function(t){var e=t.label,n=t.start,r=t.end,o=t.handleChange,a=t.handleCommit,c=t.currentValue,u=t.value,s=t.dataTestId,l=t.variant,d=(0,Ht.T)();return i().createElement("div",{"data-testid":s,className:WE.CropSlider},i().createElement(nE.ZT,{component:nE.dh.P,variant:nE.bu.body.small},d(e)),i().createElement(la,{minimum:n,maximum:r,defaultValue:0,variant:l,value:u,onChange:function(t,e){o(e)},onChangeCommitted:function(t,e){a()},className:WE.slider}),i().createElement(nE.ZT,{"data-testid":"rotate-slider-value",component:nE.dh.P,variant:nE.bu.body.small},c))},XE="_8SeqemuROD2F64a5_Hp",YE="B8DJseWGTOBvQFsBZ8xJ",qE="gGxOYJ0hfNAmgjYpMxAa",JE="_21pBhZ5bkjKoSSoAmJvu",QE=function(t){var e=t.handleRotateChange,n=t.handleRotateCommit,r=t.handleZoomChange,o=t.handleZoomCommit,a=t.rotate,c=t.zoom;return i().createElement("div",{"data-testid":"crop-bottom-bar",className:XE},i().createElement("div",{className:YE},i().createElement("div",{"data-testid":"crop-bottom-bar-left",className:qE},i().createElement(KE,{label:"rotate",start:-45,end:45,handleChange:e,handleCommit:n,currentValue:a+"",value:a,variant:ca.CENTER,dataTestId:"rotate-slider"})),i().createElement("div",{"data-testid":"crop-bottom-bar-right",className:JE},i().createElement(KE,{label:"zoom",start:0,end:100,handleChange:r,handleCommit:o,currentValue:c+"%",value:c,variant:ca.CONTINUOUS,dataTestId:"zoom-slider"}))))},tk="P8E41AIhljSDVnpcnvMr",ek="V8ppkgFPK2pOHcce1KTo",nk=function(t){lt({adpInteraction:t,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP})},rk=function(t){var e=t.imagePath,n=t.assetId,o=t.showApplyButtonTooltip,a=(0,r.useRef)(null),c=(0,r.useState)(0),u=c[0],s=c[1],l=kt(),d=l.setShowImageEditor,f=l.setImageIsEdited,h=(0,Ht.T)(),p=$t(),v=p.imageFlipX,m=p.topRotate,g=p.bottomRotate,y=p.setBottomRotate,b=p.setImageFlipX,w=p.setTopRotate,x=p.zoomLevel,_=p.setZoomLevel,C=p.showReset,E=p.setShowReset,k=p.activePreset,$=p.setActivePresetAndRatio,S=p.setShowEditorError,A=p.showEditorError,O=function(){return s(u+1)},L=function(){return s(0)},M=!!u,R=function(){lt({adpInteraction:rt.IMAGE_ADP_CANCEL_BUTTON_CLICK,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP_CANCEL_BUTTON_CLICK}),d(!1),L()},P=i().createElement(Q$,{text:h("error_occurred_during_editing"),handleDismissal:function(){return S(!1)},trackingInfo:{bannerName:nt.IMAGE_ADP_CROP_ERROR_BANNER,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP},Icon:i().createElement(Ye,{className:ek})});return i().createElement("div",{"data-testid":"image-editing-container",className:tk},A&&P,i().createElement(GE,{onApply:function(){lt({adpInteraction:rt.IMAGE_ADP_APPLY_BUTTON_CLICK,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_TOP_APPLY_BUTTON_CLICK}),null!==a.current&&a.current.editor.processImage(),f(!!u)},onCancel:R,onRotate:function(){nk(rt.IMAGE_ADP_ROTATE_BUTTON_CLICK),w(m-90),E(!0),O()},onFlip:function(){nk(rt.IMAGE_ADP_FLIP_BUTTON_CLICK),b(!v),E(!0),O()},showReset:C,onReset:function(){nk(rt.IMAGE_ADP_RESET_BUTTON_CLICK),null!==a.current&&(a.current.editor.history.revert(),y(0),_(0),$(bt),w(0),b(!1),E(!1),L())},showApplyButtonTooltip:M&&o}),i().createElement(IE,{handleSelectPreset:function(t){E(!0),$(t),O()},activePreset:k}),i().createElement(eE,{onClose:R,onWriteHistory:function(){E(!0),O()},imagePath:e,cropEditorRef:a,assetId:n}),i().createElement(QE,{handleRotateChange:function(t){y(t),E(!0),O()},handleRotateCommit:function(){return lt({adpInteraction:rt.IMAGE_ADP_ROTATE_SLIDER_CLICK,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_BOTTOM_ROTATE_SLIDER_CLICK})},handleZoomChange:function(t){_(t),E(!0),O()},handleZoomCommit:function(){return lt({adpInteraction:rt.IMAGE_ADP_ZOOM_SLIDER_CLICK,adpSelection:it.ADP_CROP,uiElementLocation:et.IMAGE_ADP_TOOLS_PANEL_BOTTOM_ZOOM_SLIDER_CLICK})},rotate:g,zoom:x}))},ik=function(t){var e=t.assetId,n=t.downloadToken,r=t.korrelationId;return X().get("/components/asset-mod/api/create-downloads/"+e+"?downloadToken="+n+"&korrelationId="+r)},ok="wklM5zI7aeryo_B3JCJT",ak=function(t){var e=t.imagePath,n=t.assetId,o=(0,r.useState)(!1),a=o[0],c=o[1],u=(0,r.useRef)(),s=Ii((function(t){var e=u.current.contains(t.target);e&&a?c(!1):e||a||c(!0)}),50);return(0,r.useEffect)((function(){return document.addEventListener("mousemove",s),function(){return document.removeEventListener("mousemove",s)}}),[a]),i().createElement("div",{"data-testid":"crop-editor",className:ok,ref:u},i().createElement(Et,null,i().createElement(rk,{imagePath:e,assetId:n,showApplyButtonTooltip:a})))},ck=function(t){var e=t.className;return i().createElement("svg",{className:e,viewBox:"0 0 101 43",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"iStock-logo"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.55196 26.191H0.741194V8.29849H5.55196V26.191ZM10.1701 19.2921C11.6524 20.9137 13.9095 22.1326 16.2784 22.1326C18.4999 22.1326 20.0553 20.7661 20.0553 18.8855C20.0553 15.567 15.2437 15.1608 11.7631 13.1331C9.72738 11.9512 8.09587 10.181 8.09587 7.26465C8.09587 2.6549 12.3569 0 16.6499 0C19.2775 0 21.7214 0.627589 24.1663 2.43484L21.5751 6.1225C20.5356 5.16359 18.7964 4.42808 17.0926 4.42808C15.2071 4.42808 13.0953 5.23694 13.0953 7.22871C13.0953 11.3983 25.0547 10.1051 25.0547 18.8131C25.0547 23.385 20.9428 26.5573 16.2784 26.5573C12.7988 26.5573 9.57816 25.1217 6.91193 22.684L10.1701 19.2921ZM40.0047 26.191C39.3761 26.4106 37.9295 26.5573 37.0055 26.5573C34.1169 26.5573 32.0089 25.5984 30.7846 23.9757C29.8597 22.7588 29.4515 21.1746 29.4515 18.627V12.3564H24.4541V8.29849H29.4515V3.31853H34.2651V8.29849H40.1895V12.3564H34.2651V19.1785C34.2651 20.2894 34.449 20.9502 34.8581 21.4316C35.3364 21.9858 36.1142 22.3158 37.299 22.3158C38.0036 22.3158 38.9315 22.2083 39.2645 22.1326L40.0047 26.191ZM50.6781 7.92975C56.1184 7.92975 60.2294 12.0989 60.2294 17.2634C60.2294 22.427 56.1184 26.5573 50.6781 26.5573C45.237 26.5573 41.125 22.427 41.125 17.2634C41.125 12.0989 45.237 7.92975 50.6781 7.92975ZM50.6781 22.1326C53.4916 22.1326 55.4148 19.9558 55.4148 17.2634C55.4148 14.5697 53.4916 12.3564 50.6781 12.3564C47.8628 12.3564 45.9396 14.5697 45.9396 17.2634C45.9396 19.9558 47.8628 22.1326 50.6781 22.1326ZM79.2355 22.5382C77.1227 25.3423 74.4556 26.5573 71.0886 26.5573C65.5358 26.5573 61.4614 22.427 61.4614 17.2634C61.4614 12.0624 65.6455 7.92975 71.1261 7.92975C74.2361 7.92975 77.012 9.37013 78.6781 11.5076L75.2718 14.4953C74.3112 13.2419 72.8683 12.3564 71.1261 12.3564C68.3492 12.3564 66.2759 14.5347 66.2759 17.2634C66.2759 20.0669 68.3136 22.1326 71.2388 22.1326C73.1994 22.1326 74.7539 20.9502 75.5317 19.7716L79.2355 22.5382ZM90.0601 16.3404L99.9471 26.191H93.4664L85.875 18.4415V26.191H81.0642V0.368736H85.875V14.0921L92.0574 8.29849H98.8364L90.0601 16.3404ZM0 3.13539C0 1.40297 1.41014 0 3.14751 0C4.88587 0 6.29404 1.40297 6.29404 3.13539C6.29404 4.86487 4.88587 6.27068 3.14751 6.27068C1.41014 6.27068 0 4.86487 0 3.13539Z",fill:"white"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.911077 39.1897H1.8804V32.492H0.897461V31.4613H3.00452V34.4467C3.66629 33.7443 4.43225 33.4107 5.3774 33.4107C7.3855 33.4107 8.82142 34.9385 8.82142 36.8933C8.82142 38.8682 7.3556 40.3867 5.33931 40.3867C4.43225 40.3867 3.72579 40.0678 3.02495 39.3572V40.2407H0.911077V39.1897ZM5.3177 34.4941C4.0729 34.4941 3.00452 35.5194 3.00452 36.9298C3.00452 38.2522 4.0729 39.2991 5.30142 39.2991C6.55422 39.2991 7.61993 38.3009 7.61993 36.8689C7.61993 35.483 6.55422 34.4941 5.3177 34.4941ZM10.2789 41.3403H11.3216L11.8436 40.0409L9.68496 34.6184H8.80504V33.57H11.7785V34.6184H10.8606L12.4226 38.5791L13.9954 34.6184H13.0815V33.57H16.0428V34.6184H15.175L12.4971 41.3403H13.4246V42.386H10.2789V41.3403ZM23.0176 35.8422H28.3706V40.2407H27.4188V38.8548C26.4507 39.9057 25.3456 40.4136 24.0141 40.4136C21.3728 40.4136 19.499 38.3576 19.499 35.7909C19.499 33.4188 21.4108 31.2844 24.1293 31.2844C25.145 31.2844 25.9544 31.5667 26.8114 32.2003V31.4613H27.7754V33.816H26.6853C25.9274 32.9406 25.1015 32.5163 24.0602 32.5163C22.1769 32.5163 20.7871 34.0388 20.7871 35.83C20.7871 37.755 22.2258 39.2006 24.044 39.2006C25.4121 39.2006 26.6392 38.3009 27.0472 36.9012H23.0176V35.8422ZM36.1752 38.128C35.6057 39.5842 34.3772 40.3974 32.9048 40.3974C30.9454 40.3974 29.4093 38.8548 29.4093 36.9134C29.4093 34.9304 31.0323 33.3917 32.8682 33.3917C34.8248 33.3917 36.3867 34.9128 36.3867 36.9636C36.3867 37.0634 36.3867 37.1878 36.3637 37.3471H30.635C30.8208 38.5346 31.7685 39.3126 32.8898 39.3126C33.736 39.3126 34.4518 38.9048 34.8613 38.128H36.1752ZM35.1488 36.3989C34.8478 35.1627 34.0044 34.4589 32.9048 34.4589C31.7901 34.4589 30.8547 35.2127 30.635 36.3989H35.1488ZM37.7738 34.6021H36.7419V33.57H37.7738V31.4613H38.8991V33.57H39.8903V34.6021H38.8991V39.1897H39.8903V40.2407H37.7738V34.6021ZM41.5255 34.6021H40.4992V33.57H41.5255V31.4613H42.655V33.57H43.6408V34.6021H42.655V39.1897H43.6408V40.2407H41.5255V34.6021ZM45.783 41.3403H46.8257L47.3491 40.0409L45.1878 34.6184H44.3106V33.57H47.284V34.6184H46.3647L47.9254 38.5791L49.5063 34.6184H48.5857V33.57H51.5538V34.6184H50.682L48 41.3403H48.9356V42.386H45.783V41.3403ZM54.9449 39.1777H55.9239V32.5163H54.9449V31.4613H58.1557V32.5163H57.1482V39.1777H58.1557V40.2407H54.9449V39.1777ZM59.0952 39.1897H60.0485V34.6021H59.1048V33.57H61.163V34.5184C61.5752 33.7998 62.1554 33.4606 62.9867 33.4606C63.9657 33.4606 64.6802 33.9268 65.0882 34.7886C65.6089 33.8781 66.2462 33.4485 67.1492 33.4485C68.7995 33.4485 69.5546 34.644 69.5546 36.2961V39.1897H70.5213V40.2407H67.4693V39.1897H68.4252V36.234C68.4252 35.11 67.9045 34.5076 66.9785 34.5076C65.9113 34.5076 65.3405 35.2965 65.3405 36.8689V39.1897H66.3113V40.2407H63.2823V39.1897H64.2477V36.9769C64.2477 35.4114 64.0741 34.5076 62.7616 34.5076C61.746 34.5076 61.163 35.2965 61.163 36.8689V39.1897H62.1324V40.2407H59.0952V39.1897ZM76.6649 39.3572C75.9599 40.0678 75.2494 40.3867 74.3572 40.3867C72.3261 40.3867 70.8752 38.8682 70.8752 36.8933C70.8752 34.9385 72.2746 33.4188 74.3111 33.4188C75.2643 33.4188 76.0278 33.7295 76.6934 34.4467V33.57H78.7584V34.6021H77.808V39.1777H78.7694V40.2407H76.6649V39.3572ZM74.3734 34.4941C73.1342 34.4941 72.0657 35.483 72.0657 36.8689C72.0657 38.3009 73.1342 39.2991 74.3802 39.2991C75.606 39.2991 76.6745 38.2604 76.6745 36.9298C76.6745 35.5194 75.606 34.4941 74.3734 34.4941ZM81.0214 40.6325C81.2587 41.3403 81.8892 41.7186 82.8329 41.7186C84.0261 41.7186 85.0282 40.8649 85.0769 39.6342L85.0877 39.2991C84.4193 40.0409 83.6858 40.3731 82.7611 40.3731C80.7775 40.3731 79.3157 38.879 79.3157 36.8933C79.3157 34.9776 80.7286 33.4107 82.7231 33.4107C83.6858 33.4107 84.4572 33.7551 85.1027 34.5076V33.57H87.1718V34.6184H86.2187V39.1437C86.2187 41.4349 84.8899 42.6966 82.8329 42.6966C81.2072 42.6966 80.1456 42.005 79.713 40.6325H81.0214ZM85.1027 36.9406C85.1027 35.5343 84.0478 34.4941 82.8072 34.4941C81.572 34.4941 80.505 35.4937 80.505 36.8797C80.505 38.3251 81.5815 39.3126 82.8072 39.3126C84.0356 39.3126 85.1027 38.2604 85.1027 36.9406ZM94.3595 38.128C93.7885 39.5842 92.5642 40.3974 91.0864 40.3974C89.1284 40.3974 87.5867 38.8548 87.5867 36.9134C87.5867 34.9304 89.2151 33.3917 91.051 33.3917C93.0089 33.3917 94.5723 34.9128 94.5723 36.9636C94.5723 37.0634 94.5723 37.1878 94.5478 37.3471H88.8151C89.0063 38.5346 89.9486 39.3126 91.0741 39.3126C91.9201 39.3126 92.6361 38.9048 93.0428 38.128H94.3595ZM93.3304 36.3989C93.0348 35.1627 92.1901 34.4589 91.0864 34.4589C89.9717 34.4589 89.0402 35.2127 88.8151 36.3989H93.3304ZM95.2611 38.1388H96.3797C96.3797 38.7818 96.9355 39.4275 97.7668 39.4275C98.4705 39.4275 98.8853 39.0519 98.8853 38.4076C98.8853 37.6957 98.3484 37.4336 97.1716 37.1971C95.6734 36.8933 95.3505 36.1151 95.3505 35.3073C95.3505 34.1969 96.1397 33.3823 97.4061 33.3823C97.9553 33.3823 98.3851 33.57 98.7458 33.9618V33.5566H99.6746V35.3343H98.6427C98.4867 34.6806 98.1139 34.386 97.4807 34.386C96.8624 34.386 96.5139 34.6913 96.5139 35.2127C96.5139 35.9516 97.1201 36.0908 98.1627 36.3569C99.4643 36.7068 100.069 37.2498 100.069 38.3361C100.069 39.5842 99.1986 40.4136 97.8143 40.4136C97.181 40.4136 96.7011 40.2152 96.278 39.7543V40.2489H95.2611V38.1388Z",fill:"white"}))},uk="HRpvBqVKJR1BAsbVzfL5",sk="IhqssBKnfArY4Bv7crI8",lk="twu17MeCD33mU0TzLtdS",dk=function(t){var e=t.children;return i().createElement("div",{className:uk},i().createElement("div",{className:sk},i().createElement(ck,{className:lk})),e)},fk=n(21994),hk="cUJjRXH2vE8oAwPCFhcA",pk=function(t){var e=t.text;return i().createElement("div",{role:"dialog",className:hk},i().createElement("span",null,e))},vk="pBj6fJTIwKuMTO9iF2QV",mk="TO05xUi8o_6RweNcrgF_",gk="gRxydHWlGNEJYZNTTslF",yk="OYNqWcBciaXa_5R6t4_5",bk=function(){var t=Ft(),e=t.clearNotification,n=t.showNotification,o=t.setShowNotification,a=Vt();return(0,r.useEffect)((function(){var t;return n&&(t=setTimeout((function(){o(!1)}),3e3)),function(){clearTimeout(t)}}),[n]),e?null:i().createElement(zr.CSSTransition,{in:n,mountOnEnter:!0,unmountOnExit:!0,timeout:300,classNames:{enter:vk,enterActive:mk,exit:gk,exitActive:yk}},i().createElement(pk,{text:a}))},wk=function(){return i().createElement("svg",{"data-testid":"open-in-new-window-icon",width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{clipPath:"url(#a)",fill:"#02A388"},i().createElement("path",{d:"M10.873 12.183a.363.363 0 0 1-.37.364H1.845a.363.363 0 0 1-.369-.364v-8.57c0-.203.163-.363.369-.363h5.134V1.796H1.844C.826 1.796 0 2.61 0 3.613v8.57c0 1.003.826 1.818 1.844 1.818h8.66c1.018 0 1.844-.815 1.844-1.818V7.08h-1.476v5.103Z"}),i().createElement("path",{d:"M7.856 0v1.454h3.629L6.32 6.542 7.37 7.567l5.156-5.088v3.583H14V0H7.856Z"})),i().createElement("defs",null,i().createElement("clipPath",{id:"a"},i().createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"}))))},xk="kl1DHIKZwMaQSXUGgE32",_k="TyitRyatJaTWY2t4nEvk",Ck="XXNyzMgSJQX8o4UPN3dI",Ek="FvZjSpg9GGLJrSL5aoEg",kk="lwRTaRHwjk1bANzAF9EK",$k="pgVFLwtwXNkqv7WiI0gg",Sk="lvrceWGU1XqaevDYpfaw",Ak=function(t){var e=t.asset,n=(0,dt.NW)(),o=(0,Ht.T)(),a=zt().toggleFeedbackModal,c=Dt(),u=c.modifyObjects,s=c.selectedObjects,l=c.removedObjects,d=Jt(),f=d.selectedObjectMasks,h=d.modifyObjectMasks,p=Nt(),v=p.backgroundRemoved,m=p.backgroundBlurred,g=jt().closeModal,y=Ft().clearModificationErrors,b=(0,r.useContext)(se),w=b.setShowEditor,x=b.setEditorSrc,_=f.size>0||s.size>0,C=(0,S._P)("AIModificationsLandingPage"),E=Ft().setClearNotification;return i().createElement("div",{className:xk},i().createElement("div",null,i().createElement("button",{"data-testid":"give-feedback-button",className:Sk,type:"button",onClick:a},o("give_feedback")),C.isActive()&&i().createElement("button",{className:Sk,type:"button",onClick:function(){var t=window.open(n.aiModificationsFAQAnchor(),"_blank","noopener,noreferrer");t&&(t.opener=null),lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_AI_MODAL_FAQ_LINK,uiElementLocation:et.IMAGE_ADP_MODAL})}},o("faqs"),i().createElement(wk,null))),i().createElement("div",{className:Ck},_&&i().createElement(Dr.zx,{size:Dr.tS.LARGE,onClick:function(){y(),u(),h(),E(!0),lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_AI_MODAL_APPLY_CHANGES,uiElementLocation:et.IMAGE_ADP_AI_MODAL})},className:_k},o("apply_changes")),i().createElement(fk.u,{content:i().createElement(i().Fragment,null,i().createElement(Ye,{className:$k}),o("unapplied_changes")),className:fe()(Ek,_&&kk),"data-testid":"unapplied-changes-tooltip"},i().createElement(Dr.zx,{"data-testid":"proceed-to-download-button",variant:Dr.hZ.SECONDARY,size:Dr.tS.LARGE,onClick:function(){var t=document.getElementById("modified-image");t.src!==e.largeMainImageURL?(x($i(t)),w(!0),g(v,m,l)):(w(!1),g(!1,!1,new Set)),lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_AI_MODAL_PROCEED_TO_DOWNLOAD_BUTTON,uiElementLocation:et.IMAGE_ADP_AI_MODAL})}},o("proceed_to_download")))),i().createElement(bk,null))},Ok="OhK75fSawLcUUIhwbtWv";function Lk(){Lk=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:$(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var C=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function $(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),s(C,u,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Mk(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}var Rk=function(t){var e=t.visualId,n=t.assetId,o=t.modificationSessionId,a=(0,Ht.T)(),c=jt().closeModal,u=Zt(),s=(0,r.useState)(!1),l=s[0],d=s[1],f=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Mk(o,r,i,a,c,"next",t)}function c(t){Mk(o,r,i,a,c,"throw",t)}a(void 0)}))}}(Lk().mark((function t(){return Lk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,Pt({visualId:e,assetId:n,modificationSessionId:o});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:c(),lt({adpInteraction:rt.ADP_MODAL_CLICK,adpSelection:it.ADP_AI_MODAL_DISCARD_CHANGES,uiElementLocation:et.IMAGE_ADP_MODAL});case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),h=u?a("discard_changes"):"",p=l?a("closing_with_dots"):h;return i().createElement("button",{"data-testid":"close-modal-button",className:Ok,onClick:f,type:"button"},p,i().createElement(Ue,null))},Pk="kO1Uyv0kx0dLqTY8ad8L",Ik="NvD5dvWBsOEKA237MiV7",Tk="td5GPOQFDtw2iNQG3vuJ",Dk="ciUhcgsXzBrxLArZpwnu",Bk=function(t){var e=t.asset,n=t.visualId,r=t.availableModifications,o=jt(),a=o.showModal,c=o.modalIsClosing,u=o.initialModificationType,s=o.showOpenAnimation,l=o.modificationSessionId,d=!n;return a&&i().createElement(j,null,i().createElement(z,null,i().createElement($,{initialModificationType:u},i().createElement("div",{className:fe()(Pk,c&&Tk,s.current&&Ik),"data-testid":"modifications-modal"},i().createElement("div",{className:Dk},i().createElement(dk,null,i().createElement(Rk,{visualId:n,assetId:e.assetId,modificationSessionId:l.current})),d?i().createElement(Zk,null):i().createElement(Ua,{asset:e,visualId:n,availableModifications:r}),i().createElement(Za,null)),i().createElement(Ak,{asset:e}),i().createElement(ci,{visualId:n,assetId:e.assetId})))))},jk="PrKmPTKMm8V9Mbf20NrA",Nk=function(t){var e=t.children,n=t.className;return i().createElement(eo.u,{className:fe()(jk,n),placement:"top"},e)},Fk=n.p+"static/loading_ring-f90e4bf496d078088dce.png",zk="kAZ52UtVfhPTXqVd5MNz",Zk=function(){return i().createElement("img",{className:zk,src:Fk,alt:"loading spinner"})},Hk=n(58590),Vk=function(){return(0,r.useContext)(Hk.Z).tV2},Uk=n(78385);function Gk(...t){return t.reduce(((t,e)=>null==e?t:function(...n){t.apply(this,n),e.apply(this,n)}),(()=>{}))}function Wk(t){return(0,Bo.Z)(t).defaultView||window}function Kk(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Xk(t){return parseInt(Wk(t).getComputedStyle(t).paddingRight,10)||0}function Yk(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,(t=>{const e=-1===o.indexOf(t),n=!function(t){const e=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName),n="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||n}(t);e&&n&&Kk(t,i)}))}function qk(t,e){let n=-1;return t.some(((t,r)=>!!e(t)&&(n=r,!0))),n}function Jk(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(function(t){const e=(0,Bo.Z)(t);return e.body===t?Wk(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(r)){const t=function(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}((0,Bo.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Xk(r)+t}px`;const e=(0,Bo.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(e,(e=>{n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${Xk(e)+t}px`}))}let t;if(r.parentNode instanceof DocumentFragment)t=(0,Bo.Z)(r).body;else{const e=r.parentElement,n=Wk(r);t="HTML"===(null==e?void 0:e.nodeName)&&"scroll"===n.getComputedStyle(e).overflowY?e:r}n.push({value:t.style.overflow,property:"overflow",el:t},{value:t.style.overflowX,property:"overflow-x",el:t},{value:t.style.overflowY,property:"overflow-y",el:t}),t.style.overflow="hidden"}return()=>{n.forEach((({value:t,el:e,property:n})=>{t?e.style.setProperty(n,t):e.style.removeProperty(n)}))}}const Qk=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Kk(t.modalRef,!1);const r=function(t){const e=[];return[].forEach.call(t.children,(t=>{"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);Yk(e,t.mount,t.modalRef,r,!0);const i=qk(this.containers,(t=>t.container===e));return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:r}),n)}mount(t,e){const n=qk(this.containers,(e=>-1!==e.modals.indexOf(t))),r=this.containers[n];r.restore||(r.restore=Jk(r,e))}remove(t,e=!0){const n=this.modals.indexOf(t);if(-1===n)return n;const r=qk(this.containers,(e=>-1!==e.modals.indexOf(t))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),t.modalRef&&Kk(t.modalRef,e),Yk(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const t=i.modals[i.modals.length-1];t.modalRef&&Kk(t.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}};function t$(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:o=Qk,closeAfterTransition:a=!1,onTransitionEnter:c,onTransitionExited:u,children:s,onClose:l,open:d,rootRef:f}=t,h=r.useRef({}),p=r.useRef(null),v=r.useRef(null),m=(0,ur.Z)(v,f),[g,y]=r.useState(!d),b=function(t){return!!t&&t.props.hasOwnProperty("in")}(s);let w=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(w=!1);const x=()=>(h.current.modalRef=v.current,h.current.mount=p.current,h.current),_=()=>{o.mount(x(),{disableScrollLock:i}),v.current&&(v.current.scrollTop=0)},C=zo((()=>{const t=function(t){return"function"==typeof t?t():t}(e)||(0,Bo.Z)(p.current).body;o.add(x(),t),v.current&&_()})),E=r.useCallback((()=>o.isTopModal(x())),[o]),k=zo((t=>{p.current=t,t&&(d&&E()?_():v.current&&Kk(v.current,w))})),$=r.useCallback((()=>{o.remove(x(),w)}),[w,o]);r.useEffect((()=>()=>{$()}),[$]),r.useEffect((()=>{d?C():b&&a||$()}),[d,$,b,a,C]);const S=t=>e=>{var r;null==(r=t.onKeyDown)||r.call(t,e),"Escape"===e.key&&E()&&(n||(e.stopPropagation(),l&&l(e,"escapeKeyDown")))},A=t=>e=>{var n;null==(n=t.onClick)||n.call(t,e),e.target===e.currentTarget&&l&&l(e,"backdropClick")};return{getRootProps:(e={})=>{const n=(0,lr._)(t);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,nr.Z)({},n,e);return(0,nr.Z)({role:"presentation"},r,{onKeyDown:S(r),ref:m})},getBackdropProps:(t={})=>{const e=t;return(0,nr.Z)({"aria-hidden":!0},e,{onClick:A(e),open:d})},getTransitionProps:()=>({onEnter:Gk((()=>{y(!1),c&&c()}),null==s?void 0:s.props.onEnter),onExited:Gk((()=>{y(!0),u&&u(),a&&$()}),null==s?void 0:s.props.onExited)}),rootRef:m,portalRef:k,isTopModal:E,exited:g,hasTransition:b}}const e$=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function n$(t){const e=[],n=[];return Array.from(t.querySelectorAll(e$)).forEach(((t,r)=>{const i=function(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1!==i&&function(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type)return!1;if(!t.name)return!1;const e=e=>t.ownerDocument.querySelector(`input[type="radio"]${e}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}(t))}(t)&&(0===i?e.push(t):n.push({documentOrder:r,tabIndex:i,node:t}))})),n.sort(((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex)).map((t=>t.node)).concat(e)}function r$(){return!0}function i$(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:a=n$,isEnabled:c=r$,open:u}=t,s=r.useRef(!1),l=r.useRef(null),d=r.useRef(null),f=r.useRef(null),h=r.useRef(null),p=r.useRef(!1),v=r.useRef(null),m=(0,ur.Z)(e.ref,v),g=r.useRef(null);r.useEffect((()=>{u&&v.current&&(p.current=!n)}),[n,u]),r.useEffect((()=>{if(!u||!v.current)return;const t=(0,Bo.Z)(v.current);return v.current.contains(t.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),p.current&&v.current.focus()),()=>{o||(f.current&&f.current.focus&&(s.current=!0,f.current.focus()),f.current=null)}}),[u]),r.useEffect((()=>{if(!u||!v.current)return;const t=(0,Bo.Z)(v.current),e=e=>{g.current=e,!i&&c()&&"Tab"===e.key&&t.activeElement===v.current&&e.shiftKey&&(s.current=!0,d.current&&d.current.focus())},n=()=>{const e=v.current;if(null===e)return;if(!t.hasFocus()||!c()||s.current)return void(s.current=!1);if(e.contains(t.activeElement))return;if(i&&t.activeElement!==l.current&&t.activeElement!==d.current)return;if(t.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!p.current)return;let n=[];if(t.activeElement!==l.current&&t.activeElement!==d.current||(n=a(v.current)),n.length>0){var r,o;const t=Boolean((null==(r=g.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=g.current)?void 0:o.key)),e=n[0],i=n[n.length-1];"string"!=typeof e&&"string"!=typeof i&&(t?i.focus():e.focus())}else e.focus()};t.addEventListener("focusin",n),t.addEventListener("keydown",e,!0);const r=setInterval((()=>{t.activeElement&&"BODY"===t.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),t.removeEventListener("focusin",n),t.removeEventListener("keydown",e,!0)}}),[n,i,o,c,u,a]);const y=t=>{null===f.current&&(f.current=t.relatedTarget),p.current=!0};return(0,yn.jsxs)(r.Fragment,{children:[(0,yn.jsx)("div",{tabIndex:u?0:-1,onFocus:y,ref:l,"data-testid":"sentinelStart"}),r.cloneElement(e,{ref:m,onFocus:t=>{null===f.current&&(f.current=t.relatedTarget),p.current=!0,h.current=t.target;const n=e.props.onFocus;n&&n(t)}}),(0,yn.jsx)("div",{tabIndex:u?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}function o$(t){return(0,or.Z)("MuiModal",t)}(0,ar.Z)("MuiModal",["root","hidden","backdrop"]);const a$=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],c$=r.forwardRef((function(t,e){var n;const{children:i,closeAfterTransition:o=!1,container:a,disableAutoFocus:c=!1,disableEnforceFocus:u=!1,disableEscapeKeyDown:s=!1,disablePortal:l=!1,disableRestoreFocus:d=!1,disableScrollLock:f=!1,hideBackdrop:h=!1,keepMounted:p=!1,onBackdropClick:v,open:m,slotProps:g={},slots:y={}}=t,b=(0,rr.Z)(t,a$),w=(0,nr.Z)({},t,{closeAfterTransition:o,disableAutoFocus:c,disableEnforceFocus:u,disableEscapeKeyDown:s,disablePortal:l,disableRestoreFocus:d,disableScrollLock:f,hideBackdrop:h,keepMounted:p}),{getRootProps:x,getBackdropProps:_,getTransitionProps:C,portalRef:E,isTopModal:k,exited:$,hasTransition:S}=t$((0,nr.Z)({},w,{rootRef:e})),A=(0,nr.Z)({},w,{exited:$,hasTransition:S}),O=(t=>{const{open:e,exited:n}=t,r={root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]};return(0,hr.Z)(r,(0,pr.T)(o$))})(A),L={};if(void 0===i.props.tabIndex&&(L.tabIndex="-1"),S){const{onEnter:t,onExited:e}=C();L.onEnter=t,L.onExited=e}const M=null!=(n=y.root)?n:"div",R=(0,fr.y)({elementType:M,externalSlotProps:g.root,externalForwardedProps:b,getSlotProps:x,className:O.root,ownerState:A}),P=y.backdrop,I=(0,fr.y)({elementType:P,externalSlotProps:g.backdrop,getSlotProps:t=>_((0,nr.Z)({},t,{onClick:e=>{v&&v(e),null!=t&&t.onClick&&t.onClick(e)}})),className:O.backdrop,ownerState:A});return p||m||S&&!$?(0,yn.jsx)(Uk.h,{ref:E,container:a,disablePortal:l,children:(0,yn.jsxs)(M,(0,nr.Z)({},R,{children:[!h&&P?(0,yn.jsx)(P,(0,nr.Z)({},I)):null,(0,yn.jsx)(i$,{disableEnforceFocus:u,disableAutoFocus:c,disableRestoreFocus:d,isEnabled:k,open:m,children:r.cloneElement(i,L)})]}))}):null}));var u$,s$=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","transitionStyles","TransitionComponent"];!function(t){t.entering="entering",t.entered="entered",t.exited="exited"}(u$||(u$={}));var l$={entering:{opacity:.5},entered:{opacity:.5},exited:{}},d$={enter:225,exit:195},f$=(0,r.forwardRef)((function(t,e){var n=t.addEndListener,o=t.appear,a=void 0===o||o,c=t.children,u=t.easing,s=void 0===u?{}:u,l=t.in,d=t.onEnter,f=t.onEntered,h=t.onEntering,p=t.onExit,v=t.onExited,m=t.onExiting,g=t.style,y=void 0===g?{}:g,b=t.timeout,w=void 0===b?d$:b,x=t.transitionStyles,_=void 0===x?l$:x,C=t.TransitionComponent,E=void 0===C?zr.Transition:C,k=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s$),$=(0,r.useRef)(null),S=(0,yr.cR)($,c.ref,e),A=(0,yr.pB)(),O=function(t){return function(e){if(t){var n=$.current;n&&(void 0===e?t(n):t(n,e))}}},L=O(h),M=O((function(t,e){(0,yr.nq)(t);var n=(0,yr.CS)({style:y,timeout:w,easing:s},{mode:yr.KB.ENTER});if(t){var r=A.create("opacity",n);t.style.transition=r}d&&d(t,e)})),R=O(f),P=O(m),I=O((function(t){var e=(0,yr.CS)({style:y,timeout:w,easing:s},{mode:yr.KB.EXIT});if(t){var n=A.create("opacity",e);t.style.transition=n}p&&p(t)})),T=O(v);return(0,yn.jsx)(E,Object.assign({appear:a,in:l,nodeRef:$,onEnter:M,onEntered:R,onEntering:L,onExit:I,onExited:T,onExiting:P,addEndListener:function(t){n&&$&&$.current&&n($.current,t)},timeout:w},k,{children:function(t,e){return i().cloneElement(c,Object.assign({style:Object.assign({opacity:0,visibility:"exited"!==t||l?void 0:"hidden"},_[t],y,c.props.style),ref:S},e))}}))}));f$.displayName="Fade";var h$=f$,p$=["open","className","size"];var v$=(0,r.forwardRef)((function(t,e){var n,r=t.open,i=t.className,o=t.size,a=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,p$),c=(0,yr.jK)(a),u=(0,_n.F)("modal"),s=fe()(((n={})[u.ModalBackdrop]=r,n),i);return o===O$.FULL_SCREEN?null:(0,yn.jsx)(h$,{in:r,children:(0,yn.jsx)("div",Object.assign({},c,{className:s,ref:e}))})}));v$.displayName="ModalBackdrop";var m$=v$,g$=["className","children","size"];var y$=(0,r.forwardRef)((function(t,e){var n=t.className,r=t.children,i=t.size,o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,g$),a=(0,yr.jK)(o),c=(0,_n.F)("modal"),u=fe()(c.ModalRoot,c[i],n);return(0,yn.jsx)("div",Object.assign({},a,{ref:e,className:u,children:r}))}));y$.displayName="ModalRoot";var b$=y$,w$=["handleClose","heading","headingProps","className"];var x$="modal-header-heading",_$=(0,r.forwardRef)((function(t,e){var n=t.handleClose,r=t.heading,i=t.headingProps,o=void 0===i?{}:i,a=t.className,c=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,w$),u=(0,_n.F)("modal"),s=fe()(u.ModalHeader,a);return(0,yn.jsxs)("div",Object.assign({},c,{className:s,ref:e,children:[(0,yn.jsx)(Yn.h,{onClick:n,ariaLabel:"Close modal",className:u.closeButton,children:(0,yn.jsx)(qn.Tw,{className:u.closeIcon})}),r&&(0,yn.jsx)(nE.ZT,Object.assign({id:x$,className:u.modalHeading,component:nE.dh.H2,variant:nE.O3.H2},o,{children:r}))]}))}));_$.displayName="ModalHeader";var C$,E$=_$,k$=["children","padding","className","size"];!function(t){t.TOP="TOP",t.BOTTOM="BOTTOM",t.TOP_AND_BOTTOM="TOP_AND_BOTTOM"}(C$||(C$={}));var $$=(0,r.forwardRef)((function(t,e){var n,r=t.children,i=t.padding,o=t.className,a=t.size,c=void 0===a?O$.MEDIUM:a,u=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,k$),s=(0,_n.F)("modal"),l=((n={})[C$.TOP]=s.topPadding,n[C$.BOTTOM]=s.bottomPadding,n[C$.TOP_AND_BOTTOM]=s.topAndBottomPadding,n),d=i?l[i]:"",f=fe()(s.ModalBody,c,d,o);return(0,yn.jsx)("div",Object.assign({},u,{className:f,ref:e,children:r}))}));$$.displayName="ModalBody";var S$=["className","primaryButtonProps","secondaryButtonProps"];var A$=(0,r.forwardRef)((function(t,e){var n=t.className,r=t.primaryButtonProps,i=t.secondaryButtonProps,o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,S$),a=(0,_n.F)("modal"),c=fe()(a.ModalFooter,n),u=fe()(a.secondaryButton,null==i?void 0:i.className);return(0,yn.jsxs)("div",Object.assign({},o,{className:c,ref:e,children:[(0,yn.jsx)(Dr.zx,Object.assign({variant:Dr.hZ.SECONDARY,size:Dr.tS.LARGE},r,{children:r.children})),(null==i?void 0:i.children)&&(0,yn.jsx)(Dr.zx,Object.assign({variant:Dr.hZ.TERTIARY,size:Dr.tS.LARGE,className:u},i,{children:i.children}))]}))}));A$.displayName="ModalFooter";var O$,L$=A$,M$=["open","children","RootComponent","rootProps","BackdropComponent","backdropProps","className","modalLabelledById","modalDescribedById","size"];!function(t){t.MEDIUM="medium",t.FULL_SCREEN="fullScreen"}(O$||(O$={}));var R$=(0,r.forwardRef)((function(t,e){var n=t.open,i=t.children,o=t.RootComponent,a=t.rootProps,c=t.BackdropComponent,u=t.backdropProps,s=t.className,l=t.modalLabelledById,d=void 0===l?x$:l,f=t.modalDescribedById,h=t.size,p=void 0===h?O$.MEDIUM:h,v=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,M$),m=(0,_n.F)("modal"),g=fe()(m.Modal,s,"fade_modal"),y=(0,r.useMemo)((function(){return null!=(t=c)?t:m$;var t}),[c]),b=(0,r.useMemo)((function(){return null!=(t=o)?t:b$;var t}),[o]),w=Object.assign({},u,{size:p});return(0,yn.jsx)(c$,Object.assign({},v,{closeAfterTransition:!0,slots:{backdrop:y},slotProps:{backdrop:w},className:g,"aria-labelledby":d,"aria-describedby":f,ref:e,open:n,children:(0,yn.jsx)(h$,{in:n,transitionStyles:{entering:{opacity:1},entered:{opacity:1},exited:{}},children:(0,yn.jsx)(b,Object.assign({},a,{size:p,children:i}))})}))}));R$.displayName="Modal";var P$=R$,I$="SNvmHazSwHEfkfLlKrt1",T$="pOIq60P0mIM6HBUe5H8T",D$="uB2t6b1DymGJSkkFMISH",B$="wvHtmDcVuxfAL2yDjTrQ",j$=function(t){var e=t.open,n=t.onClose,r=t.visualId,o=t.assetId,a=Vk(),c=Gt().setShowEditor,u=jt().resetInitialModifications;return i().createElement(P$,{open:e,onClose:n,rootProps:{className:I$}},i().createElement(E$,{heading:a("want_to_reset_image"),handleClose:n,headingProps:{className:T$}}),i().createElement(nE.ZT,{component:nE.dh.P,variant:nE.bu.body.small,className:D$},a("lose_changes_return_to_original")),i().createElement(L$,{className:B$,primaryButtonProps:{children:a("yes_reset"),onClick:function(){Mt({assetId:o,visualId:r}),u(),c(!1),n()}},secondaryButtonProps:{children:a("cancel"),onClick:n}}))},N$="QWEqQfdvCWz6CmS01gsX",F$=function(t){var e=t.visualId,n=t.assetId,o=Vk(),a=(0,r.useState)(!1),c=a[0],u=a[1];return i().createElement("div",{className:N$},i().createElement(Je,{fill:"#FFFFFF"}),o("altered_image_reset",{links:[{onClick:function(){return u(!0)}}]}),i().createElement(j$,{open:c,onClose:function(){return u(!1)},visualId:e,assetId:n}))},z$="DgjY0z4k53S2SYtQbSv5",Z$="G6gssRB3qArDMAdpw6Nz",H$=["just_a_moment_ai_working","did_you_know_1_download","tip_continue_modifying_after_licensed"],V$=function(){var t=(0,Ht.T)(),e=(0,r.useState)(0),n=e[0],o=e[1],a=H$[n];return i().createElement("div",{className:z$,"data-testid":"loading-animation"},i().createElement(ze,null),i().createElement("span",{"data-testid":"animation-text",className:Z$,onAnimationIteration:function(){o((n+1)%H$.length)}},t(a)))},U$="IfYAvzz8n00zwFWGCFI5",G$="rXXMNdboK5SOHpTjfyOq",W$=[{name:"add_text",editorTab:"text"},{name:"apply_filter",editorTab:"filters"},{name:"upload_graphic",editorTab:"graphic"}],K$=function(t){var e=t.assetId,n=(0,Ht.T)(),r=(0,dt.NW)();return i().createElement("div",{className:U$,"data-testid":"edit-options"},W$.map((function(t){return i().createElement("a",{className:G$,key:t.editorTab,href:r.editImagePath(e)+"?tab="+t.editorTab,target:"_blank",rel:"noreferrer"},n(t.name))})))},X$="QeCRodvhYiYlmkaAOLzt",Y$="rrVn9derqFj0KtPxWb0N",q$=function(t){var e=t.assetId,n=(0,r.useState)(!1),o=n[0],a=n[1],c=qt({onOutsideClick:function(){return a(!1)},listenForClicks:o}).containerRef;return i().createElement("div",{className:X$,ref:c},i().createElement("button",{className:Y$,onClick:function(){return a(!o)},type:"button"},i().createElement(tn,null)),o&&i().createElement(K$,{assetId:e}))},J$="NO4_hdYFIF3lvkNyJpUt",Q$=function(t){var e=t.text,n=t.trackingInfo,o=t.handleDismissal,a=t.Icon,c=t.className,u=void 0===c?"":c;return(0,r.useEffect)((function(){st({bannerName:n.bannerName,uiElementLocation:n.uiElementLocation})}),[]),i().createElement("div",{className:fe()(J$,u),"data-testid":"error-banner"},i().createElement("div",null,a&&a,i().createElement("p",null,e)),i().createElement("button",{type:"button",onClick:o,"data-testid":"error-banner-dismissal"},i().createElement(Ue,{fillColor:"black"}),i().createElement("span",null,"Close")))}},47166:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(this&&this[n]||n);else if(Array.isArray(n))t.push(i.apply(this,n));else if("object"===o)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&t.push(this&&this[a]||a);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},94184:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var c in n)r.call(n,c)&&n[c]&&t.push(c);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},55733:function(t,e,n){t.exports=function t(e,n,r){function i(a,c){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[a]={exports:{}};e[a][0].call(s.exports,(function(t){return i(e[a][1][t]||t)}),s,s.exports,t,e,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,a,c,u,s,l=[],d=0,f=t.length,h=f,p="string"!==r.getTypeOf(t);d<t.length;)h=f-d,i=p?(e=t[d++],n=d<f?t[d++]:0,d<f?t[d++]:0):(e=t.charCodeAt(d++),n=d<f?t.charCodeAt(d++):0,d<f?t.charCodeAt(d++):0),a=e>>2,c=(3&e)<<4|n>>4,u=1<h?(15&n)<<2|i>>6:64,s=2<h?63&i:64,l.push(o.charAt(a)+o.charAt(c)+o.charAt(u)+o.charAt(s));return l.join("")},n.decode=function(t){var e,n,r,a,c,u,s=0,l=0,d="data:";if(t.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&h--,t.charAt(t.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|h):new Array(0|h);s<t.length;)e=o.indexOf(t.charAt(s++))<<2|(a=o.indexOf(t.charAt(s++)))>>4,n=(15&a)<<4|(c=o.indexOf(t.charAt(s++)))>>2,r=(3&c)<<6|(u=o.indexOf(t.charAt(s++))),f[l++]=e,64!==c&&(f[l++]=n),64!==u&&(f[l++]=r);return f}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function c(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}c.prototype={getContentWorker:function(){var t=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var c=r;c<a;c++)t=t>>>8^o[255&(t^e[c])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var c=r;c<a;c++)t=t>>>8^o[255&(t^e.charCodeAt(c))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:37}],7:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),c=r?"uint8array":"array";function u(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(c,t.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new u("Deflate",t)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function r(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r}function i(t,e,n,i,a,l){var d,f,h=t.file,p=t.compression,v=l!==c.utf8encode,m=o.transformTo("string",l(h.name)),g=o.transformTo("string",c.utf8encode(h.name)),y=h.comment,b=o.transformTo("string",l(y)),w=o.transformTo("string",c.utf8encode(y)),x=g.length!==h.name.length,_=w.length!==y.length,C="",E="",k="",$=h.dir,S=h.date,A={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(A.crc32=t.crc32,A.compressedSize=t.compressedSize,A.uncompressedSize=t.uncompressedSize);var O=0;e&&(O|=8),v||!x&&!_||(O|=2048);var L=0,M=0;$&&(L|=16),"UNIX"===a?(M=798,L|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(h.unixPermissions,$)):(M=20,L|=function(t){return 63&(t||0)}(h.dosPermissions)),d=S.getUTCHours(),d<<=6,d|=S.getUTCMinutes(),d<<=5,d|=S.getUTCSeconds()/2,f=S.getUTCFullYear()-1980,f<<=4,f|=S.getUTCMonth()+1,f<<=5,f|=S.getUTCDate(),x&&(E=r(1,1)+r(u(m),4)+g,C+="up"+r(E.length,2)+E),_&&(k=r(1,1)+r(u(b),4)+w,C+="uc"+r(k.length,2)+k);var R="";return R+="\n\0",R+=r(O,2),R+=p.magic,R+=r(d,2),R+=r(f,2),R+=r(A.crc32,4),R+=r(A.compressedSize,4),R+=r(A.uncompressedSize,4),R+=r(m.length,2),R+=r(C.length,2),{fileRecord:s.LOCAL_FILE_HEADER+R+m+C,dirRecord:s.CENTRAL_FILE_HEADER+r(M,2)+R+r(b.length,2)+"\0\0\0\0"+r(L,4)+r(i,4)+m+C+b}}var o=t("../utils"),a=t("../stream/GenericWorker"),c=t("../utf8"),u=t("../crc32"),s=t("../signature");function l(t,e,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,a),l.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return s.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,a){var c=o.transformTo("string",a(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+r(c.length,2)+c}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var r=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var o=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var i=function(t,e){var n=t||e,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),c=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,s=n.date;n._compressWorker(i,c).withStreamInfo("file",{name:t,dir:u,date:s,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./external"),o=t("./utf8"),a=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function s(t){return new i.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new c);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[i.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var o=0;o<r.length;o++)n.push(s(r[o]));return i.Promise.all(n)})).then((function(t){for(var i=t.shift(),o=i.files,a=0;a<o.length;a++){var c=o[a],u=c.fileNameStr,s=r.resolve(c.fileNameStr);n.file(s,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:e.createFolders}),c.dir||(n.file(s).unsafeOriginalName=u)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../stream/GenericWorker");function o(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(o,i),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var r=t("readable-stream").Readable;function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",(function(t,e){i.push(t)||i._helper.pause(),n&&n(e)})).on("error",(function(t){i.emit("error",t)})).on("end",(function(){i.push(null)}))}t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function r(t,e,n){var r,i=o.getTypeOf(e),c=o.extend(n||{},u);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(t=v(t)),c.createFolders&&(r=p(t))&&m.call(this,r,!0);var d="string"===i&&!1===c.binary&&!1===c.base64;n&&void 0!==n.binary||(c.binary=!d),(e instanceof s&&0===e.uncompressedSize||c.dir||!e||0===e.length)&&(c.base64=!1,c.binary=!0,e="",c.compression="STORE",i="string");var g=null;g=e instanceof s||e instanceof a?e:f.isNode&&f.isStream(e)?new h(t,e):o.prepareContent(t,e,c.binary,c.optimizedBinaryString,c.base64);var y=new l(t,g,c);this.files[t]=y}var i=t("./utf8"),o=t("./utils"),a=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),s=t("./compressedObject"),l=t("./zipObject"),d=t("./generate"),f=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},m=function(t,e){return e=void 0!==e?e:u.createFolders,t=v(t),this.files[t]||r.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function g(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r)},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,r.call(this,t,e,n),this;if(g(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null},folder:function(t){if(!t)return this;if(g(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=m.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=d.generateWorker(this,n,r)}catch(t){(e=new a("error")).error(t)}return new c(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){"use strict";e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),c=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new c(t):i.uint8array?new u(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../utils");function o(t){r.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(o,r),o.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(o,i),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./ConvertWorker"),o=t("./GenericWorker"),a=t("../base64"),c=t("../support"),u=t("../external"),s=null;if(c.nodestream)try{s=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function l(t,e){return new u.Promise((function(n,i){var o=[],c=t._internalType,u=t._outputType,s=t._mimeType;t.on("data",(function(t,n){o.push(t),e&&e(n)})).on("error",(function(t){o=[],i(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return r.newBlob(r.transformTo("arraybuffer",e),n);case"base64":return a.encode(e);default:return r.transformTo(t,e)}}(u,function(t,e){var n,r=0,i=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(o),n=0;n<e.length;n++)i.set(e[n],r),r+=e[n].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(c,o),s);n(t)}catch(t){i(t)}o=[]})).resume()}))}function d(t,e,n){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=n,r.checkSupport(a),this._worker=t.pipe(new i(a)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}d.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){r.delay(e,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new s(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function s(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}c[254]=c[254]=1,n.utf8encode=function(t){return i.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,r,o,a,c=t.length,u=0;for(o=0;o<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<c&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),o=a=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<c&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return i.nodebuffer?r.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,o,a=t.length,u=new Array(2*a);for(e=n=0;e<a;)if((i=t[e++])<128)u[n++]=i;else if(4<(o=c[i]))u[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&e<a;)i=i<<6|63&t[e++],o--;1<o?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(t=r.transformTo(i.uint8array?"uint8array":"array",t))},r.inherits(s,a),s.prototype.processChunk=function(t){var e=r.transformTo(i.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+c[t[n]]>e?n:e}(e),u=e;a!==e.length&&(i.uint8array?(u=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(u=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(u),meta:t.meta})},s.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=s,r.inherits(l,a),l.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var r=t("./support"),i=t("./base64"),o=t("./nodejsUtils"),a=t("./external");function c(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}t("setimmediate"),n.newBlob=function(t,e){n.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var s={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function l(t){var e=65536,r=n.getTypeOf(t),i=!0;if("uint8array"===r?i=s.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return s.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return s.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=l;var f={};f.string={string:c,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,o.allocBuffer(t.length))}},f.array={string:l,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},f.arraybuffer={string:function(t){return l(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:l,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return o.newBufferFrom(t)}},f.nodebuffer={string:l,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:c},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var r=n.getTypeOf(e);return f[r][t](e)},n.resolve=function(t){for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var i=e[r];"."===i||""===i&&0!==r&&r!==e.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&o.isBuffer(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!r[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},n.delay=function(t,e,n){setImmediate((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,o,c,s){return a.Promise.resolve(e).then((function(t){return r.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(e){var l=n.getTypeOf(e);return l?("arraybuffer"===l?e=n.transformTo("uint8array",e):"string"===l&&(s?e=i.decode(e):o&&!0!==c&&(e=function(t){return u(t,r.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),a=t("./zipEntry"),c=t("./support");function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=c.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),c=t("./utf8"),u=t("./compressions"),s=t("./support");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(Object.prototype.hasOwnProperty.call(u,e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r};t.setIndex(i)},handleUTF8:function(){var t=s.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:c.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:c.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function r(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),c=t("./compressedObject"),u=t("./stream/GenericWorker");r.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&r&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new u("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof c&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),c.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var s=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<s.length;d++)r.prototype[s[d]]=l;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(l),c=t.document.createTextNode("");a.observe(c,{characterData:!0}),n=function(){c.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var u=new t.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var s=[];function l(){var t,e;r=!0;for(var n=s.length;n;){for(e=s,s=[],t=-1;++t<n;)e[t]();n=s.length}r=!1}e.exports=function(t){1!==s.push(t)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var r=t("immediate");function i(){}var o={},a=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function s(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&h(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(t,e,n){r((function(){var r;try{r=e(n)}catch(r){return o.reject(t,r)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=p((function(){e(i,r)}));"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=s).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){if("function"!=typeof t&&this.state===c||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?d(n,this.state===c?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){d(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){d(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)h(t,r);else{t.state=c,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},s.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},s.reject=function(t){var e=new this(i);return o.reject(e,t)},s.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),c=0,u=-1,s=new this(i);++u<n;)l(t[u],u);return s;function l(t,i){e.resolve(t).then((function(t){a[i]=t,++c!==n||r||(r=!0,o.resolve(s,a))}),(function(t){r||(r=!0,o.reject(s,t))}))}},s.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a,c=-1,u=new this(i);++c<n;)a=t[c],e.resolve(a).then((function(t){r||(r=!0,o.resolve(u,t))}),(function(t){r||(r=!0,o.reject(u,t))}));return u}},{immediate:36}],38:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString,s=0,l=-1,d=0,f=8;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({level:l,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==s)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==s)throw new Error(a[n]);this._dict_set=!0}}function p(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,c=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?c.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?c.input=new Uint8Array(t):c.input=t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new i.Buf8(l),c.next_out=0,c.avail_out=l),1!==(n=r.deflate(c,a))&&n!==s)return this.onEnd(n),!(this.ended=!0);0!==c.avail_out&&(0!==c.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(c.output,c.next_out))):this.onData(i.shrinkBuf(c.output,c.next_out)))}while((0<c.avail_in||0===c.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s):2!==a||(this.onEnd(s),!(c.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===s&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),c=t("./zlib/messages"),u=t("./zlib/zstream"),s=t("./zlib/gzheader"),l=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(c[n]);this.header=new s,r.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}d.prototype.push=function(t,e){var n,c,u,s,d,f,h=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;c=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(f="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===l.call(v)?new Uint8Array(v):v,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||c!==a.Z_FINISH&&c!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),s=h.next_out-u,d=o.buf2string(h.output,u),h.next_out=s,h.avail_out=p-s,s&&i.arraySet(h.output,h.output,u,s,0),this.onData(d)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(c=a.Z_FINISH),c===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):c!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(t,e,n){"use strict";var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new r.Buf8(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,i,o,a,c=t.length,u=0;for(o=0;o<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<c&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),o=a=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<c&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return u(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,o,c=e||t.length,s=new Array(2*c);for(n=r=0;n<c;)if((i=t[n++])<128)s[r++]=i;else if(4<(o=a[i]))s[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<c;)i=i<<6|63&t[n++],o--;1<o?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return u(s,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+e[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var c=i;c<a;c++)t=t>>>8^o[255&(t^e[c])];return-1^t}},{}],46:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),c=t("./crc32"),u=t("./messages"),s=0,l=4,d=0,f=-2,h=-1,p=4,v=2,m=8,g=9,y=286,b=30,w=19,x=2*y+1,_=15,C=3,E=258,k=E+C+1,$=42,S=113,A=1,O=2,L=3,M=4;function R(t,e){return t.msg=u[e],e}function P(t){return(t<<1)-(4<t?9:0)}function I(t){for(var e=t.length;0<=--e;)t[e]=0}function T(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function D(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,T(t.strm)}function B(t,e){t.pending_buf[t.pending++]=e}function j(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function N(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,c=t.nice_match,u=t.strstart>t.w_size-k?t.strstart-(t.w_size-k):0,s=t.window,l=t.w_mask,d=t.prev,f=t.strstart+E,h=s[o+a-1],p=s[o+a];t.prev_length>=t.good_match&&(i>>=2),c>t.lookahead&&(c=t.lookahead);do{if(s[(n=e)+a]===p&&s[n+a-1]===h&&s[n]===s[o]&&s[++n]===s[o+1]){o+=2,n++;do{}while(s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&o<f);if(r=E-(f-o),o=f-E,a<r){if(t.match_start=e,c<=(a=r))break;h=s[o+a-1],p=s[o+a]}}}while((e=d[e&l])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function F(t){var e,n,r,o,u,s,l,d,f,h,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-k)){for(i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;r=t.head[--e],t.head[e]=p<=r?r-p:0,--n;);for(e=n=p;r=t.prev[--e],t.prev[e]=p<=r?r-p:0,--n;);o+=p}if(0===t.strm.avail_in)break;if(s=t.strm,l=t.window,d=t.strstart+t.lookahead,h=void 0,(f=o)<(h=s.avail_in)&&(h=f),n=0===h?0:(s.avail_in-=h,i.arraySet(l,s.input,s.next_in,h,d),1===s.state.wrap?s.adler=a(s.adler,l,h,d):2===s.state.wrap&&(s.adler=c(s.adler,l,h,d)),s.next_in+=h,s.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=C)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+C-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<k&&0!==t.strm.avail_in)}function z(t,e){for(var n,r;;){if(t.lookahead<k){if(F(t),t.lookahead<k&&e===s)return A;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-k&&(t.match_length=N(t,n)),t.match_length>=C)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(D(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<C-1?t.strstart:C-1,e===l?(D(t,!0),0===t.strm.avail_out?L:M):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?A:O}function Z(t,e){for(var n,r,i;;){if(t.lookahead<k){if(F(t),t.lookahead<k&&e===s)return A;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-k&&(t.match_length=N(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===C&&4096<t.strstart-t.match_start)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-C,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=C-1,t.strstart++,r&&(D(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&D(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===l?(D(t,!0),0===t.strm.avail_out?L:M):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?A:O}function H(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*x),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*w+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(_+1),this.heap=new i.Buf16(2*y+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=v,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?$:S,t.adler=2===e.wrap?0:1,e.last_flush=s,o._tr_init(e),d):R(t,f)}function G(t){var e=U(t);return e===d&&function(t){t.window_size=2*t.w_size,I(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0}(t.state),e}function W(t,e,n,r,o,a){if(!t)return f;var c=1;if(e===h&&(e=6),r<0?(c=0,r=-r):15<r&&(c=2,r-=16),o<1||g<o||n!==m||r<8||15<r||e<0||9<e||a<0||p<a)return R(t,f);8===r&&(r=9);var u=new V;return(t.state=u).strm=t,u.wrap=c,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+C-1)/C),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,G(t)}r=[new H(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(F(t),0===t.lookahead&&e===s)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,D(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-k&&(D(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===l?(D(t,!0),0===t.strm.avail_out?L:M):(t.strstart>t.block_start&&(D(t,!1),t.strm.avail_out),A)})),new H(4,4,8,4,z),new H(4,5,16,8,z),new H(4,6,32,32,z),new H(4,4,16,16,Z),new H(8,16,32,32,Z),new H(8,16,128,128,Z),new H(8,32,128,256,Z),new H(32,128,258,1024,Z),new H(32,258,258,4096,Z)],n.deflateInit=function(t,e){return W(t,e,m,15,8,0)},n.deflateInit2=W,n.deflateReset=G,n.deflateResetKeep=U,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?f:(t.state.gzhead=e,d):f},n.deflate=function(t,e){var n,i,a,u;if(!t||!t.state||5<e||e<0)return t?R(t,f):f;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==l)return R(t,0===t.avail_out?-5:f);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===$)if(2===i.wrap)t.adler=0,B(i,31),B(i,139),B(i,8),i.gzhead?(B(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),B(i,255&i.gzhead.time),B(i,i.gzhead.time>>8&255),B(i,i.gzhead.time>>16&255),B(i,i.gzhead.time>>24&255),B(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),B(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(B(i,255&i.gzhead.extra.length),B(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=c(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(B(i,0),B(i,0),B(i,0),B(i,0),B(i,0),B(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),B(i,3),i.status=S);else{var h=m+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=S,j(i,h),0!==i.strstart&&(j(i,t.adler>>>16),j(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=c(t.adler,i.pending_buf,i.pending-a,a)),T(t),a=i.pending,i.pending!==i.pending_buf_size));)B(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=c(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=c(t.adler,i.pending_buf,i.pending-a,a)),T(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,B(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=c(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=c(t.adler,i.pending_buf,i.pending-a,a)),T(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,B(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=c(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&T(t),i.pending+2<=i.pending_buf_size&&(B(i,255&t.adler),B(i,t.adler>>8&255),t.adler=0,i.status=S)):i.status=S),0!==i.pending){if(T(t),0===t.avail_out)return i.last_flush=-1,d}else if(0===t.avail_in&&P(e)<=P(n)&&e!==l)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==s&&666!==i.status){var p=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(F(t),0===t.lookahead)){if(e===s)return A;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(D(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===l?(D(t,!0),0===t.strm.avail_out?L:M):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?A:O}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,c=t.window;;){if(t.lookahead<=E){if(F(t),t.lookahead<=E&&e===s)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=C&&0<t.strstart&&(r=c[i=t.strstart-1])===c[++i]&&r===c[++i]&&r===c[++i]){a=t.strstart+E;do{}while(r===c[++i]&&r===c[++i]&&r===c[++i]&&r===c[++i]&&r===c[++i]&&r===c[++i]&&r===c[++i]&&r===c[++i]&&i<a);t.match_length=E-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(n=o._tr_tally(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(D(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===l?(D(t,!0),0===t.strm.avail_out?L:M):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?A:O}(i,e):r[i.level].func(i,e);if(p!==L&&p!==M||(i.status=666),p===A||p===L)return 0===t.avail_out&&(i.last_flush=-1),d;if(p===O&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(I(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),T(t),0===t.avail_out))return i.last_flush=-1,d}return e!==l?d:i.wrap<=0?1:(2===i.wrap?(B(i,255&t.adler),B(i,t.adler>>8&255),B(i,t.adler>>16&255),B(i,t.adler>>24&255),B(i,255&t.total_in),B(i,t.total_in>>8&255),B(i,t.total_in>>16&255),B(i,t.total_in>>24&255)):(j(i,t.adler>>>16),j(i,65535&t.adler)),T(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==$&&69!==e&&73!==e&&91!==e&&103!==e&&e!==S&&666!==e?R(t,f):(t.state=null,e===S?R(t,-3):d):f},n.deflateSetDictionary=function(t,e){var n,r,o,c,u,s,l,h,p=e.length;if(!t||!t.state)return f;if(2===(c=(n=t.state).wrap)||1===c&&n.status!==$||n.lookahead)return f;for(1===c&&(t.adler=a(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===c&&(I(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,e,p-n.w_size,n.w_size,0),e=h,p=n.w_size),u=t.avail_in,s=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,F(n);n.lookahead>=C;){for(r=n.strstart,o=n.lookahead-(C-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+C-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=C-1,F(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,t.next_in=s,t.input=l,t.avail_in=u,n.wrap=c,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,a,c,u,s,l,d,f,h,p,v,m,g,y,b,w,x,_,C,E,k,$;n=t.state,r=t.next_in,k=t.input,i=r+(t.avail_in-5),o=t.next_out,$=t.output,a=o-(e-t.avail_out),c=o+(t.avail_out-257),u=n.dmax,s=n.wsize,l=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=v[h&g];e:for(;;){if(h>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))$[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=v[(65535&b)+(h&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&b,(w&=15)&&(p<w&&(h+=k[r++]<<p,p+=8),x+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=m[h&y];n:for(;;){if(h>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(_=65535&b,p<(w&=15)&&(h+=k[r++]<<p,(p+=8)<w&&(h+=k[r++]<<p,p+=8)),u<(_+=h&(1<<w)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=w,p-=w,(w=o-a)<_){if(l<(w=_-w)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=f,(C=0)===d){if(C+=s-w,w<x){for(x-=w;$[o++]=f[C++],--w;);C=o-_,E=$}}else if(d<w){if(C+=s+d-w,(w-=d)<x){for(x-=w;$[o++]=f[C++],--w;);if(C=0,d<x){for(x-=w=d;$[o++]=f[C++],--w;);C=o-_,E=$}}}else if(C+=d-w,w<x){for(x-=w;$[o++]=f[C++],--w;);C=o-_,E=$}for(;2<x;)$[o++]=E[C++],$[o++]=E[C++],$[o++]=E[C++],x-=3;x&&($[o++]=E[C++],1<x&&($[o++]=E[C++]))}else{for(C=o-_;$[o++]=$[C++],$[o++]=$[C++],$[o++]=$[C++],2<(x-=3););x&&($[o++]=$[C++],1<x&&($[o++]=$[C++]))}break}}break}}while(r<i&&o<c);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<c?c-o+257:257-(o-c),n.hold=h,n.bits=p}},{}],49:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),a=t("./inffast"),c=t("./inftrees"),u=1,s=2,l=0,d=-2,f=1,h=852,p=592;function v(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=f,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(h),e.distcode=e.distdyn=new r.Buf32(p),e.sane=1,e.back=-1,l):d}function y(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,g(t)):d}function b(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?d:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,y(t))):d}function w(t,e){var n,r;return t?(r=new m,(t.state=r).window=null,(n=b(t,e))!==l&&(t.state=null),n):d}var x,_,C=!0;function E(t){if(C){var e;for(x=new r.Buf32(512),_=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(c(u,t.lens,0,288,x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;c(s,t.lens,0,32,_,0,t.work,{bits:5}),C=!1}t.lencode=x,t.lenbits=9,t.distcode=_,t.distbits=5}function k(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=g,n.inflateInit=function(t){return w(t,15)},n.inflateInit2=w,n.inflate=function(t,e){var n,h,p,m,g,y,b,w,x,_,C,$,S,A,O,L,M,R,P,I,T,D,B,j,N=0,F=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return d;12===(n=t.state).mode&&(n.mode=13),g=t.next_out,p=t.output,b=t.avail_out,m=t.next_in,h=t.input,y=t.avail_in,w=n.hold,x=n.bits,_=y,C=b,D=l;t:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(2&n.wrap&&35615===w){F[n.check=0]=255&w,F[1]=w>>>8&255,n.check=o(n.check,F,2,0),x=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){t.msg="unknown compression method",n.mode=30;break}if(x-=4,T=8+(15&(w>>>=4)),0===n.wbits)n.wbits=T;else if(T>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<T,t.adler=n.check=1,n.mode=512&w?10:12,x=w=0;break;case 2:for(;x<16;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(n.flags=w,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(F[0]=255&w,F[1]=w>>>8&255,n.check=o(n.check,F,2,0)),x=w=0,n.mode=3;case 3:for(;x<32;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}n.head&&(n.head.time=w),512&n.flags&&(F[0]=255&w,F[1]=w>>>8&255,F[2]=w>>>16&255,F[3]=w>>>24&255,n.check=o(n.check,F,4,0)),x=w=0,n.mode=4;case 4:for(;x<16;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(F[0]=255&w,F[1]=w>>>8&255,n.check=o(n.check,F,2,0)),x=w=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(F[0]=255&w,F[1]=w>>>8&255,n.check=o(n.check,F,2,0)),x=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<($=n.length)&&($=y),$&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,m,$,T)),512&n.flags&&(n.check=o(n.check,h,$,m)),y-=$,m+=$,n.length-=$),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break t;for($=0;T=h[m+$++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T)),T&&$<y;);if(512&n.flags&&(n.check=o(n.check,h,$,m)),y-=$,m+=$,T)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break t;for($=0;T=h[m+$++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T)),T&&$<y;);if(512&n.flags&&(n.check=o(n.check,h,$,m)),y-=$,m+=$,T)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(w!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}x=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}t.adler=n.check=v(w),x=w=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=g,t.avail_out=b,t.next_in=m,t.avail_in=y,n.hold=w,n.bits=x,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){w>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}switch(n.last=1&w,x-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(E(n),n.mode=20,6!==e)break;w>>>=2,x-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}w>>>=2,x-=2;break;case 14:for(w>>>=7&x,x-=7&x;x<32;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if((65535&w)!=(w>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,x=w=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if($=n.length){if(y<$&&($=y),b<$&&($=b),0===$)break t;r.arraySet(p,h,m,$,g),y-=$,m+=$,b-=$,g+=$,n.length-=$;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(n.nlen=257+(31&w),w>>>=5,x-=5,n.ndist=1+(31&w),w>>>=5,x-=5,n.ncode=4+(15&w),w>>>=4,x-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}n.lens[z[n.have++]]=7&w,w>>>=3,x-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},D=c(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,D){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;L=(N=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,M=65535&N,!((O=N>>>24)<=x);){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(M<16)w>>>=O,x-=O,n.lens[n.have++]=M;else{if(16===M){for(j=O+2;x<j;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(w>>>=O,x-=O,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}T=n.lens[n.have-1],$=3+(3&w),w>>>=2,x-=2}else if(17===M){for(j=O+3;x<j;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}x-=O,T=0,$=3+(7&(w>>>=O)),w>>>=3,x-=3}else{for(j=O+7;x<j;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}x-=O,T=0,$=11+(127&(w>>>=O)),w>>>=7,x-=7}if(n.have+$>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;$--;)n.lens[n.have++]=T}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},D=c(u,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,D){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},D=c(s,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,D){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=y&&258<=b){t.next_out=g,t.avail_out=b,t.next_in=m,t.avail_in=y,n.hold=w,n.bits=x,a(t,C),g=t.next_out,p=t.output,b=t.avail_out,m=t.next_in,h=t.input,y=t.avail_in,w=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;L=(N=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,M=65535&N,!((O=N>>>24)<=x);){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(L&&0==(240&L)){for(R=O,P=L,I=M;L=(N=n.lencode[I+((w&(1<<R+P)-1)>>R)])>>>16&255,M=65535&N,!(R+(O=N>>>24)<=x);){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}w>>>=R,x-=R,n.back+=R}if(w>>>=O,x-=O,n.back+=O,n.length=M,0===L){n.mode=26;break}if(32&L){n.back=-1,n.mode=12;break}if(64&L){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&L,n.mode=22;case 22:if(n.extra){for(j=n.extra;x<j;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;L=(N=n.distcode[w&(1<<n.distbits)-1])>>>16&255,M=65535&N,!((O=N>>>24)<=x);){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(0==(240&L)){for(R=O,P=L,I=M;L=(N=n.distcode[I+((w&(1<<R+P)-1)>>R)])>>>16&255,M=65535&N,!(R+(O=N>>>24)<=x);){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}w>>>=R,x-=R,n.back+=R}if(w>>>=O,x-=O,n.back+=O,64&L){t.msg="invalid distance code",n.mode=30;break}n.offset=M,n.extra=15&L,n.mode=24;case 24:if(n.extra){for(j=n.extra;x<j;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break t;if($=C-b,n.offset>$){if(($=n.offset-$)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}S=$>n.wnext?($-=n.wnext,n.wsize-$):n.wnext-$,$>n.length&&($=n.length),A=n.window}else A=p,S=g-n.offset,$=n.length;for(b<$&&($=b),b-=$,n.length-=$;p[g++]=A[S++],--$;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break t;p[g++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break t;y--,w|=h[m++]<<x,x+=8}if(C-=b,t.total_out+=C,n.total+=C,C&&(t.adler=n.check=n.flags?o(n.check,p,C,g-C):i(n.check,p,C,g-C)),C=b,(n.flags?w:v(w))!==n.check){t.msg="incorrect data check",n.mode=30;break}x=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break t;y--,w+=h[m++]<<x,x+=8}if(w!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}x=w=0}n.mode=29;case 29:D=1;break t;case 30:D=-3;break t;case 31:return-4;default:return d}return t.next_out=g,t.avail_out=b,t.next_in=m,t.avail_in=y,n.hold=w,n.bits=x,(n.wsize||C!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&k(t,t.output,t.next_out,C-t.avail_out)?(n.mode=31,-4):(_-=t.avail_in,C-=t.avail_out,t.total_in+=_,t.total_out+=C,n.total+=C,n.wrap&&C&&(t.adler=n.check=n.flags?o(n.check,p,C,t.next_out-C):i(n.check,p,C,t.next_out-C)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==_&&0===C||4===e)&&D===l&&(D=-5),D)},n.inflateEnd=function(t){if(!t||!t.state)return d;var e=t.state;return e.window&&(e.window=null),t.state=null,l},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?d:((n.head=e).done=!1,l):d},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?d:11===n.mode&&i(1,e,r,0)!==n.check?-3:k(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,l):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,u,s,l,d,f){var h,p,v,m,g,y,b,w,x,_=f.bits,C=0,E=0,k=0,$=0,S=0,A=0,O=0,L=0,M=0,R=0,P=null,I=0,T=new r.Buf16(16),D=new r.Buf16(16),B=null,j=0;for(C=0;C<=15;C++)T[C]=0;for(E=0;E<u;E++)T[e[n+E]]++;for(S=_,$=15;1<=$&&0===T[$];$--);if($<S&&(S=$),0===$)return s[l++]=20971520,s[l++]=20971520,f.bits=1,0;for(k=1;k<$&&0===T[k];k++);for(S<k&&(S=k),C=L=1;C<=15;C++)if(L<<=1,(L-=T[C])<0)return-1;if(0<L&&(0===t||1!==$))return-1;for(D[1]=0,C=1;C<15;C++)D[C+1]=D[C]+T[C];for(E=0;E<u;E++)0!==e[n+E]&&(d[D[e[n+E]]++]=E);if(y=0===t?(P=B=d,19):1===t?(P=i,I-=257,B=o,j-=257,256):(P=a,B=c,-1),C=k,g=l,O=E=R=0,v=-1,m=(M=1<<(A=S))-1,1===t&&852<M||2===t&&592<M)return 1;for(;;){for(b=C-O,x=d[E]<y?(w=0,d[E]):d[E]>y?(w=B[j+d[E]],P[I+d[E]]):(w=96,0),h=1<<C-O,k=p=1<<A;s[g+(R>>O)+(p-=h)]=b<<24|w<<16|x|0,0!==p;);for(h=1<<C-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,E++,0==--T[C]){if(C===$)break;C=e[n+d[E]]}if(S<C&&(R&m)!==v){for(0===O&&(O=S),g+=k,L=1<<(A=C-O);A+O<$&&!((L-=T[A+O])<=0);)A++,L<<=1;if(M+=1<<A,1===t&&852<M||2===t&&592<M)return 1;s[v=R&m]=S<<24|A<<16|g-l|0}}return 0!==R&&(s[g+R]=C-O<<24|64<<16|0),f.bits=S,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var r=t("../utils/common"),i=0,o=1;function a(t){for(var e=t.length;0<=--e;)t[e]=0}var c=0,u=29,s=256,l=s+1+u,d=30,f=19,h=2*l+1,p=15,v=16,m=7,g=256,y=16,b=17,w=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(l+2));a(k);var $=new Array(2*d);a($);var S=new Array(512);a(S);var A=new Array(256);a(A);var O=new Array(u);a(O);var L,M,R,P=new Array(d);function I(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function T(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function D(t){return t<256?S[t]:S[256+(t>>>7)]}function B(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function j(t,e,n){t.bi_valid>v-n?(t.bi_buf|=e<<t.bi_valid&65535,B(t,t.bi_buf),t.bi_buf=e>>v-t.bi_valid,t.bi_valid+=n-v):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function N(t,e,n){j(t,n[2*e],n[2*e+1])}function F(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function z(t,e,n){var r,i,o=new Array(p+1),a=0;for(r=1;r<=p;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var c=t[2*i+1];0!==c&&(t[2*i]=F(o[c]++,c))}}function Z(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<d;e++)t.dyn_dtree[2*e]=0;for(e=0;e<f;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*g]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function H(t){8<t.bi_valid?B(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function V(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function U(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&V(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!V(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function G(t,e,n){var r,i,o,a,c=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?N(t,i,e):(N(t,(o=A[i])+s+1,e),0!==(a=x[o])&&j(t,i-=O[o],a),N(t,o=D(--r),n),0!==(a=_[o])&&j(t,r-=P[o],a)),c<t.last_lit;);N(t,g,e)}function W(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,c=e.stat_desc.has_stree,u=e.stat_desc.elems,s=-1;for(t.heap_len=0,t.heap_max=h,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=s=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=s<2?++s:0)]=1,t.depth[i]=0,t.opt_len--,c&&(t.static_len-=a[2*i+1]);for(e.max_code=s,n=t.heap_len>>1;1<=n;n--)U(t,o,n);for(i=u;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,U(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,c,u=e.dyn_tree,s=e.max_code,l=e.stat_desc.static_tree,d=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,v=e.stat_desc.extra_base,m=e.stat_desc.max_length,g=0;for(o=0;o<=p;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<h;n++)m<(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)&&(o=m,g++),u[2*r+1]=o,s<r||(t.bl_count[o]++,a=0,v<=r&&(a=f[r-v]),c=u[2*r],t.opt_len+=c*(o+a),d&&(t.static_len+=c*(l[2*r+1]+a)));if(0!==g){do{for(o=m-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[m]--,g-=2}while(0<g);for(o=m;0!==o;o--)for(r=t.bl_count[o];0!==r;)s<(i=t.heap[--n])||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),z(o,s,t.bl_count)}function K(t,e,n){var r,i,o=-1,a=e[1],c=0,u=7,s=4;for(0===a&&(u=138,s=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++c<u&&i===a||(c<s?t.bl_tree[2*i]+=c:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*y]++):c<=10?t.bl_tree[2*b]++:t.bl_tree[2*w]++,o=i,s=(c=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4))}function X(t,e,n){var r,i,o=-1,a=e[1],c=0,u=7,s=4;for(0===a&&(u=138,s=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++c<u&&i===a)){if(c<s)for(;N(t,i,t.bl_tree),0!=--c;);else 0!==i?(i!==o&&(N(t,i,t.bl_tree),c--),N(t,y,t.bl_tree),j(t,c-3,2)):c<=10?(N(t,b,t.bl_tree),j(t,c-3,3)):(N(t,w,t.bl_tree),j(t,c-11,7));o=i,s=(c=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4)}}a(P);var Y=!1;function q(t,e,n,i){j(t,(c<<1)+(i?1:0),3),function(t,e,n,i){H(t),i&&(B(t,n),B(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}n._tr_init=function(t){Y||(function(){var t,e,n,r,i,o=new Array(p+1);for(r=n=0;r<u-1;r++)for(O[r]=n,t=0;t<1<<x[r];t++)A[n++]=r;for(A[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,t=0;t<1<<_[r];t++)S[i++]=r;for(i>>=7;r<d;r++)for(P[r]=i<<7,t=0;t<1<<_[r]-7;t++)S[256+i++]=r;for(e=0;e<=p;e++)o[e]=0;for(t=0;t<=143;)k[2*t+1]=8,t++,o[8]++;for(;t<=255;)k[2*t+1]=9,t++,o[9]++;for(;t<=279;)k[2*t+1]=7,t++,o[7]++;for(;t<=287;)k[2*t+1]=8,t++,o[8]++;for(z(k,l+1,o),t=0;t<d;t++)$[2*t+1]=5,$[2*t]=F(t,5);L=new I(k,x,s+1,l,p),M=new I($,_,0,d,p),R=new I(new Array(0),C,0,f,m)}(),Y=!0),t.l_desc=new T(t.dyn_ltree,L),t.d_desc=new T(t.dyn_dtree,M),t.bl_desc=new T(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,Z(t)},n._tr_stored_block=q,n._tr_flush_block=function(t,e,n,r){var a,c,u=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return i;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<s;e++)if(0!==t.dyn_ltree[2*e])return o;return i}(t)),W(t,t.l_desc),W(t,t.d_desc),u=function(t){var e;for(K(t,t.dyn_ltree,t.l_desc.max_code),K(t,t.dyn_dtree,t.d_desc.max_code),W(t,t.bl_desc),e=f-1;3<=e&&0===t.bl_tree[2*E[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),a=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=a&&(a=c)):a=c=n+5,n+4<=a&&-1!==e?q(t,e,n,r):4===t.strategy||c===a?(j(t,2+(r?1:0),3),G(t,k,$)):(j(t,4+(r?1:0),3),function(t,e,n,r){var i;for(j(t,e-257,5),j(t,n-1,5),j(t,r-4,4),i=0;i<r;i++)j(t,t.bl_tree[2*E[i]+1],3);X(t,t.dyn_ltree,e-1),X(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),G(t,t.dyn_ltree,t.dyn_dtree)),Z(t),r&&H(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(A[n]+s+1)]++,t.dyn_dtree[2*D(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){j(t,2,3),N(t,g,k),function(t){16===t.bi_valid?(B(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){(function(t){!function(t,e){"use strict";if(!t.setImmediate){var n,r,i,o,a=1,c={},u=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,n="[object process]"==={}.toString.call(t.process)?function(t){process.nextTick((function(){f(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(o="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",h,!1):t.attachEvent("onmessage",h),function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){i.port2.postMessage(t)}):s&&"onreadystatechange"in s.createElement("script")?(r=s.documentElement,function(t){var e=s.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):function(t){setTimeout(f,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return c[a]=i,n(a),a++},l.clearImmediate=d}function d(t){delete c[t]}function f(t){if(u)setTimeout(f,0,t);else{var n=c[t];if(n){u=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{d(t),u=!1}}}}function h(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},2043:function(t,e,n){var r,i;!function(o,a){"use strict";r=function(){var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function o(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments])),console.trace}function a(r){return"debug"===r&&(r="log"),typeof console!==e&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):t)}function c(e,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<e?t:this.methodFactory(o,e,n)}this.log=this.debug}function u(t,n,r){return function(){typeof console!==e&&(c.call(this,n,r),this[t].apply(this,arguments))}}function s(t,e,n){return a(t)||u.apply(this,arguments)}function l(t,n,i){var o,a=this;n=null==n?"WARN":n;var u="loglevel";function l(t){var n=(r[t]||"silent").toUpperCase();if(typeof window!==e&&u){try{return void(window.localStorage[u]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(t){}}}function d(){var t;if(typeof window!==e&&u){try{t=window.localStorage[u]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===a.levels[t]&&(t=void 0),t}}function f(){if(typeof window!==e&&u){try{return void window.localStorage.removeItem(u)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}"string"==typeof t?u+=":"+t:"symbol"==typeof t&&(u=void 0),a.name=t,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||s,a.getLevel=function(){return o},a.setLevel=function(n,r){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&l(n),c.call(a,n,t),typeof console===e&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(t){n=t,d()||a.setLevel(t,!1)},a.resetLevel=function(){a.setLevel(n,!1),f()},a.enableAll=function(t){a.setLevel(a.levels.TRACE,t)},a.disableAll=function(t){a.setLevel(a.levels.SILENT,t)};var h=d();null==h&&(h=n),a.setLevel(h,!1)}var d=new l,f={};d.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=f[t];return e||(e=f[t]=new l(t,d.getLevel(),d.methodFactory)),e};var h=typeof window!==e?window.log:void 0;return d.noConflict=function(){return typeof window!==e&&window.log===d&&(window.log=h),d},d.getLoggers=function(){return f},d.default=d,d},void 0===(i="function"==typeof r?r.call(e,n,e,t):r)||(t.exports=i)}()},90512:function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}e.Z=function(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}}}]);
//# sourceMappingURL=1590-f6f39523b99c6c7995aa.js.map